webpackJsonp([2],{"0NdG":function(n,e,l){var t,i,s,u;u=function(n){"use strict";n.__esModule=!0,n.sort=function(n,l,t,i){if(!Array.isArray(n))throw new TypeError("Can only sort arrays");l?"function"!=typeof l&&(i=t,t=l,l=u):l=u;t||(t=0);i||(i=n.length);var s=i-t;if(s<2)return;var r=0;if(s<e)return r=a(n,t,i,l),void o(n,t,i,t+r,l);var c=new _(n,l),g=function(n){var l=0;for(;n>=e;)l|=1&n,n>>=1;return n+l}(s);do{if((r=a(n,t,i,l))<g){var m=s;m>g&&(m=g),o(n,t,t+m,t+r,l),r=m}c.pushRun(t,r),c.mergeRuns(),s-=r,t+=r}while(0!==s);c.forceMergeRuns()};var e=32,l=7,t=256,i=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9];function s(n){return n<1e5?n<100?n<10?0:1:n<1e4?n<1e3?2:3:4:n<1e7?n<1e6?5:6:n<1e9?n<1e8?7:8:9}function u(n,e){if(n===e)return 0;if(~~n===n&&~~e===e){if(0===n||0===e)return n<e?-1:1;if(n<0||e<0){if(e>=0)return-1;if(n>=0)return 1;n=-n,e=-e}var l=s(n),t=s(e),u=0;return l<t?(n*=i[t-l-1],e/=10,u=-1):l>t&&(e*=i[l-t-1],n/=10,u=1),n===e?u:n<e?-1:1}var a=String(n),o=String(e);return a===o?0:a<o?-1:1}function a(n,e,l,t){var i=e+1;if(i===l)return 1;if(t(n[i++],n[e])<0){for(;i<l&&t(n[i],n[i-1])<0;)i++;!function(n,e,l){l--;for(;e<l;){var t=n[e];n[e++]=n[l],n[l--]=t}}(n,e,i)}else for(;i<l&&t(n[i],n[i-1])>=0;)i++;return i-e}function o(n,e,l,t,i){for(t===e&&t++;t<l;t++){for(var s=n[t],u=e,a=t;u<a;){var o=u+a>>>1;i(s,n[o])<0?a=o:u=o+1}var r=t-u;switch(r){case 3:n[u+3]=n[u+2];case 2:n[u+2]=n[u+1];case 1:n[u+1]=n[u];break;default:for(;r>0;)n[u+r]=n[u+r-1],r--}n[u]=s}}function r(n,e,l,t,i,s){var u=0,a=0,o=1;if(s(n,e[l+i])>0){for(a=t-i;o<a&&s(n,e[l+i+o])>0;)u=o,(o=1+(o<<1))<=0&&(o=a);o>a&&(o=a),u+=i,o+=i}else{for(a=i+1;o<a&&s(n,e[l+i-o])<=0;)u=o,(o=1+(o<<1))<=0&&(o=a);o>a&&(o=a);var r=u;u=i-o,o=i-r}for(u++;u<o;){var c=u+(o-u>>>1);s(n,e[l+c])>0?u=c+1:o=c}return o}function c(n,e,l,t,i,s){var u=0,a=0,o=1;if(s(n,e[l+i])<0){for(a=i+1;o<a&&s(n,e[l+i-o])<0;)u=o,(o=1+(o<<1))<=0&&(o=a);o>a&&(o=a);var r=u;u=i-o,o=i-r}else{for(a=t-i;o<a&&s(n,e[l+i+o])>=0;)u=o,(o=1+(o<<1))<=0&&(o=a);o>a&&(o=a),u+=i,o+=i}for(u++;u<o;){var c=u+(o-u>>>1);s(n,e[l+c])<0?o=c:u=c+1}return o}var _=function(){function n(e,i){!function(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),this.array=null,this.compare=null,this.minGallop=l,this.length=0,this.tmpStorageLength=t,this.stackLength=0,this.runStart=null,this.runLength=null,this.stackSize=0,this.array=e,this.compare=i,this.length=e.length,this.length<2*t&&(this.tmpStorageLength=this.length>>>1),this.tmp=new Array(this.tmpStorageLength),this.stackLength=this.length<120?5:this.length<1542?10:this.length<119151?19:40,this.runStart=new Array(this.stackLength),this.runLength=new Array(this.stackLength)}return n.prototype.pushRun=function(n,e){this.runStart[this.stackSize]=n,this.runLength[this.stackSize]=e,this.stackSize+=1},n.prototype.mergeRuns=function(){for(;this.stackSize>1;){var n=this.stackSize-2;if(n>=1&&this.runLength[n-1]<=this.runLength[n]+this.runLength[n+1]||n>=2&&this.runLength[n-2]<=this.runLength[n]+this.runLength[n-1])this.runLength[n-1]<this.runLength[n+1]&&n--;else if(this.runLength[n]>this.runLength[n+1])break;this.mergeAt(n)}},n.prototype.forceMergeRuns=function(){for(;this.stackSize>1;){var n=this.stackSize-2;n>0&&this.runLength[n-1]<this.runLength[n+1]&&n--,this.mergeAt(n)}},n.prototype.mergeAt=function(n){var e=this.compare,l=this.array,t=this.runStart[n],i=this.runLength[n],s=this.runStart[n+1],u=this.runLength[n+1];this.runLength[n]=i+u,n===this.stackSize-3&&(this.runStart[n+1]=this.runStart[n+2],this.runLength[n+1]=this.runLength[n+2]),this.stackSize--;var a=c(l[s],l,t,i,0,e);t+=a,0!==(i-=a)&&0!==(u=r(l[t+i-1],l,s,u,u-1,e))&&(i<=u?this.mergeLow(t,i,s,u):this.mergeHigh(t,i,s,u))},n.prototype.mergeLow=function(n,e,t,i){var s=this.compare,u=this.array,a=this.tmp,o=0;for(o=0;o<e;o++)a[o]=u[n+o];var _=0,g=t,m=n;if(u[m++]=u[g++],0!=--i)if(1!==e){for(var p=this.minGallop;;){var d=0,f=0,h=!1;do{if(s(u[g],a[_])<0){if(u[m++]=u[g++],f++,d=0,0==--i){h=!0;break}}else if(u[m++]=a[_++],d++,f=0,1==--e){h=!0;break}}while((d|f)<p);if(h)break;do{if(0!==(d=c(u[g],a,_,e,0,s))){for(o=0;o<d;o++)u[m+o]=a[_+o];if(m+=d,_+=d,(e-=d)<=1){h=!0;break}}if(u[m++]=u[g++],0==--i){h=!0;break}if(0!==(f=r(a[_],u,g,i,0,s))){for(o=0;o<f;o++)u[m+o]=u[g+o];if(m+=f,g+=f,0===(i-=f)){h=!0;break}}if(u[m++]=a[_++],1==--e){h=!0;break}p--}while(d>=l||f>=l);if(h)break;p<0&&(p=0),p+=2}if(this.minGallop=p,p<1&&(this.minGallop=1),1===e){for(o=0;o<i;o++)u[m+o]=u[g+o];u[m+i]=a[_]}else{if(0===e)throw new Error("mergeLow preconditions were not respected");for(o=0;o<e;o++)u[m+o]=a[_+o]}}else{for(o=0;o<i;o++)u[m+o]=u[g+o];u[m+i]=a[_]}else for(o=0;o<e;o++)u[m+o]=a[_+o]},n.prototype.mergeHigh=function(n,e,t,i){var s=this.compare,u=this.array,a=this.tmp,o=0;for(o=0;o<i;o++)a[o]=u[t+o];var _=n+e-1,g=i-1,m=t+i-1,p=0,d=0;if(u[m--]=u[_--],0!=--e)if(1!==i){for(var f=this.minGallop;;){var h=0,v=0,y=!1;do{if(s(a[g],u[_])<0){if(u[m--]=u[_--],h++,v=0,0==--e){y=!0;break}}else if(u[m--]=a[g--],v++,h=0,1==--i){y=!0;break}}while((h|v)<f);if(y)break;do{if(0!==(h=e-c(a[g],u,n,e,e-1,s))){for(e-=h,d=(m-=h)+1,p=(_-=h)+1,o=h-1;o>=0;o--)u[d+o]=u[p+o];if(0===e){y=!0;break}}if(u[m--]=a[g--],1==--i){y=!0;break}if(0!==(v=i-r(u[_],a,0,i,i-1,s))){for(i-=v,d=(m-=v)+1,p=(g-=v)+1,o=0;o<v;o++)u[d+o]=a[p+o];if(i<=1){y=!0;break}}if(u[m--]=u[_--],0==--e){y=!0;break}f--}while(h>=l||v>=l);if(y)break;f<0&&(f=0),f+=2}if(this.minGallop=f,f<1&&(this.minGallop=1),1===i){for(d=(m-=e)+1,p=(_-=e)+1,o=e-1;o>=0;o--)u[d+o]=u[p+o];u[m]=a[g]}else{if(0===i)throw new Error("mergeHigh preconditions were not respected");for(p=m-(i-1),o=0;o<i;o++)u[p+o]=a[o]}}else{for(d=(m-=e)+1,p=(_-=e)+1,o=e-1;o>=0;o--)u[d+o]=u[p+o];u[m]=a[g]}else for(p=m-(i-1),o=0;o<i;o++)u[p+o]=a[o]},n}()},i=[e],void 0===(s="function"==typeof(t=u)?t.apply(e,i):t)||(n.exports=s)},Rvfx:function(n,e,l){n.exports=l("0NdG")},"k+8m":function(n,e,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t,i,s,u=l("3j3K"),a=l("5QFO"),o=l("zCXK"),r=l("+KvB"),c=l("kZql"),_=l("5oXY"),g=l("8A5H"),m=l("p3n4"),p=!1,d=function(){function n(n,e,l,t,i,s){this.socketIoService=n,this.translate=e,this.commonService=l,this.cdRef=t,this.router=i,this.fuguWidgetService=s,this.MessageTypeEnum=o.i,this.caller_info={},this.video_call_obj={is_video_open:!1,is_video_caller:!1,video_offer_data:{},incoming_call_popup:!1,channel_id:null,channel_image:"",user_name:"",user_id:0,full_name:"",call_type:null},this.groupCallObj={is_video_open:!1,is_video_caller:!1,video_offer_data:{},incoming_call_popup:!1,channel_id:null,channel_image:"",user_name:"",user_id:0,full_name:"",call_type:null,transaction_id:""},this.VideoCallTypeEnum=o.q,this.alive=!0,this.translateSubscription=this.commonService.getComponentLanguage().subscribe(function(n){e.use(n)})}return n.prototype.ngOnInit=function(){var n=this;this.onWindowReceiveData(),this.socketIoService.chatNonReassignEvent.takeWhile(function(){return n.alive}).subscribe(function(e){switch(n.onVideoCallAssignEvent(e),e.message_type){case n.MessageTypeEnum.Video_Call:if(e.message_type&&e.message_type==o.i.Video_Call&&(e.video_call_type==o.q.START_CALL||e.video_call_type==o.q.START_CONFERENCE))return void(n.commonService.is_collapsed&&e.user_id!=n.commonService.userDetails.user_id&&(n.commonService.postMessageToParentWindow({type:"Expand",data:{}}),n.commonService.openAgentConversations.emit()));n.onVideoCallAssignEvent(e)}}),this.activeChannelIdMessageEventSubscription=this.socketIoService.activeChannelIdMessageEvent.subscribe(function(e){return n.onActiveChannelMessageEvent(e)}),this.setHungUpCallStorage(!1)},n.prototype.onActiveChannelMessageEvent=function(n){var e=this;if(n&&n.message_type==this.MessageTypeEnum.Video_Call&&this.commonService.userDetails&&n.user_id!=this.commonService.userDetails.user_id)switch(n.video_call_type){case o.q.HUNGUP_CONFERENCE:this.callingWindowRef&&this.caller_info&&n.invite_link==this.caller_info.invite_link&&setTimeout(function(){e.callingWindowRef.closed||(console.warn("close from outside!!"),e.callingWindowRef.close(),e.video_call_obj.is_video_open=!1,e.caller_info={})})}},n.prototype.onVideoCallAssignEvent=function(n){var e=this;if(!this.commonService.is_collapsed||n.video_call_type==this.VideoCallTypeEnum.CALL_HUNG_UP||n.video_call_type==this.VideoCallTypeEnum.CALL_REJECTED||n.video_call_type==this.VideoCallTypeEnum.HUNGUP_CONFERENCE||n.video_call_type==this.VideoCallTypeEnum.REJECT_CONFERENCE||n.video_call_type==this.VideoCallTypeEnum.VIDEO_ANSWER||n.video_call_type==this.VideoCallTypeEnum.ANSWER_CONFERENCE)if(n.user_id!=this.commonService.userDetails.user_id)switch(n.video_call_type){case this.VideoCallTypeEnum.START_CALL:p=!0,this.video_call_obj.incoming_call_popup||this.video_call_obj.is_video_open?n.muid!=this.caller_info.muid&&this.createVideoCallMessage(n.channel_id,{video_call_type:this.VideoCallTypeEnum.USER_BUSY,is_silent:!0,muid:n.muid},!0):(this.caller_info=n,this.createVideoCallMessage(n.channel_id,{video_call_type:this.VideoCallTypeEnum.READY_TO_CONNECT,muid:n.muid}),this.cdRef.detectChanges());break;case this.VideoCallTypeEnum.VIDEO_OFFER:p=!0,this.video_call_obj.incoming_call_popup||this.video_call_obj.is_video_open||this.groupCallObj.is_video_open||this.userBusyMuid&&n.muid==this.userBusyMuid||(this.onVideoCallReceived(n),this.video_call_obj.video_offer_data=n,this.video_call_obj.call_type=n.call_type||"AUDIO",clearTimeout(t),t=setTimeout(function(){e.video_call_obj.incoming_call_popup=!1,e.showVideoCallReceived=!1,e.cdRef.detectChanges()},6e4));break;case this.VideoCallTypeEnum.CALL_HUNG_UP:console.log(this.video_call_obj,this.caller_info),!this.video_call_obj.is_video_open&&this.video_call_obj.incoming_call_popup&&this.caller_info.muid==n.muid&&(clearTimeout(t),this.stopVideoCallRinger(),this.showVideoCallReceived=!1,this.playNotificationSound("assets/audio/disconnect_call",!1),this.video_call_obj.incoming_call_popup=!1,this.cdRef.detectChanges()),this.caller_info.muid==n.muid&&this.video_call_obj.is_video_open&&this.setHungUpCallStorage(!0);break;case o.q.START_CONFERENCE:p=!1,this.video_call_obj.incoming_call_popup||this.video_call_obj.is_video_open||this.groupCallObj.is_video_open?this.caller_info&&this.caller_info.invite_link!=n.invite_link&&this.createVideoCallMessage(n.channel_id,{video_call_type:o.q.USER_BUSY_CONFERENCE,is_silent:!0,invite_link:n.invite_link,jitsi_url:n.jitsi_url||"",muid:n.muid},!0):(this.caller_info=n,this.video_call_obj.channel_image=n&&n.user_thumbnail_image?n.user_thumbnail_image:"",this.video_call_obj.user_name=n.full_name,this.createVideoCallMessage(n.channel_id,{video_call_type:o.q.READY_TO_CONNECT_CONFERENCE,muid:n.muid,invite_link:n.invite_link,jitsi_url:n.jitsi_url||""}));break;case o.q.OFFER_CONFERENCE:p=!1,this.video_call_obj.incoming_call_popup||this.video_call_obj.is_video_open||n.is_screen_share||this.groupCallObj.is_video_open||this.userBusyMuid&&n.muid==this.userBusyMuid||this.answerRejectedMuid&&n.muid==this.answerRejectedMuid||(this.onVideoCallReceived(n),this.video_call_obj.video_offer_data=n,this.video_call_obj.call_type=n.call_type,clearTimeout(t),t=setTimeout(function(){e.video_call_obj.incoming_call_popup=!1,e.showVideoCallReceived=!1,e.cdRef.detectChanges()},6e4));break;case o.q.HUNGUP_CONFERENCE:p=!1,!this.video_call_obj.is_video_open&&this.video_call_obj.incoming_call_popup&&this.caller_info&&this.caller_info.invite_link==n.invite_link&&(clearTimeout(t),this.stopVideoCallRinger(),this.showVideoCallReceived=!1,this.playNotificationSound("assets/audio/disconnect_call",!1),this.video_call_obj.incoming_call_popup=!1,this.cdRef.detectChanges(),this.setHungUpCallStorage(!0),this.callingUrl="")}else switch(n.video_call_type){case this.VideoCallTypeEnum.CALL_HUNG_UP:!this.video_call_obj.is_video_open&&this.video_call_obj.incoming_call_popup&&this.caller_info.muid==n.muid&&(clearTimeout(t),this.showVideoCallReceived=!1,this.stopVideoCallRinger(),this.playNotificationSound("assets/audio/disconnect_call",!1),this.video_call_obj.incoming_call_popup=!1,this.cdRef.detectChanges());break;case this.VideoCallTypeEnum.CALL_REJECTED:!this.video_call_obj.is_video_open&&this.video_call_obj.incoming_call_popup&&(this.showVideoCallReceived=!1,clearTimeout(t),this.stopVideoCallRinger(),this.playNotificationSound("assets/audio/disconnect_call",!1),this.video_call_obj.incoming_call_popup=!1,this.cdRef.detectChanges());break;case o.q.HUNGUP_CONFERENCE:p=!1,!this.video_call_obj.is_video_open&&this.video_call_obj.incoming_call_popup&&(clearTimeout(t),clearTimeout(t),this.stopVideoCallRinger(),this.showVideoCallReceived=!1,this.playNotificationSound("assets/audio/disconnect_call",!1),this.video_call_obj.incoming_call_popup=!1,this.cdRef.detectChanges(),this.callingUrl="");break;case this.VideoCallTypeEnum.USER_BUSY:case this.VideoCallTypeEnum.USER_BUSY_CONFERENCE:!this.video_call_obj.is_video_open&&this.video_call_obj.incoming_call_popup&&this.caller_info.muid==n.muid&&(this.userBusyMuid=n.muid,clearTimeout(t),this.video_call_obj.incoming_call_popup=!1,this.hideVideoCallPopup());break;case o.q.REJECT_CONFERENCE:p=!1,console.warn("REJECT_CONFERENCE"),clearTimeout(t),this.stopVideoCallRinger(),this.showVideoCallReceived=!1,this.playNotificationSound("assets/audio/disconnect_call",!1),this.video_call_obj.incoming_call_popup=!1,this.cdRef.detectChanges(),this.callingUrl="",this.answerRejectedMuid=n.muid,n.user_id==this.commonService.userDetails.user_id&&(this.video_call_obj.is_video_open||(clearTimeout(t),this.stopVideoCallRinger(),this.showVideoCallReceived=!1,this.playNotificationSound("assets/audio/disconnect_call",!1),this.video_call_obj.incoming_call_popup=!1,this.cdRef.detectChanges(),this.callingUrl=""));break;case o.q.ANSWER_CONFERENCE:n.user_id==this.commonService.userDetails.user_id&&n.device_id&&localStorage.getItem("device_uuid")&&n.device_id!=localStorage.getItem("device_uuid")&&(p=!1,this.answerRejectedMuid=n.muid,clearTimeout(t),this.stopVideoCallRinger(),this.showVideoCallReceived=!1,this.playNotificationSound("assets/audio/disconnect_call",!1),this.video_call_obj.incoming_call_popup=!1,this.cdRef.detectChanges(),this.callingUrl="");break;case o.q.VIDEO_ANSWER:n.user_id==this.commonService.userDetails.user_id&&n.device_id&&localStorage.getItem("device_uuid")&&n.device_id!=localStorage.getItem("device_uuid")&&(p=!0,clearTimeout(t),this.stopVideoCallRinger(),this.showVideoCallReceived=!1,this.playNotificationSound("assets/audio/disconnect_call",!1),this.video_call_obj.incoming_call_popup=!1,this.cdRef.detectChanges(),this.callingUrl="")}},n.prototype.hideVideoCallPopup=function(){clearTimeout(t),this.showVideoCallReceived=!1,this.stopVideoCallRinger(),this.playNotificationSound("assets/audio/disconnect_call",!1),this.video_call_obj.incoming_call_popup=!1,this.cdRef.detectChanges()},n.prototype.stopVideoCallRinger=function(){var n=document.getElementById("sound-div");n&&(n.src="")},n.prototype.acceptVideoCall=function(){var n=this;try{this.answerRejectedMuid=this.video_call_obj.video_offer_data.muid}catch(n){console.log(n)}this.setHungUpCallStorage(!1),this.stopVideoCallRinger(),this.showVideoCallReceived=!1,this.video_call_obj.incoming_call_popup=!1,this.video_call_obj.is_video_caller=!1,this.video_call_obj.is_video_open=!0,this.video_call_obj.device_id=localStorage.getItem("device_uuid");var e="#/newcall";p&&(e="#/call");var l=window.open(e,"_blank","toolbar=no,scrollbars=yes,resizable=yes,location=no,top=100,left=250,width=800,height=600");l.call_data=this.video_call_obj,l.document&&(l.document.title=this.translate.instant("Chat.call")),l.user_data={name:this.commonService.userDetails.full_name||"",email:this.commonService.userDetails.email||"",image:this.commonService.userDetails.user_image||"",jitsiUrl:this.commonService.jitsiUrl||""},l.app_data={userDetails:this.commonService.userDetails,jitsiUrl:this.commonService.jitsiUrl||"",deviceId:this.commonService.f_uid_Id},this.callingWindowRef=l;try{this.callingWindowRef.onbeforeunload=function(e){c.a.production||console.warn("calling Window closed!!",e),n.video_call_obj.is_video_open=!1,n.caller_info={}}}catch(n){console.warn(n)}this.cdRef.detectChanges()},n.prototype.rejectVideoCall=function(){this.createVideoCallMessage(this.caller_info.channel_id,{video_call_type:p?o.q.CALL_REJECTED:o.q.REJECT_CONFERENCE,muid:this.video_call_obj.video_offer_data.muid,invite_link:this.caller_info.invite_link}),this.answerRejectedMuid=this.video_call_obj.video_offer_data.muid,this.stopVideoCallRinger(),this.video_call_obj.incoming_call_popup=!1,this.caller_info={},this.showVideoCallReceived=!1,this.cdRef.detectChanges()},n.prototype.onVideoCallReceived=function(n){this.video_call_obj.incoming_call_popup=!0,this.video_call_obj.channel_id=n.channel_id,this.video_call_obj.user_id=this.commonService.userDetails.user_id,this.video_call_obj.full_name=this.commonService.userDetails.full_name,this.playNotificationSound("assets/audio/video_call_ringtone",!0),this.showVideoCallReceived=!0,this.cdRef.detectChanges()},n.prototype.createVideoCallMessage=function(n,e,l){var t=moment().utc().format();t=t.replace("Z",".000Z");var i={full_name:this.commonService.userDetails.full_name,user_id:this.commonService.userDetails.user_id,date_time:t,message:"",is_typing:o.o.Typing_End,message_type:o.i.Video_Call,user_type:o.p.Customer,message_status:o.h.Sending,user_thumbnail_image:this.commonService.userDetails.user_image||"",is_silent:p?e.video_call_type!=o.q.START_CALL:e.video_call_type!=o.q.START_CONFERENCE,device_id:localStorage.getItem("device_uuid")};this.socketIoService.publishOnChannel(n,Object.assign(i,e)),l&&this.commonService.userDetails&&this.commonService.userDetails.user_channel&&this.socketIoService.publishOnChannel(this.commonService.userDetails.user_channel,Object.assign({server_push:!0},i,e))},n.prototype.playNotificationSound=function(n,e){document.getElementById("video-sound").innerHTML='<audio id="sound-div" autoplay="autoplay"><source src="'+n+'.mp3" type="audio/mpeg" /><source src="'+n+'.ogg" type="audio/ogg" /><embed hidden="true" autostart="true" loop="false" src="'+n+'.mp3" /></audio>',document.getElementById("sound-div").loop=e},n.prototype.onWindowReceiveData=function(){var n=this;window.addEventListener("message",function(e){switch(e.data.type){case"video-call":n.video_call_obj.is_video_open=e.data.data.is_video_open,n.caller_info={};break;case"paymentRequest":n.commonService.newPostMessageReceived.emit(e.data.data)}})},n.prototype.convertGetRequestParams=function(n){var e="";for(var l in n)""==e&&(e+="?"),"undefined"!=typeof n[l]&&("object"==typeof n[l]?e+=l+"="+JSON.stringify(n[l])+"&":e+=l+"="+n[l]+"&");return e.substring(0,e.length-1)},n.prototype.setHungUpCallStorage=function(n){try{localStorage.setItem("hungupcallevent",n?"1":"0")}catch(n){}},n.prototype.ngOnDestroy=function(){this.activeChannelIdMessageEventSubscription&&this.activeChannelIdMessageEventSubscription.unsubscribe(),this.translateSubscription.unsubscribe()},n.prototype.declineNotifications=function(){this.commonService.showNotificationsConfirmation=!1;try{localStorage.setItem("denyNotifications","1")}catch(n){console.warn(n)}},n.prototype.openPermissionFrame=function(){this.commonService.showNotificationsConfirmation=!1,this.commonService.showNotificationsConfirmationEvent.emit(!0)},n.ctorParameters=function(){return[{type:a.a},{type:g.b},{type:r.a},{type:u.i},{type:_.k},{type:m.a}]},n}(),f=l("Gvdl"),h=this&&this.__assign||Object.assign||function(n){for(var e,l=1,t=arguments.length;l<t;l++)for(var i in e=arguments[l])Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n},v="This message has been deleted",y="deleted this message",b=function(){function n(n,e,l,t,s,u,a){var r=this;this.commonService=n,this.fuguWidgetService=e,this.router=l,this.socketIoService=t,this.translate=s,this.changeDetectorRef=u,this.route=a,this.showTopLoader=!1,this.alive=!0,this.conversations={},this.showLoader=!1,this.MessageTypeEnum=o.i,this.UserTypeEnum=o.p,this.MessageStatusEnum=o.h,this.MessageStateTypes=o.g,this.MessageStateEnum=o.f,this.messageSubTypeEnum=o.r,this.ChatTypeEnum=o.c,this.scrollSubject=new f.Subject,this.pageStart=1,this.pageSize=20,this.conv_end_bool=!1,this.closedFromChat=!1,this.firstHit=!1,this.SWIPE_ACTION={LEFT:"swipeleft",RIGHT:"swiperight"},this.pos=0,this.newIssue=0,this.x=-1,this.y=-1,this.isScrollServiceCallActive=!1,this.errorMessage="Please try again.",this.showErrorMessage=!1,this.route.params.subscribe(function(n){n&&n.closedFromChat?r.closedFromChat=!0:r.closedFromChat=!1}),i&&clearTimeout(i),this.initScroll(),i=setTimeout(function(){r.commonService.showNotificationsConfirmationTrigger=!0},3e3),this.translateSubscription=this.commonService.getComponentLanguage().subscribe(function(n){s.use(n),setTimeout(function(){r.parseDeletedMessage()})}),setTimeout(function(){r.parseDeletedMessage()}),this.translate.get("Conversation.try_again").subscribe(function(n){n&&(r.errorMessage=n)})}return n.prototype.ngOnInit=function(){var n=this;this.showLoader=!0,this.fuguWidgetService.fuguWidgetData&&"1"==this.fuguWidgetService.fuguWidgetData.show_agent_support_only&&(this.commonService.selectedChatType=this.ChatTypeEnum.AgentSupport),!this.closedFromChat&&this.commonService.userDetails.access_token&&this.getConversations(),this.customerChatSub=this.commonService.customerChatClicked.subscribe(function(){n.openCustomerChats()}),this.agentChatSub=this.commonService.openAgentConversations.subscribe(function(){n.openAgentChats()}),this.socketIoService.chatNonReassignEvent.takeWhile(function(){return n.alive}).subscribe(function(e){return n.onChatNonReassignEvent(e)}),window.conv=this,this.translate.get("Conversation.try_again").subscribe(function(e){e&&(n.errorMessage=e)})},n.prototype.openCustomerChats=function(){var n=this;this.showLoader=!0,this.conversations={},this.pageSize=20,this.pageStart=1,this.conv_end_bool=!1,this.firstHit=!1,this.commonService.isCustomerChat=!0,this.commonService.selectedChatType=o.c.other,setTimeout(function(){n.activeChatsContainer.nativeElement.scrollTop=0},100),this.fuguWidgetService.fuguWidgetData.customer_info=this.fuguWidgetService.fuguWidgetData.customer_info?this.fuguWidgetService.fuguWidgetData.customer_info:{},this.fuguWidgetService.fuguWidgetData.is_fork?this.fuguWidgetService.putUserDetails(this.commonService.putUserDataForCustomer()).takeWhile(function(){return n.alive}).subscribe(function(e){n.showErrorMessage=!1,n.commonService.userDetails.customer_id=e.data.user_id,n.commonService.userDetails.searched_full_name=e.data.full_name,n.getConversations()},function(e){n.showLoader=!1,n.showErrorMessage=!0}):this.fuguWidgetService.putUserDetailsReseller(this.commonService.putUserDataForCustomer(),!0).takeWhile(function(){return n.alive}).subscribe(function(e){n.showErrorMessage=!1,n.commonService.userDetails.customer_id=e.data.user_id,n.commonService.userDetails.searched_full_name=e.data.full_name,n.getConversations()},function(e){n.showLoader=!1,n.showErrorMessage=!0})},n.prototype.openAgentChats=function(){var n=this;this.showLoader=!0,this.conversations={},this.pageSize=20,this.pageStart=1,this.conv_end_bool=!1,this.firstHit=!1,this.commonService.isCustomerChat=!1,setTimeout(function(){n.activeChatsContainer.nativeElement.scrollTop=0},100),this.fuguWidgetService.fuguWidgetData&&"1"==this.fuguWidgetService.fuguWidgetData.show_agent_support_only&&(this.commonService.selectedChatType=this.ChatTypeEnum.AgentSupport),this.getConversations()},n.prototype.getConversations=function(){var n,e=this;n=this.commonService.isCustomerChat?this.commonService.userDetails.customer_id:"",this.showLoader=!0,this.showTopLoader=!0,this.commonService.isCustomerChat&&(this.fuguWidgetService.conversationDetails={}),this.commonService.selectedChatType!=this.ChatTypeEnum.AgentSupport?this.fuguWidgetService.getConversationsCached(this.commonService.userDetails.access_token,this.commonService.userDetails.en_user_id,n,1!=this.pageStart?this.pageStart-1:this.pageStart,this.pageSize,this.commonService.selectedChatType).subscribe(function(l){e.showErrorMessage=!1,e.showLoader=!1;try{(l.updateMode||l.initialMode)&&(e.showTopLoader=!1),e.pageSize=l.data.page_size;var t=l.data.conversation_list;t.length||(e.conv_end_bool=!0);if(t&&t.length){for(var i=0;i<t.length;i++)e.updateDeletedMessageOnChannel(t[i]),e.commonService.translateActivityMessage(t[i],e.translate),t[i].unique_id=t[i].channel_id,t[i].date_time=t[i].last_updated_at,e.conversations[t[i].channel_id]=t[i],i>0&&t[i].unread_count&&t[i].unread_count;e.conversations=h({},e.conversations),1==t.length?(e.commonService.isCustomerChat&&(e.commonService.showBackButton=!1),e.commonService.recalculateUnreadCount(t[0].channel_id),e.commonService.channelData=t[0],(l.updateMode||l.initialMode)&&e.commonService.isCustomerChat&&e.router.navigate(["chat/"+t[0].channel_id])):t.length>1&&(e.commonService.showBackButton=!0)}e.firstHit=!0,0==Object.keys(e.conversations).length&&(l.updateMode||l.initialMode)&&e.commonService.isCustomerChat&&(e.commonService.channelData={},e.router.navigate(["/chat/-1"],{queryParams:{customer_id:n}}))}catch(n){console.log(n)}finally{e.showLoader=!1}},function(n){n=n.json(),console.log(n),e.showLoader=!1,e.showTopLoader=!1,e.showErrorMessage=!0}):this.fuguWidgetService.getSupportChannelCached(this.commonService.userDetails.access_token,1!=this.pageStart?this.pageStart-1:this.pageStart,this.pageSize,this.commonService.selectedChatType).subscribe(function(l){e.showErrorMessage=!1,e.showLoader=!1;try{(l.updateMode||l.initialMode)&&(e.showTopLoader=!1),e.pageSize=l.data.page_size;var t=l.data.conversation_list;t.length||(e.conv_end_bool=!0);if(t&&t.length){for(var i=0;i<t.length;i++)e.updateDeletedMessageOnChannel(t[i]),e.commonService.translateActivityMessage(t[i],e.translate),t[i].unique_id=t[i].channel_id,t[i].date_time=t[i].last_updated_at,e.conversations[t[i].channel_id]=t[i],i>0&&t[i].unread_count&&t[i].unread_count;e.conversations=h({},e.conversations),1==t.length?(e.commonService.isCustomerChat&&(e.commonService.showBackButton=!1),e.commonService.recalculateUnreadCount(t[0].channel_id),e.commonService.channelData=t[0],(l.updateMode||l.initialMode)&&e.commonService.isCustomerChat&&e.router.navigate(["chat/"+t[0].channel_id])):t.length>1&&(e.commonService.showBackButton=!0)}e.firstHit=!0,0==Object.keys(e.conversations).length&&(l.updateMode||l.initialMode)&&e.commonService.isCustomerChat&&(e.commonService.channelData={},e.router.navigate(["/chat/-1"],{queryParams:{customer_id:n}}))}catch(n){console.log(n)}finally{e.showLoader=!1}},function(n){n=n.json(),console.log(n),e.showLoader=!1,e.showTopLoader=!1,e.showErrorMessage=!0})},n.prototype.changeConversation=function(n){var e=this;this.commonService.selectedChatType=n,this.conversations={},this.pageSize=20,this.pageStart=1,this.conv_end_bool=!1,this.firstHit=!1,setTimeout(function(){e.activeChatsContainer.nativeElement.scrollTop=0},100),this.getConversations()},n.prototype.scrollServiceCall=function(){var n,e=this;this.isScrollServiceCallActive=!0,this.showLoader=!0,n=this.commonService.isCustomerChat?this.commonService.userDetails.customer_id:"",this.commonService.isConversationsLoading=!0,this.fuguWidgetService.getConversations(this.commonService.userDetails.access_token,this.commonService.userDetails.en_user_id,n,1!=this.pageStart?this.pageStart-1:this.pageStart,this.pageSize,this.commonService.selectedChatType).takeWhile(function(){return e.alive}).subscribe(function(n){try{e.pageSize=n.data.page_size;var l=n.data.conversation_list;l.length||(e.conv_end_bool=!0);if(l&&l.length){for(var t=0;t<l.length;t++)e.updateDeletedMessageOnChannel(l[t]),l[t].unique_id=l[t].channel_id,l[t].date_time=l[t].last_updated_at,e.conversations[l[t].channel_id]=l[t],t>0&&l[t].unread_count&&l[t].unread_count;e.conversations=h({},e.conversations)}e.isScrollServiceCallActive=!1,e.commonService.isConversationsLoading=!1}catch(n){console.log(n)}e.showLoader=!1},function(n){e.showLoader=!1,e.isScrollServiceCallActive=!1,e.commonService.isConversationsLoading=!1})},n.prototype.scrollServiceCallForSupportChats=function(){var n=this;this.isScrollServiceCallActive=!0,this.showLoader=!0,this.commonService.isCustomerChat&&this.commonService.userDetails.customer_id,this.commonService.isConversationsLoading=!0,this.fuguWidgetService.getSupportChannel(this.commonService.userDetails.access_token,1!=this.pageStart?this.pageStart-1:this.pageStart,this.pageSize,this.commonService.selectedChatType).takeWhile(function(){return n.alive}).subscribe(function(e){try{n.pageSize=e.data.page_size;var l=e.data.conversation_list;l.length||(n.conv_end_bool=!0);if(l&&l.length){for(var t=0;t<l.length;t++)n.updateDeletedMessageOnChannel(l[t]),l[t].unique_id=l[t].channel_id,l[t].date_time=l[t].last_updated_at,n.conversations[l[t].channel_id]=l[t],t>0&&l[t].unread_count&&l[t].unread_count;n.conversations=h({},n.conversations)}n.isScrollServiceCallActive=!1,n.commonService.isConversationsLoading=!1}catch(n){console.log(n)}n.showLoader=!1},function(e){n.showLoader=!1,n.isScrollServiceCallActive=!1,n.commonService.isConversationsLoading=!1})},n.prototype.onScroll=function(n){this.commonService.isConversationsLoading||this.scrollSubject.next(n)},n.prototype.initScroll=function(){var n=this;this.scrollServiceSubject=this.scrollSubject.debounceTime(100).subscribe(function(e){e&&e.target&&(e.target.scrollTop+e.target.clientHeight)/e.target.scrollHeight>=.9&&!n.conv_end_bool&&n.firstHit&&!n.isScrollServiceCallActive&&(n.pageStart+=n.pageSize,n.commonService.selectedChatType!=n.ChatTypeEnum.AgentSupport?n.scrollServiceCall():n.scrollServiceCallForSupportChats())})},n.prototype.oncrossClick=function(){this.commonService.postMessageToParentWindow({type:"Collapse",data:{}})},n.prototype.disableScroll=function(n,e){n.deltaY<=0&&0==e.scrollTop?(n.stopPropagation(),n.preventDefault(),this.pos=0,this.newIssue=0):n.deltaY>=0&&e.scrollTop==e.scrollHeight-e.offsetHeight&&(n.stopPropagation(),n.preventDefault(),this.pos=0,this.newIssue=0)},n.prototype.touchDirection=function(n,e){var l=n.e;"up"==n.direction&&0==e.scrollTop?(l.stopPropagation(),l.preventDefault(),this.pos=0,this.newIssue=0):"down"==n.direction&&e.scrollTop==e.scrollHeight-e.offsetHeight&&(l.stopPropagation(),l.preventDefault(),this.pos=0,this.newIssue=0)},n.prototype.onTouchEnd=function(n,e){},n.prototype.onChatNonReassignEvent=function(n){if((this.commonService.selectedChatType!=o.c.other||n.channel_type==o.b.DEFAULT||n.chat_type!=o.c.p2p&&n.chat_type!=o.c.AdminToAdmin)&&(this.commonService.selectedChatType!=o.c.p2p||n.channel_type==o.b.DEFAULT||n.chat_type!=o.c.AdminToAdmin&&n.chat_type!=o.c.other)&&!(this.commonService.selectedChatType==o.c.AdminToAdmin&&n.channel_type!=o.b.DEFAULT&&(n.chat_type==o.c.p2p||n.chat_type==o.c.other||n.chat_type==o.c.AdminToAdmin&&n.channel_type==o.b.AGENT_SUPPORT)||this.commonService.selectedChatType==o.c.AgentSupport&&n.channel_type!=o.b.AGENT_SUPPORT&&(n.chat_type==o.c.p2p||n.chat_type==o.c.other||n.chat_type==o.c.AdminToAdmin)||this.commonService.selectedChatType==o.c.AgentSupport&&n.notification_type==o.j.Channel_Refresh))if(this.commonService.translateActivityMessage(n,this.translate),n&&n.notification_type==o.j.MODIFY_MESSAGE)n.channel_id&&this.conversations[n.channel_id]&&(this.updateEditedChannel(n),n.date_time&&(this.conversations[n.channel_id].last_updated_at=n.date_time));else{if(n.notification_type==o.j.Read_All)return this.commonService.recalculateUnreadCount(n.channel_id),void(this.conversations[n.channel_id]&&(this.conversations[n.channel_id].is_new_count=0,this.conversations[n.channel_id].unread_count=0,this.changeDetectorRef.detectChanges()));if(n.message_type!=o.i.Video_Call&&n.message_type!=o.i.GROUP_CALL&&![o.j.INRIDE_STATUS,o.j.User_Online_Status,o.j.CHANNEL_REFRESH_AGENT].includes(n.notification_type)&&(!n||void 0==n.is_my_chat||n.is_my_chat)){n.last_updated_at||(n.last_updated_at=n.date_time),void 0!==n.message_state&&null!==n.message_state||(n.message_state=o.f.MESSAGE);var e=n.channel_id,l=n.user_unique_key;n.agent_id&&"string"==typeof n.agent_id&&(n.agent_id=parseInt(n.agent_id)),n.agent_id&&null==n.agent_id&&(n.agent_id=n.assigned_to),n&&!n.agent_name&&n.assigned_to_name&&(n.agent_name=n.assigned_to_name),n.status=1,n.last_updated_at=n.date_time,n.unique_id=e,this.conversations[e]?(n.unread_count=this.conversations[e].unread_count?this.conversations[e].unread_count+1:1,this.conversations[e]=n):this.commonService.isCustomerChat||(n.unread_count=1,this.conversations[e]=n),n.last_sent_by_id==this.commonService.userDetails.user_id?n.unread_count=0:(this.commonService.playNotificationSound("https://s3.amazonaws.com/circlein/fugu_bot/beep"),this.commonService.updateAndEmitUnreadCountOnFaye(e,l)),this.conversations=h({},this.conversations),this.changeDetectorRef.detectChanges()}}},n.prototype.newConversation=function(){this.commonService.channelData={},this.router.navigate(["chat/-1"],{queryParams:{label_id:-1},skipLocationChange:!0})},n.prototype.channelAcronym=function(n){if(n){var e=n.trim().split(" ");return e[0][0]+(e[1]?e[1][0]:"")}return""},n.prototype.onConversationClick=function(n){var e;this.conversations[n].label_id,e=+this.conversations[n].channel_id,this.conversations[n].message,this.commonService.recalculateUnreadCount(e),this.commonService.channelData=this.conversations[n],this.router.navigate(["chat/"+e])},n.prototype.onAnnouncementClick=function(){this.router.navigate(["announcements"])},n.prototype.onswipedown=function(n,e){0==n.scrollTop&&(e.srcEvent.stopPropagation(),e.preventDefault(),this.pos=0,this.newIssue=0)},n.prototype.onswipeup=function(n,e){n.scrollTop==n.scrollHeight-n.offsetHeight&&(e.srcEvent.stopPropagation(),e.preventDefault(),this.pos=0,this.newIssue=0)},n.prototype.ngOnDestroy=function(){this.customerChatSub.unsubscribe(),this.agentChatSub.unsubscribe(),this.unbindEvent(),this.alive=!1,this.commonService.showNotificationsConfirmationTrigger=!1,this.translateSubscription.unsubscribe(),this.conversationsSubscription&&this.conversationsSubscription.unsubscribe()},n.prototype.onTouchStart=function(n){this.lastY=n.touches?n.touches[0].pageY:n.pageY},n.prototype.onTouchMove=function(n,e){var l=n.touches?n.touches[0].pageY:n.pageY;Math.abs(l-this.lastY)<15||(l>this.lastY?(this.direction="down",0==e.scrollTop?(n.stopPropagation(),n.preventDefault(),this.bindEvent(),this.pos=0,this.newIssue=0):this.unbindEvent()):(this.direction="up",e.scrollTop==e.scrollHeight-e.offsetHeight?(n.stopPropagation(),n.preventDefault(),this.pos=0,this.newIssue=0,n.stopImmediatePropagation(),this.bindEvent()):this.unbindEvent()))},n.prototype.bindEvent=function(){document.body.addEventListener("touchmove",this.fn)},n.prototype.fn=function(n){n.preventDefault()},n.prototype.unbindEvent=function(){document.body.removeEventListener("touchmove",this.fn)},n.prototype.updateDeletedMessageOnChannel=function(n){if(n)switch(n.message_state){case this.MessageStateEnum.DELETED:n.last_sent_by_id==this.commonService.userDetails.user_id?n.message=this.translate.instant("Conversation.you")+" "+this.translate.instant("Conversation.deletedThisMessage"):n.last_sent_by_full_name?n.message=n.last_sent_by_full_name+" "+y:n.message=v}},n.prototype.updateEditedChannel=function(n){switch(n.status){case o.n.DELETE:n.user_id==this.commonService.userDetails.user_id?n.message=this.translate.instant("Conversation.you")+" "+y:n.full_name?n.message=n.full_name+" "+y:n.message=v,n.channel_id&&this.conversations[n.channel_id]&&(this.conversations[n.channel_id]=h({},Object.assign(this.conversations[n.channel_id],{message_state:o.f.DELETED,message:n.message})));break;case o.n.EDIT:n.channel_id&&this.conversations[n.channel_id]&&(this.conversations[n.channel_id]=h({},Object.assign(this.conversations[n.channel_id],{message_state:o.f.EDITED,message:n.edited_message||n.message||this.conversations[n.channel_id]&&this.conversations[n.channel_id].message})))}},n.prototype.parseDeletedMessage=function(){this.translate.get("Conversation.thisMessageHasBeenDeleted").subscribe(function(n){n&&(v=n)}),this.translate.get("Conversation.deletedThisMessage").subscribe(function(n){n&&(y=n)})},n.ctorParameters=function(){return[{type:r.a},{type:m.a},{type:_.k},{type:a.a},{type:g.b},{type:u.i},{type:_.a}]},n}(),x=l("2CBl"),C=l("XBTN"),k={AUDIO:"AUDIO",VIDEO:"VIDEO"},M=/((\+\d{1,3}(-| )?\(?\d\)?(-| )?\d{1,5})|(\(?\d{2,6}\)?))(-| )?(\d{3,4})(-| )?(\d{4})(( x| ext)\d{1,5}){0,1}/,w=/(([^<>()\[\]\.,;:\s@\"]+(\.[^<>()\[\]\.,;:\s@\"]+)*)|(\".+\"))@(([^<>()[\]\.,;:\s@\"]+\.)+[^<>()[\]\.,;:\s@\"]{2,})/i,S=/([a-z0-9]+\.)*[a-z0-9]+\.[a-z]+/,I="This message has been deleted",E="deleted this message",T=function(){function n(n,e,l,t,i,u,a,r,c,_){var g=this;this.router=n,this.activatedRoute=e,this.translate=l,this.commonService=t,this.fuguWidgetService=i,this.socketIoService=u,this.ngZone=a,this.layoutService=r,this.messageService=c,this.cdRef=_,this.video_call_obj={call_type:null,is_video_open:!1,is_video_caller:!1,video_offer_data:{},incoming_call_popup:!1,channel_id:null,channel_image:"",user_name:"",currentLanguage:"en"},this.VideoCallTypeEnum=o.q,this.MessageTypeEnum=o.i,this.UserTypeEnum=o.p,this.MessageStatusEnum=o.h,this.ChatTypeEnum=o.c,this.TaskStatusEnum=o.n,this.MessageStateEnum=o.f,this.editMessageMode=!1,this.editMessageItem={},this.editMessageValue="",this.editContentEditableID="textarea-send-edited-message",this.alive=!0,this.activeChannelId=-1,this.messages=[],this.prevMessagesToSend=[],this.labelHeader="",this.errorMessage="",this.showLoader=!1,this.last_customer_time_index=0,this.last_agent_time_index=0,this.labelId=-1,this.customerId=-1,this.isUserTyping=!1,this.isAgentTyping=!1,this.isAgentTypingName="",this.isSocketConnected=!0,this.messageToSend="",this.hideBackBtn=!1,this.pos=0,this.newIssue=0,this.businessNameToReplace="JungleWorks",this.backgroundList=["url('assets/img/texture.png')","url('assets/img/texture-plane.png')","url('assets/img/texture-plane-white.png')"],this.alignmentList=["left","center","right"],this.userType=o.p,this.showButtonMessage=!1,this.isBotReply=0,this.componentInitialize=!1,this.messages_dictionary={},this.access_token="",this.buttonFields={},this.IntegrationTypeEnum=o.e,this.pageIndex=1,this.pageSize=0,this.fetchingOnScrollMessages=!1,this.isAllMessagesFetched=!1,this.file_uploading_text=!1,this.mediaPlayerObject={is_open:!1,message_data:{}},this.dropup_open=!1,this.showFloatingBtn=!1,this.showFloatingBtnLength=0,this.replyDisabled=!1,this.allow_audio_call=!1,this.allow_video_call=!1,this.showChatLoading=!1,this.hideEditAction=!1,this.RTCCallTypeEnum=k,this.setHungUpCallStorage(!1),s&&clearTimeout(s),s=setTimeout(function(){g.commonService.showNotificationsConfirmationTrigger=!0},3e3),this.video_call_obj.currentLanguage=this.fuguWidgetService.getCurrentLanguage(),this.translateSubscription=this.commonService.getComponentLanguage().subscribe(function(n){l.use(n),g.video_call_obj.currentLanguage=n,setTimeout(function(){g.parseDeletedMessage()})}),setTimeout(function(){g.parseDeletedMessage()})}return n.prototype.ngOnInit=function(){var n=this;window.chat=this,this.commonService.newPostMessageReceived.takeWhile(function(){return n.alive}).subscribe(function(e){n.createFayePaymentRequest(e)}),this.uuidv4=l("DtRx"),this.access_token=this.fuguWidgetService.fuguWidgetData.access_token,this.touchdevice="ontouchstart"in document.documentElement,this.labelHeader=this.commonService.userDetails.searched_full_name||this.commonService.userDetails.business_name;var e=Number(this.commonService.configData["background-color-theme"])||0,t=Number(this.commonService.configData["typing-allignment"])||0;document.documentElement.style.setProperty("--background-url",this.backgroundList[e<this.backgroundList.length&&e>=0?e:0]),document.documentElement.style.setProperty("--align-typing",this.alignmentList[t<this.alignmentList.length&&t>=0?t:0]),this.activatedRoute.params.subscribe(function(e){var l=+e.channelId||-1;if(n.activatedRoute.queryParams.subscribe(function(e){n.conv_transaction_id=+e.transaction_id||""}),n.hideBackBtn=!0,-10==l)n.showLoader=!0;else if(l<0)console.log("invalid channel id"),n.activatedRoute.queryParams.subscribe(function(e){n.customerId=+e.customer_id||-1,n.labelId=+e.label_id||-1,n.default_message=e.default_message||"",n.default_message&&n.appendDefaultMessage()});else{n.activeChannelId=l,n.layoutService.active_channel_object={channel_id:n.activeChannelId},n.setupActiveChannelSubscription(),n.showLoader=!0;var t=!1,i=!1;n.activatedRoute.queryParams.subscribe(function(e){n.customerId=+e.customer_id||-1,t=!!e.publish_message,i=!!e.publish_once}),n.refreshData(l,t,i)}}),this.layoutService.uploadImageEmitter.takeWhile(function(){return n.alive}).subscribe(function(e){e&&(e.index=n.messages.length?n.messages.length-1:0,n.appendMessage(e,!0),-1!=n.activeChannelId&&n.postMessageThroughFaye(e))}),this.layoutService.uploadingTextEmitter.takeWhile(function(){return n.alive}).subscribe(function(e){"undefined"!=typeof e&&(n.file_uploading_text=e,setTimeout(function(){n.scrollToBottom()},0))}),this.socketIoService.removeMessageEvent.takeWhile(function(){return n.alive}).subscribe(function(e){return n.removeMessageEvent(e)})},n.prototype.savePrevMessagesToSend=function(){this.prevMessagesToSend=[];for(var n=this.messages.length-1;n>=0&&this.messages[n].message_status==this.MessageStatusEnum.Sending;n--)this.prevMessagesToSend.push(this.messages[n])},n.prototype.sendPrevMessages=function(){for(var n=this.prevMessagesToSend.length-1;n>=0&&this.prevMessagesToSend[n].message_status==this.MessageStatusEnum.Sending;n--)this.messageToSend=this.prevMessagesToSend[n].message,this.onSendClick();this.prevMessagesToSend=[]},n.prototype.refreshData=function(n,e,l,t){var i=this;if(void 0===t&&(t=1),this.savePrevMessagesToSend(),!(n<0)){this.messageSub&&(this.messageSub.unsubscribe(),this.showLoader=!1,this.showChatLoading=!1),this.showLoader=!0,1==t&&(this.messages=[]);var s={channelId:n,page_start:t,user_id:this.commonService.userDetails.en_user_id,access_token:this.commonService.userDetails.access_token};this.showChatLoading=!0,this.messageSub=this.fuguWidgetService.getMessagesWithCaching(n,this.commonService.userDetails.en_user_id,s).takeWhile(function(){return i.alive}).subscribe(function(n){i.showLoader=!1;try{if((n.updateMode||n.initialMode)&&(i.showChatLoading=!1),Array.isArray(n.data.messages))for(var t=0;t<n.data.messages.length;t++)i.commonService.translateActivityMessage(n.data.messages[t],i.translate),i.changeDeletedMessageType(n.data.messages[t]),i.changeDeletedMessageText(n.data.messages[t]);if(i.commonService.line_before_feedback=n.data.line_before_feedback,i.commonService.line_after_feedback_1=n.data.line_after_feedback_1,i.commonService.line_after_feedback_2=n.data.line_after_feedback_2,n.updateMode){if(Array.isArray(n.data.messages))if(n.data.messages.length===i.messages.length)for(var u=0;u<n.data.messages.length;u+=1)i.messages[u]&&JSON.stringify(i.messages[u])!=JSON.stringify(n.data.messages[u])&&i.messages[u]&&n.data.messages[u]&&i.messages[u].muid==n.data.messages[u].muid&&(i.messages[u]=n.data.messages[u]);else if(n.data.messages.length>i.messages.length)for(u=0;u<n.data.messages.length;u+=1)if(i.messages[u]&&u<i.messages.length)JSON.stringify(i.messages[u])!=JSON.stringify(n.data.messages[u])&&i.messages[u]&&n.data.messages[u]&&i.messages[u].muid==n.data.messages[u].muid&&(i.messages[u]=n.data.messages[u]);else{for(var a=!0,o=0;o<i.messages.length;o+=1)if(i.messages[o]&&n.data.messages[u]&&i.messages[o].muid==n.data.messages[u].muid&&JSON.stringify(i.messages[o])!=JSON.stringify(n.data.messages[u])){i.messages[o]=n.data.messages[u],a=!1;break}a&&i.messages.push(n.data.messages[u])}else for(u=0;u<n.data.messages.length;u+=1)i.messages[u]&&u<i.messages.length&&JSON.stringify(i.messages[u])!=JSON.stringify(n.data.messages[u])&&i.messages[u]&&n.data.messages[u]&&i.messages[u].muid==n.data.messages[u].muid&&(i.messages[u]=n.data.messages[u])}else i.messages=n.data.messages.concat(i.messages);i.showFloatingBtnLength+=n.data.messages.length,i.replyDisabled=n.data.disable_reply||0,i.allow_audio_call=1==n.data.allow_audio_call,i.allow_video_call=1==n.data.allow_video_call,n.data.other_users&&Array.isArray(n.data.other_users)&&n.data.other_users.length>0?i.otherUser=n.data.other_users[0]:i.otherUser=null,i.customerName=n.data.customer_name||"",1==s.page_start&&(i.messages_dictionary={}),i.pageSize=n.data.page_size,n.data.messages.length<i.pageSize&&(i.isAllMessagesFetched=!0),i.fetchingOnScrollMessages=!1,n.data.messages.map(function(n){n.muid&&(i.messages_dictionary[n.muid]=!0)}),i.chatType=n.data.chat_type;var r=i.fuguWidgetService.fuguWidgetData.businessName;if(r&&n.data.label==i.businessNameToReplace&&(n.data.label=r),i.labelHeader=n.data.label||i.commonService.userDetails.searched_full_name,e&&(i.messages.length&&l||i.sendDefaultMessage()),1!=s.page_start)try{i.scrollDiv.nativeElement.scrollTo(0,1)}catch(n){console.log(n)}else setTimeout(function(){i.scrollToBottom()},100);i.calculateTimeIndexes(),i.sendPrevMessages(),n&&n.data?i.commonService.setChatValidationValue(1==n.data.restrict_personal_info_sharing):i.commonService.setChatValidationValue(!1)}catch(n){i.errorMessage=n.message}finally{i.showLoader=!1,i.componentInitialize=!0}},function(n){i.componentInitialize=!0,i.showChatLoading=!1,n=n.json(),console.log(n),i.errorMessage=n.message,i.showLoader=!1})}},n.prototype.onMessagesScroll=function(){this.scrollDiv.nativeElement.scrollTop<this.scrollDiv.nativeElement.scrollHeight-this.scrollDiv.nativeElement.offsetHeight-30?this.showFloatingBtn||(this.showFloatingBtn=!0,this.showFloatingBtnLength=this.messages.length,this.cdRef.detectChanges()):this.showFloatingBtn&&(this.showFloatingBtn=!1,this.showFloatingBtnLength=this.messages.length,this.cdRef.detectChanges()),0==this.scrollDiv.nativeElement.scrollTop&&(this.isAllMessagesFetched||this.fetchingOnScrollMessages||(this.pageIndex=this.pageIndex+this.pageSize,this.fetchingOnScrollMessages=!0,this.messageSub&&this.messageSub.unsubscribe(),this.refreshData(this.activeChannelId,!1,!1,this.pageIndex)))},n.prototype.openImage=function(n){this.commonService.postMessageToParentWindow({type:"Image",data:n})},n.prototype.oncrossClick=function(){this.commonService.postMessageToParentWindow({type:"Collapse",data:{closedFromChat:!0}})},n.prototype.disableScroll=function(n,e){n.deltaY<=0&&0==e.scrollTop?(n.stopPropagation(),n.preventDefault(),this.pos=0,this.newIssue=0):n.deltaY>=0&&e.scrollTop==e.scrollHeight-e.offsetHeight&&(n.stopPropagation(),n.preventDefault(),this.pos=0,this.newIssue=0)},n.prototype.replaceURLWithHTMLLinks=function(n){try{if("string"!=typeof n)return n;return(n=this.replacePhoneWithHTMLTel(n)).replace(/(\b(https?|ftp|file):\/\/[-A-Z0-9+&@#\/%?=~_|!:,.;]*[-A-Z0-9+&@#\/%=~_|])/gi,"<a target='_blank' href='$1'>$1</a>")}catch(e){return console.log(e),n}},n.prototype.replacePhoneWithHTMLTel=function(n){try{if("string"!=typeof n)return n;return n.replace(/(\+?(?:(?:9[976]\d|8[987530]\d|6[987]\d|5[90]\d|42\d|3[875]\d|2[98654321]\d|9[8543210]|8[6421]|6[6543210]|5[87654321]|4[987654310]|3[9643210]|2[70]|7|1)|\((?:9[976]\d|8[987530]\d|6[987]\d|5[90]\d|42\d|3[875]\d|2[98654321]\d|9[8543210]|8[6421]|6[6543210]|5[87654321]|4[987654310]|3[9643210]|2[70]|7|1)\))[0-9. -]{4,14})(?:\b|x\d+)/gi,"<a href='tel:$1'>$1</a>")}catch(e){return console.log(e),n}},n.prototype.modifyMessage_messageList=function(n){try{return"string"!=typeof n?n:n.replace(new RegExp("\n","g"),"<br />")}catch(e){return n}},n.prototype.backToConversations=function(){this.sendTypingStoppedEvent(),this.socketIoService.unsubscribeToActiveChannel(),this.router.navigate(["conversations"],{skipLocationChange:!0})},n.prototype.scrollToBottom=function(){this.showFloatingBtnLength=this.messages.length,this.scrollDiv.nativeElement.scrollTop=this.scrollDiv.nativeElement.scrollHeight},n.prototype.calculateTimeIndexes=function(){for(var n=!1,e=!1,l=this.messages.length-1;l>=0&&(!n||!e);l--)this.messages[l].message_type!=this.MessageTypeEnum.Activity_Message&&(n||this.messages[l].user_type!=this.UserTypeEnum.Customer||(n=!0,this.last_customer_time_index=l),e||this.messages[l].user_type!=this.UserTypeEnum.Agent||(e=!0,this.last_agent_time_index=l))},n.prototype.onSendClick=function(){if(!this.showLoader){if(-1==this.activeChannelId&&-1==this.labelId){var n=this.createMessageToAppendInMessages(!0);if(this.commonService.restrict_personal_info_sharing&&this.validateChat(n))this.messageService.sendAlert({type:"error",msg:this.translate.instant("Chat.youAreNotAllowed"),timeout:3e3});else if(n){this.appendMessage(n,!0);var e=this.createFayeMessageToSend();"object"==typeof n&&"object"==typeof e&&n.muid&&(e.muid=n.muid),this.createNewConversation(e)}}else if(-1!=this.activeChannelId){n=this.createMessageToAppendInMessages(!0);if(this.commonService.restrict_personal_info_sharing&&this.validateChat(n))this.messageService.sendAlert({type:"error",msg:this.translate.instant("Chat.youAreNotAllowed"),timeout:3e3});else if(n){this.appendMessage(n,!0);e=this.createFayeMessageToSend();"object"==typeof n&&"object"==typeof e&&n.muid&&(e.muid=n.muid),this.postMessageThroughFaye(e)}}else{n=this.createMessageToAppendInMessages(!0);if(this.commonService.restrict_personal_info_sharing&&this.validateChat(n))this.messageService.sendAlert({type:"error",msg:this.translate.instant("Chat.youAreNotAllowed"),timeout:3e3});else if(n){this.appendMessage(n,!0);e=this.createFayeMessageToSend();"object"==typeof n&&"object"==typeof e&&n.muid&&(e.muid=n.muid),this.createNewConversation(e)}}for(var l=document.getElementsByTagName("textarea"),t=0;t<l.length;t++)l[t].style.height="18px";var i={message:this.messageToSend&&this.messageToSend.trim()};this.commonService.restrict_personal_info_sharing&&this.validateChat(i)||(this.messageToSend="")}},n.prototype.createFayeMessageToSend=function(){var n=this.messageToSend.trim();if(!n)return"";var e=moment().utc().format();e=e.replace("Z",".000Z");var l={message:n,full_name:this.commonService.userDetails.full_name,user_id:this.commonService.userDetails.user_id,date_time:e,is_typing:o.o.Typing_End,message_type:o.i.Customer_Agent_Message,user_type:o.p.Customer,message_status:o.h.Sending,index:this.messages.length?this.messages.length-1:0,is_bot_reply:this.isBotReply};return this.isBotReply=0,l},n.prototype.createMessageToAppendInMessages=function(n){var e=this.messageToSend.trim();if(!e)return"";var l=moment().utc().format();l=l.replace("Z",".000Z");var t={message:e,full_name:this.commonService.userDetails.full_name,user_id:this.commonService.userDetails.user_id,date_time:l,message_type:o.i.Customer_Agent_Message,message_status:o.h.Sending,image_url:"",thumbnail_url:"",user_type:o.p.Customer};if(n){var i=this.uuidv4();t.muid=i}return t},n.prototype.sendDefaultMessage=function(){var n=this.commonService.defaultMessageToPublish.trim();if(!n)return"";var e=moment().utc().format();e=e.replace("Z",".000Z");var l={message:n,full_name:this.commonService.userDetails.full_name,user_id:this.commonService.userDetails.user_id,date_time:e,message_type:o.i.Customer_Agent_Message,message_status:o.h.Sending,image_url:"",thumbnail_url:"",user_type:o.p.Customer,skip_bot:1};this.appendMessage(l,!0);var t={message:n,full_name:this.commonService.userDetails.full_name,user_id:this.commonService.userDetails.user_id,date_time:e,is_typing:o.o.Typing_End,message_type:o.i.Customer_Agent_Message,user_type:o.p.Customer,message_status:o.h.Sending,index:this.messages.length?this.messages.length-1:0,skip_bot:1};this.postMessageThroughFaye(t)},n.prototype.postMessageThroughFaye=function(n){var e=this.uuidv4();n.muid||(n.muid=e),this.messages_dictionary[e]=!0,this.socketIoService.sendMessage(n),!this.commonService.isConversationListValid&&this.messages.length&&(this.commonService.isConversationListValid=!0)},n.prototype.createNewConversation=function(n){var e=this,l={access_token:this.commonService.userDetails.access_token,initiator_en_agent_id:this.commonService.userDetails.en_user_id,user_id:this.customerId,chat_type:0};this.fuguWidgetService.adminToUserChat(l).takeWhile(function(){return e.alive}).subscribe(function(l){e.activeChannelId=l.data.channel_id,e.layoutService.active_channel_object={channel_id:e.activeChannelId},e.alive&&(e.setupActiveChannelSubscription(),e.postMessageThroughFaye(n))},function(n){console.log("create new conversation error")})},n.prototype.setupActiveChannelSubscription=function(){var n=this;this.socketIoService.subscribeToChannel(this.activeChannelId),this.socketIoService.chatNonReassignEvent.takeWhile(function(){return n.alive}).subscribe(function(e){return n.onChatNonReassignEvent(e)}),this.socketIoService.activeChannelIdMessageEvent.takeWhile(function(){return n.alive}).subscribe(function(e){return n.onActiveChannelIdMessageEvent(e)}),this.socketIoService.activeChannelIdTypingEvent.takeWhile(function(){return n.alive}).subscribe(function(e){return n.onActiveChannelIdTypingEvent(e)}),this.socketIoService.activeChannelIdMessageSentEvent.takeWhile(function(){return n.alive}).subscribe(function(e){return n.onActiveChannelIdMessageSentEvent(e)}),this.socketIoService.readAllEvent.takeWhile(function(){return n.alive}).subscribe(function(e){return n.onReadAllEvent(e)}),this.socketIoService.messageDeliveredEvent.takeWhile(function(){return n.alive}).subscribe(function(e){return n.onMessageDeliveredEvent(e)}),this.socketIoService.messageReadEvent.takeWhile(function(){return n.alive}).subscribe(function(e){return n.onMessageReadEvent(e)}),this.socketIoService.connectionStateEvent.takeWhile(function(){return n.alive}).subscribe(function(e){return n.onSocketConnectDisconnectEvent(e)})},n.prototype.onChatNonReassignEvent=function(n){if(this.commonService.translateActivityMessage(n,this.translate),n.notification_type!=o.j.Read_All){if(![o.j.INRIDE_STATUS,o.j.User_Online_Status,o.j.CHANNEL_REFRESH_AGENT].includes(n.notification_type))if(n.channel_id!=this.activeChannelId){if(n.message_type==o.i.Video_Call)return;n.last_sent_by_id!=this.commonService.userDetails.user_id&&(this.commonService.updateAndEmitUnreadCountOnFaye(n.channel_id,n.user_unique_key),this.commonService.playNotificationSound("https://s3.amazonaws.com/circlein/fugu_bot/beep"))}else{switch(n.message_type){case o.i.Custom_Action_Message:this.appendNewFayeMessage(n);break;case o.i.Form_Message:this.buttonFields={},this.appendNewFayeMessage(n);break;case o.i.Feedback_Message:!n||n.user_image&&""!==n.user_image||(n.user_image=n.sender_image||""),n&&""!==n.agent_id&&void 0!=n.agent_id&&null!=n.agent_id&&(n.user_id=n.agent_id),this.appendNewFayeMessage(n),this.setFormType()}n.agent_id&&"string"==typeof n.agent_id&&(n.agent_id=parseInt(n.agent_id)),n.agent_id&&null==n.agent_id&&(n.agent_id=n.assigned_to),this.commonService.channelData=Object.assign(this.commonService.channelData,n)}}else this.commonService.recalculateUnreadCount(n.channel_id)},n.prototype.appendNewFayeMessage=function(n){this.showFloatingBtn?this.appendMessage(n,!1):this.appendMessage(n,!0)},n.prototype.setFormType=function(){var n=this;setTimeout(function(){n.buttonFields&&n.buttonFields.content_value&&n.selectFormType(n.buttonFields.default_action_id,"")})},n.prototype.onActiveChannelIdMessageEvent=function(n){var e=this;if(this.commonService.translateActivityMessage(n,this.translate),n&&n.notification_type==o.j.MODIFY_MESSAGE)return this.changeDeletedMessageType(n),void this.updateModifiedMessage(n);if(![o.j.CHANNEL_REFRESH_AGENT].includes(n.notification_type))if(n.notification_type!=o.j.Channel_Refresh)switch(n.message_type){case this.MessageTypeEnum.Bot_Text_Message:this.appendNewFayeMessage(n),this.setFormType();break;default:this.ngZone.run(function(){if(![o.i.Form_Message,o.i.Feedback_Message].includes(n.message_type)){if((""==n.message&&""==n.thumbnail_url||0==n.on_subscribe||1==n.on_subscribe||(!n.muid||e.messages_dictionary[n.muid])&&n.muid)&&n.message_type!=o.i.Payment_Message){if(n.message_type==o.i.Custom_Action_Message&&e.messages_dictionary[n.muid]&&n.selected_btn_id){for(var l=0;l<e.messages.length;l++)if(e.messages[l].muid==n.muid){n.content_value&&(e.messages[l].content_value=n.content_value),e.messages[l].selected_btn_id=n.selected_btn_id,e.messages[l].is_active=n.is_active;break}}else if(n.message_type==o.i.CARDS&&e.messages_dictionary[n.muid]&&n.selected_agent_id){for(l=0;l<e.messages.length;l++)if(e.messages[l].muid==n.muid){n.content_value&&(e.messages[l].content_value=n.content_value),e.messages[l].selected_agent_id=n.selected_agent_id;break}}else if(n.message_type==o.i.MULTISELECTION&&e.messages_dictionary[n.muid]&&1==n.custom_action.is_replied){for(l=0;l<e.messages.length;l++)if(e.messages[l].muid==n.muid){e.messages[l]=Object.assign(e.messages[l],n);break}}else if(n.message_type==o.i.DATE_TIME&&e.messages_dictionary[n.muid]){for(l=0;l<e.messages.length;l++)if(e.messages[l].muid==n.muid){e.messages[l]=Object.assign(e.messages[l],n);break}}else if(n.message_type==o.i.ATTACHMENT&&e.messages_dictionary[n.muid]){for(l=0;l<e.messages.length;l++)if(e.messages[l].muid==n.muid){e.messages[l]=Object.assign(e.messages[l],n);break}}else if(n.message_type==o.i.ADDRESS&&e.messages_dictionary[n.muid]){for(l=0;l<e.messages.length;l++)if(e.messages[l].muid==n.muid){e.messages[l]=Object.assign(e.messages[l],n);break}}else if(n.message_type==o.i.NEW_PAYMENT_MESSAGE&&e.messages_dictionary[n.muid])for(l=0;l<e.messages.length;l++)if(e.messages[l].muid==n.muid){e.messages[l]=Object.assign(e.messages[l],n);break}}else{n.user_id==e.commonService.userDetails.user_id&&(n.message_status=e.MessageStatusEnum.Sent),e.appendNewFayeMessage(n),e.setFormType();var t=moment().utc().format();t=t.replace("Z",".000Z");var i={user_id:+e.commonService.userDetails.user_id,channel_id:e.activeChannelId,notification_type:o.j.Read_All,user_type:o.p.Agent};e.socketIoService.sendAckRead(i)}n.user_id==e.commonService.userDetails.user_id||""!=n.message||1!=n.on_subscribe&&0!=n.on_subscribe||(e.onSubscribe=n.on_subscribe,1==n.on_subscribe&&e.setMessageStatuses(3))}})}else n.channel_id==this.activeChannelId&&(console.warn("channel refresh",n),this.replyDisabled=n&&n.disable_reply||0,n?this.commonService.setChatValidationValue(1==n.restrict_personal_info_sharing):this.commonService.setChatValidationValue(!1))},n.prototype.onActiveChannelIdTypingEvent=function(n){var e=this;this.ngZone.run(function(){n.is_typing==o.o.Typing_Start&&n.user_id!=e.commonService.userDetails.user_id?n.user_type==o.p.Agent?e.isUserTyping=!0:n.user_type==o.p.Customer&&(e.chatType==o.c.AdminToAdmin?(e.isUserTyping=!0,e.isAgentTypingName=n.full_name):(e.isAgentTyping=!0,e.isAgentTypingName=n.full_name)):n.is_typing==o.o.Typing_Stopped&&n.user_id!=e.commonService.userDetails.user_id&&(n.user_type==o.p.Agent?e.isUserTyping=!1:n.user_type==o.p.Customer&&(e.chatType==o.c.AdminToAdmin?(e.isUserTyping=!1,e.isAgentTypingName=""):(e.isAgentTyping=!1,e.isAgentTypingName="")))})},n.prototype.onActiveChannelIdMessageSentEvent=function(n){var e=this;this.ngZone.run(function(){if(-1!=n.index&&e.messages[n.index]){e.messages[n.index].message_status=o.h.Sent;var l=moment().utc().format();l=l.replace("Z",".000Z"),e.messages[n.index].date_time=l,e.setFormType()}})},n.prototype.onReadAllEvent=function(n){var e=this;this.ngZone.run(function(){if(e.commonService.userDetails.user_id!=n.user_id){for(var l=0;l<e.messages.length;l++)e.messages[l].user_type==o.p.Customer&&(e.messages[l].message_status=o.h.Read);e.messages[e.messages.length-1].message_status=o.h.Read;var t=moment().utc().format();t=t.replace("Z",".000Z"),e.messages[e.messages.length-1].date_time=t}})},n.prototype.onMessageDeliveredEvent=function(n){this.messages[this.messages.length-1].message_status=o.h.Delivered},n.prototype.onMessageReadEvent=function(n){var e=this;this.ngZone.run(function(){if(e.commonService.userDetails.user_id!=n.user_id){e.messages[e.messages.length-1].message_status=o.h.Read;var l=moment().utc().format();l=l.replace("Z",".000Z"),e.messages[e.messages.length-1].date_time=l}})},n.prototype.onSocketConnectDisconnectEvent=function(n){n&&n.state==o.l.CONNECTED?this.isSocketConnected=!0:this.isSocketConnected=!1,this.isSocketConnected&&this.componentInitialize&&this.refreshData(this.activeChannelId,!1,!1)},n.prototype.setMessageStatuses=function(n){for(var e=0;e<this.messages.length;e++)this.messages[e].message_status=n},n.prototype.appendMessage=function(n,e){var l=this;if(n.message.toString().trim()||[o.i.Image_Message,o.i.File_Message,o.i.Payment_Message].includes(n.message_type))if(n.message_type!=this.MessageTypeEnum.Image_Message||n.image_url.toString().trim())if(n.message_type!=this.MessageTypeEnum.File_Message||n.url.toString().trim()){var t=this.activeChannelId+"-"+this.commonService.userDetails.en_user_id,i=n.message_status;if(i=void 0===i||i==o.h.Sending&&n.user_id!=this.commonService.userDetails.user_id?o.h.Sent:i,this.isUserTyping=!1,this.isAgentTyping=!1,this.pageIndex=this.pageIndex+1,n.muid&&this.messages_dictionary[n.muid]){for(var s=0;s<this.messages.length;s++)if(this.messages[s].muid==n.muid){this.messages[s]=Object.assign(n,{state:"added",message_status:i,user_type:n.user_id?n.user_type:o.p.Bot});break}if(this.fuguWidgetService.messageDetails[t]&&this.fuguWidgetService.messageDetails[t].data&&this.fuguWidgetService.messageDetails[t].data.messages&&Array.isArray(this.fuguWidgetService.messageDetails[t].data.messages))for(var u=0,a=this.fuguWidgetService.messageDetails[t].data.messages;u<a.length;u++){var r=a[u];if(r.muid==n.muid){r=Object.assign({},n);break}}}else this.messages.push(Object.assign(n,{state:"added",message_status:i,user_type:n.user_id?n.user_type:o.p.Bot})),this.fuguWidgetService.messageDetails[t]&&this.fuguWidgetService.messageDetails[t].data&&this.fuguWidgetService.messageDetails[t].data.messages&&Array.isArray(this.fuguWidgetService.messageDetails[t].data.messages)&&this.fuguWidgetService.messageDetails[t].data.messages.push(n);n.muid&&(this.messages_dictionary[n.muid]=!0),n.message_type!=this.MessageTypeEnum.Activity_Message&&(n.user_type==this.UserTypeEnum.Agent?this.last_agent_time_index=this.messages.length-1:this.last_customer_time_index=this.messages.length-1),e&&(this.showFloatingBtn=!1,this.cdRef.detectChanges()),setTimeout(function(){e&&l.scrollToBottom()},0)}else console.log("invalid message: ",n);else console.log("invalid message: ",n);else console.log("invalid message: ",n)},n.prototype.detectTyping=function(){var n=this,e=this.isUserTyping;return this.isUserTyping&&this.isTypingTimer&&clearTimeout(this.isTypingTimer),this.isTypingTimer=setTimeout(function(){n.isUserTyping=!1,n.sendTypingStoppedEvent()},4e3),e},n.prototype.onTextarea_keydown=function(n){if(this.commonService.iPadState||(this.commonService.iPadState=!0,this.commonService.postMessageToParentWindow({type:"IosFix",data:!0})),!n.shiftKey&&13==n.keyCode){this.onSendClick();var e={message:this.messageToSend&&this.messageToSend.trim()};return this.commonService.restrict_personal_info_sharing&&this.validateChat(e)?this.messageService.sendAlert({type:"error",msg:this.translate.instant("Chat.youAreNotAllowed"),timeout:3e3}):this.messageToSend="",this.isUserTyping=!1,!1}this.detectTyping()||this.sendTypingStartEvent()},n.prototype.onEditTextareaKeydown=function(n,e,l){if(this.commonService.iPadState||(this.commonService.iPadState=!0,this.commonService.postMessageToParentWindow({type:"IosFix",data:!0})),!n.shiftKey&&13==n.keyCode){var t={message:l};return this.commonService.restrict_personal_info_sharing&&this.validateChat(t)?this.messageService.sendAlert({type:"error",msg:this.translate.instant("Chat.youAreNotAllowed"),timeout:3e3}):(this.deleteOrEditMessage(e,o.n.EDIT,l),this.editMessageMode=!1,this.editMessageItem={},this.editMessageValue=""),this.isUserTyping=!1,!1}this.detectTyping()||this.sendTypingStartEvent()},n.prototype.sendTypingStartEvent=function(){var n=moment().utc().format();n=n.replace("Z",".000Z");var e={message:"",full_name:this.commonService.userDetails.full_name,user_id:this.commonService.userDetails.user_id,date_time:n,is_typing:o.o.Typing_Start,message_type:o.i.Customer_Agent_Message,user_type:o.p.Customer,message_status:o.h.Sending};this.postMessageThroughFaye(e)},n.prototype.sendTypingStoppedEvent=function(){var n=moment().utc().format();n=n.replace("Z",".000Z");var e={message:"",full_name:this.commonService.userDetails.full_name,user_id:this.commonService.userDetails.user_id,date_time:n,is_typing:o.o.Typing_Stopped,message_type:o.i.Customer_Agent_Message,user_type:o.p.Customer,message_status:o.h.Sending};this.postMessageThroughFaye(e)},n.prototype.onAttchmentClick=function(n){n.click(),this.dropup_open=!1},n.prototype.prepareFilesForUpload=function(n){for(var e=0;e<n.target.files.length;e++)this.filesUpload(n.target.files[e],e==n.target.files.length-1)},n.prototype.filesUpload=function(n,e){this.layoutService.filesUpload(n,{channel_id:this.activeChannelId},e)},n.prototype.onTouchStart=function(n){this.lastY=n.touches?n.touches[0].pageY:n.pageY},n.prototype.onTouchMove=function(n,e){var l=n.touches?n.touches[0].pageY:n.pageY;Math.abs(l-this.lastY)<15||(l>this.lastY?(this.direction="down",0==e.scrollTop?(n.stopPropagation(),n.preventDefault(),this.bindEvent(),this.pos=0,this.newIssue=0):this.unbindEvent()):(this.direction="up",e.scrollTop==e.scrollHeight-e.offsetHeight?(n.stopPropagation(),n.preventDefault(),this.pos=0,this.newIssue=0,n.stopImmediatePropagation(),this.bindEvent()):this.unbindEvent()))},n.prototype.bindEvent=function(){document.body.addEventListener("touchmove",this.fn)},n.prototype.fn=function(n){n.preventDefault()},n.prototype.unbindEvent=function(){document.body.removeEventListener("touchmove",this.fn)},n.prototype.onTextAreaBlur=function(n){this.commonService.iPadState=!1,this.commonService.postMessageToParentWindow({type:"IosFix",data:!1})},n.prototype.onTextAreaFocus=function(n){this.commonService.iPadState=!0,this.commonService.postMessageToParentWindow({type:"IosFix",data:!0})},n.prototype.autoGrow=function(n){var e=n.target;e.style.height="10px",e.scrollHeight<100?e.style.height=e.scrollHeight+"px":e.style.height="100px"},n.prototype.appendDefaultMessage=function(){var n=moment().utc().format();n=n.replace("Z",".000Z"),this.messages.push({date_time:n,full_name:this.fuguWidgetService.fuguWidgetData.businessName,message:this.default_message,user_id:-1,user_type:o.p.Bot,message_status:o.h.Read,message_type:o.i.Customer_Agent_Message,content_value:null,values:[],id:null,line_before_feedback:"",line_after_feedback_1:"",line_after_feedback_2:"",comment:"",is_rating_given:0,rating_given:0,total_rating:5,muid:null,default_action_id:null})},n.prototype.ngOnDestroy=function(){this.unbindEvent(),this.alive=!1,this.sendTypingStoppedEvent(),this.socketIoService.unsubscribeToActiveChannel(),this.layoutService.active_channel_object={channel_id:null},this.commonService.showNotificationsConfirmationTrigger=!1,this.translateSubscription.unsubscribe()},n.prototype.selectFormType=function(n,e){if(n){var l={message:this.buttonFields.message,message_id:this.buttonFields.id,values:n,index:this.messages.length?this.messages.length-1:0,app_secret_key:this.fuguWidgetService.fuguWidgetData.appSecretKey,user_id:this.commonService.userDetails.user_id};this.postMessageThroughFaye(l),e.trim()&&(this.messageToSend=e,this.isBotReply=1,this.onSendClick()),this.buttonFields={}}else this.buttonFields={}},n.prototype.openPaymentRequestForm=function(){var n="#/payment";this.fuguWidgetService.fuguWidgetData&&this.fuguWidgetService.fuguWidgetData.is_new_payment_enabled&&(n="#/payment-request");var e=window.open(n,"_blank","toolbar=yes,scrollbars=yes,resizable=yes,top=100,left=250,width=800,height=600");e.business_currencies=this.commonService.configData&&this.commonService.configData.business_currencies||[],e.channel_id=JSON.parse(JSON.stringify(this.activeChannelId)),e.widget_data=this.fuguWidgetService.fuguWidgetData,e.currentLanguage=this.fuguWidgetService.getCurrentLanguage(),e.document&&(e.document.title="Request Payment")},n.prototype.createFayePaymentRequest=function(n){if(console.log(n,this.activeChannelId),n.channel_id==this.activeChannelId){n.custom_action.transaction_id=this.conv_transaction_id,delete n.channel_id;var e=moment().utc().format();e=e.replace("Z",".000Z");var l={message:"",full_name:this.commonService.userDetails.full_name,user_id:this.commonService.userDetails.user_id,date_time:e,is_typing:o.o.Typing_End,message_type:o.i.Payment_Message,user_type:o.p.Customer,message_status:o.h.Sending,index:this.messages.length?this.messages.length-1:0,is_bot_reply:this.isBotReply};l=Object.assign(l,n),this.appendMessage(l,!0),this.postMessageThroughFaye(l),-1==this.activeChannelId&&this.createNewConversation(l),console.log(l)}},n.prototype.openVideoCallPopup=function(n){this.setHungUpCallStorage(!1),this.video_call_obj.call_type=n||"VIDEO",this.video_call_obj.channel_id=this.activeChannelId,this.video_call_obj.is_video_caller=!0,this.video_call_obj.is_video_open=!0,this.video_call_obj.user_id=this.commonService.userDetails.user_id,this.video_call_obj.full_name=this.commonService.userDetails.full_name,this.video_call_obj.device_id=localStorage.getItem("device_uuid"),this.otherUser&&"object"==typeof this.otherUser?(this.video_call_obj.user_name=this.otherUser.full_name||"",this.video_call_obj.channel_image=this.otherUser.user_image||""):(this.video_call_obj.user_name=this.customerName||"",this.video_call_obj.channel_image="");var e="#/newcall";this.commonService.configData&&"0"==this.commonService.configData.is_jitsi_calling_enabled&&(e="#/call");var l=window.open(e,"_blank","toolbar=no,scrollbars=yes,resizable=yes,location=no,top=100,left=250,width=800,height=600");l.call_data=this.video_call_obj,l.document&&(l.document.title="Call"),l.user_data={name:this.commonService.userDetails.full_name||"",email:this.commonService.userDetails.email||"",image:this.commonService.userDetails.user_image||"",jitsiUrl:this.commonService.jitsiUrl||""},l.app_data={userDetails:this.commonService.userDetails,jitsiUrl:this.commonService.jitsiUrl||"",deviceId:this.commonService.f_uid_Id}},n.prototype.setHungUpCallStorage=function(n){try{localStorage.setItem("hungupcallevent",n?"1":"0")}catch(n){}},n.prototype.changeDeletedMessageType=function(n){n&&(!this.commonService.userDetails||n.user_type!=this.UserTypeEnum.Agent&&n.user_type!=this.UserTypeEnum.Customer||n.message_state&&n.message_state==o.f.DELETED&&(n.user_id,this.commonService.userDetails.user_id,n.message_type=this.MessageTypeEnum.Customer_Agent_Message,this.updateEditDeleteCacheMessage({muid:n.muid,message:n.message})))},n.prototype.changeDeletedMessageText=function(n){n&&(!this.commonService.userDetails||n.user_type!=this.UserTypeEnum.Customer&&n.user_type!=this.UserTypeEnum.Agent||n.message_state&&n.message_state==o.f.DELETED&&(n.user_id==this.commonService.userDetails.user_id?n.message=this.translate.instant("Conversation.you")+" "+E:n.full_name&&(n.message=n.full_name+" "+E),this.updateEditDeleteCacheMessage({muid:n.muid,message:n.message})))},n.prototype.updateEditDeleteCacheMessage=function(n){if(n)for(var e=this.activeChannelId+"-"+this.commonService.userDetails.en_user_id,l=0;l<this.messages.length;l++)if(this.fuguWidgetService.messageDetails[e]&&this.fuguWidgetService.messageDetails[e].data&&this.fuguWidgetService.messageDetails[e].data.messages&&Array.isArray(this.fuguWidgetService.messageDetails[e].data.messages)&&this.fuguWidgetService.messageDetails[e].data.messages[l]&&this.fuguWidgetService.messageDetails[e].data.messages[l].muid==n.muid){this.fuguWidgetService.messageDetails[e].data.messages[l]=Object.assign(this.fuguWidgetService.messageDetails[e].data.messages[l],n);break}},n.prototype.updateModifiedMessage=function(n){if(n.notification_type==o.j.MODIFY_MESSAGE)switch(n.status){case o.n.DELETE:n.user_id==this.commonService.userDetails.user_id?n.message=this.translate.instant("Conversation.you")+" "+E:n.full_name?n.message=n.full_name+" "+E:n.message=I;for(var e=0;e<this.messages.length;e++)if(this.messages[e].muid==n.muid){this.messages[e]=Object.assign(this.messages[e],{message_type:o.i.Customer_Agent_Message,message_state:o.f.DELETED,message:n.message}),this.updateEditDeleteCacheMessage({muid:n.muid,message_type:o.i.Customer_Agent_Message,message_state:o.f.DELETED,message:n.message});break}break;case o.n.EDIT:for(e=0;e<this.messages.length;e++)if(this.messages[e].muid==n.muid){this.messages[e]=Object.assign(this.messages[e],{message_type:o.i.Customer_Agent_Message,message_state:o.f.EDITED,message:n.edited_message||n.message||this.messages[e]&&this.messages[e].message}),this.updateEditDeleteCacheMessage({muid:n.muid,message_type:o.i.Customer_Agent_Message,message_state:o.f.EDITED,message:n.edited_message||n.message||this.messages[e]&&this.messages[e].message});break}}},n.prototype.deleteOrEditMessage=function(n,e,l){var t=this,i={channelId:this.activeChannelId,messageMuid:n&&n.muid,taskStatus:e};e==o.n.EDIT&&(i.newMessage=l),this.fuguWidgetService.deleteOrEditMessage(i).then(function(i){if(i&&200==i.statusCode){if(n){e==o.n.DELETE?(n.message_type!=o.i.Customer_Agent_Message&&(n.message_type=o.i.Customer_Agent_Message),n.message_state=o.f.DELETED,n.message="You "+E):e==o.n.EDIT&&(n.message_state=o.f.EDITED,l&&(n.message=l));var s=moment().utc().format();s=s.replace("Z",".000Z")}}else t.errorMessage=i&&i.message;e==o.n.EDIT&&(t.editMessageItem={},t.editMessageValue="")}).catch(function(n){t.errorMessage=n&&n.error&&n.error.message})},n.prototype.editMessageClick=function(n,e){if(n){var l={message:e};if(this.commonService.restrict_personal_info_sharing&&this.validateChat(l))return void this.messageService.sendAlert({type:"error",msg:this.translate.instant("Chat.youAreNotAllowed"),timeout:3e3});this.deleteOrEditMessage(n,o.n.EDIT,e)}this.editMessageMode=!1},n.prototype.editMessage=function(n,e){n&&(this.editMessageMode=!0,this.editMessageItem=n,this.editMessageValue=n&&n.message||"")},n.prototype.cancelEditMessage=function(){this.editMessageMode=!1,this.editMessageItem={},this.editMessageValue=""},n.prototype.checkAllowModifyMessage=function(n){if(n&&n.date_time){var e=moment(new Date).diff(moment(n.date_time)),l=9e5;if(this.commonService.configData&&this.commonService.configData.edit_delete_message_duration&&!isNaN(parseFloat(this.commonService.configData.edit_delete_message_duration))&&(l=60*parseFloat(this.commonService.configData.edit_delete_message_duration)*1e3),0==l)return!1;if(e>l)return!1}return!0},n.prototype.action=function(n){var e=document.getElementById(n);e&&e.click()},n.prototype.openMessageMenu=function(n,e){try{var l=document.getElementById("message-menu");l.style.top="unset",l.style.bottom="unset",l.style.left=0==e?n.target.offsetLeft+10+"px":n.clientX-30+"px",n.pageY+200>window.innerHeight?l.style.bottom=window.innerHeight-n.pageY+10+"px":l.style.top=n.pageY+15+"px"}catch(n){console.warn(n)}},n.prototype.parseDeletedMessage=function(){this.translate.get("Conversation.thisMessageHasBeenDeleted").subscribe(function(n){n&&(I=n)}),this.translate.get("Conversation.deletedThisMessage").subscribe(function(n){n&&(E=n)})},n.prototype.validateChat=function(n){return!(!this.commonService.configData||"1"!=this.commonService.configData.restrict_personal_info_sharing)&&(!(!n.message||"string"!=typeof n.message)&&!!(n.message.match(M)||n.message.match(w)||n.message.match(S)))},n.prototype.removeMessageEvent=function(n){var e=this.activeChannelId+"-"+this.commonService.userDetails.en_user_id;n.show_error&&this.messageService.sendAlert({type:"error",msg:n.message,timeout:3e3}),delete this.messages_dictionary[n.message_data.muid];for(var l=0;l<this.messages.length;l++)if(this.messages[l].muid==n.message_data.muid){this.messages.splice(l,1);break}if(this.fuguWidgetService.messageDetails[e]&&this.fuguWidgetService.messageDetails[e].data&&this.fuguWidgetService.messageDetails[e].data.messages&&Array.isArray(this.fuguWidgetService.messageDetails[e].data.messages))for(l=0;l<this.fuguWidgetService.messageDetails[e].data.messages.length;l++)if(this.fuguWidgetService.messageDetails[e].data.messages[l].muid==n.message_data.muid){this.fuguWidgetService.messageDetails[e].data.messages.splice(l,1);break}},n.ctorParameters=function(){return[{type:_.k},{type:_.a},{type:g.b},{type:r.a},{type:m.a},{type:a.a},{type:u.G},{type:x.a},{type:C.a},{type:u.i}]},n}(),O=function(){function n(n,e,l){this.commonService=n,this.fuguWidgetService=e,this.router=l,this.pageSize=0,this.announcementList=[],this.showLoader=!1,this.isAllAnnouncementFetched=!1}return n.prototype.ngOnInit=function(){this.getAgetAnnouncemens()},n.prototype.oncrossClick=function(){this.router.navigate(["conversations"])},n.prototype.getAgetAnnouncemens=function(n){var e=this,l={user_id:JSON.stringify(this.commonService.userDetails&&this.commonService.userDetails.user_id)||"",start_offset:this.pageSize,end_offset:10,access_token:this.fuguWidgetService.fuguWidgetData&&this.fuguWidgetService.fuguWidgetData.access_token||""};this.getAnnouncementHistorySubs&&this.getAnnouncementHistorySubs.unsubscribe(),this.showLoader=!0,this.getAnnouncementHistorySubs=this.fuguWidgetService.getAnnouncemens(l).subscribe(function(l){e.showLoader=!1,l&&l.data&&(e.announcementList=n?l.data:e.announcementList.concat(l.data),e.pageSize=e.announcementList.length),l&&l.data&&0==l.data.length&&(e.isAllAnnouncementFetched=!0)})},n.prototype.onAnnouncementHistoryScroll=function(n){(n.target.scrollTop+n.target.clientHeight)/n.target.scrollHeight>=.9&&!this.isAllAnnouncementFetched&&!this.showLoader&&this.getAgetAnnouncemens()},n.prototype.deleteAnnouncement=function(n,e){var l=this;this.pageSize=0;var t=[];n&&n.channel_id&&t.push(n.channel_id);var i={access_token:this.fuguWidgetService.fuguWidgetData&&this.fuguWidgetService.fuguWidgetData.access_token||"",user_id:JSON.stringify(this.commonService.userDetails&&this.commonService.userDetails.user_id)||"",delete_all_announcements:e};t&&t.length>0&&(i.channel_ids=t),this.showLoader=!0,this.fuguWidgetService.clearAnnouncemens(i).subscribe(function(t){if(l.showDeleteConfirmation=!1,l.showLoader=!1,t&&t.statusCode&&200==t.statusCode)if(e)l.announcementList=[];else{for(var i=-1,s=0;s<l.announcementList.length;s++)if(l.announcementList[s]&&l.announcementList[s].channel_id==n.channel_id){i=s;break}i>-1&&l.announcementList.splice(i,1)}},function(n){l.showLoader=!1})},n.prototype.deleteAllAnnouncements=function(){this.showDeleteConfirmation=!0,this.deleteAnnouncement("",1)},n.prototype.openImage=function(n){this.commonService.postMessageToParentWindow({type:"Image",data:n})},n.ctorParameters=function(){return[{type:r.a},{type:m.a},{type:_.k}]},n}(),P=function(){return function(){}}(),D=l("685D"),A=l("WtPQ"),L=l("2Je8"),$=function(){function n(n,e){var l=this;this.messageService=n,this.cdRef=e,this.alerts=[],this.subscription=this.messageService.getAlert().subscribe(function(n){console.log("inside component"),l.alerts=[],l.add(n.type,n.msg,n.timeout)})}return n.prototype.ngOnInit=function(){},n.prototype.add=function(n,e,l){var t=this;this.alerts.push({type:n,msg:e,timeout:l}),setTimeout(function(){t.alerts=[],t.cdRef.detectChanges()},l),this.cdRef.detectChanges()},n.ctorParameters=function(){return[{type:C.a},{type:u.i}]},n}(),j=[[".alert-container[_ngcontent-%COMP%]{position:fixed;top:85px;max-width:300px;z-index:10000000000}.alert-box[_ngcontent-%COMP%]{background-color:#202124;color:#fff;border:none;border-radius:4px;-webkit-font-smoothing:antialiased;-webkit-box-shadow:0 4px 3px 0 rgba(60,64,67,.302),0 4px 8px 3px rgba(60,64,67,.149);box-shadow:0 4px 3px 0 rgba(60,64,67,.302),0 4px 8px 3px rgba(60,64,67,.149);font-family:Proxima-Regular}.alert[_ngcontent-%COMP%]{padding:15px;margin-bottom:20px;border:1px solid transparent;border-radius:4px}.fade[_ngcontent-%COMP%]{opacity:0;-webkit-transition:opacity .15s linear;transition:opacity .15s linear}.show[_ngcontent-%COMP%]{display:block!important;opacity:1}"]],W=u._15({encapsulation:0,styles:j,data:{}});function N(n){return u._41(0,[(n()(),u._18(0,0,null,null,4,"div",[["class","alert-box"]],null,null,null,null,null)),(n()(),u._39(-1,null,["\n    "])),(n()(),u._18(2,0,null,null,1,"div",[["class","alert fade show color-white"],["role","alert"]],null,null,null,null,null)),(n()(),u._39(3,null,["\n      ","\n    "])),(n()(),u._39(-1,null,["\n  "]))],null,function(n,e){n(e,3,0,e.context.$implicit.msg)})}function R(n){return u._41(2,[(n()(),u._18(0,0,null,null,4,"div",[["class","alert-container"]],null,null,null,null,null)),(n()(),u._39(-1,null,["\n  "])),(n()(),u._12(16777216,null,null,1,null,N)),u._16(3,802816,null,0,L.j,[u._0,u.X,u.y],{ngForOf:[0,"ngForOf"]},null),(n()(),u._39(-1,null,["\n"])),(n()(),u._39(-1,null,["\n"]))],function(n,e){n(e,3,0,e.component.alerts)},null)}u._13("app-message-popup",$,function(n){return u._41(0,[(n()(),u._18(0,0,null,null,1,"app-message-popup",[],null,null,null,R,W)),u._16(1,114688,null,0,$,[C.a,u.i],null,null)],function(n,e){n(e,1,0)},null)},{},{},[]);var F=[[".video-action-buttons[_ngcontent-%COMP%]{position:absolute;top:60px;left:0;font-family:Proxima-SBold;z-index:5;width:100%;background:rgba(97,94,99,.95);-webkit-box-shadow:0 1px 4px rgba(0,0,0,.4);box-shadow:0 1px 4px rgba(0,0,0,.4)}.incoming-call[_ngcontent-%COMP%]{color:#fff;text-align:center;line-height:1.4}#buttons[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{position:relative;padding:7px 18px;margin:.3125rem 20px;font-size:.9rem;font-weight:400;line-height:1.428571;text-decoration:none;text-transform:uppercase;letter-spacing:0;cursor:pointer;background-color:transparent;border:0;border-radius:.2rem;outline:0;-webkit-transition:background-color .2s cubic-bezier(.4,0,.2,1),-webkit-box-shadow .2s cubic-bezier(.4,0,1,1);transition:background-color .2s cubic-bezier(.4,0,.2,1),-webkit-box-shadow .2s cubic-bezier(.4,0,1,1);transition:box-shadow .2s cubic-bezier(.4,0,1,1),background-color .2s cubic-bezier(.4,0,.2,1);transition:box-shadow .2s cubic-bezier(.4,0,1,1),background-color .2s cubic-bezier(.4,0,.2,1),-webkit-box-shadow .2s cubic-bezier(.4,0,1,1);will-change:box-shadow,transform}#buttons[_ngcontent-%COMP%]   .btn-success[_ngcontent-%COMP%]{cursor:pointer;color:#fff;background-color:#4caf50;border-color:#4caf50}#buttons[_ngcontent-%COMP%]   .btn-success[_ngcontent-%COMP%]:hover{-webkit-box-shadow:0 14px 26px -12px rgba(76,175,80,.42),0 4px 23px 0 rgba(0,0,0,.12),0 8px 10px -5px rgba(76,175,80,.2);box-shadow:0 14px 26px -12px rgba(76,175,80,.42),0 4px 23px 0 rgba(0,0,0,.12),0 8px 10px -5px rgba(76,175,80,.2)}#buttons[_ngcontent-%COMP%]   .btn-danger[_ngcontent-%COMP%]{cursor:pointer;color:#fff;background-color:#f44336;border-color:#f44336}#buttons[_ngcontent-%COMP%]   .btn-danger[_ngcontent-%COMP%]:hover{-webkit-box-shadow:0 14px 26px -12px rgba(244,67,54,.42),0 4px 23px 0 rgba(0,0,0,.12),0 8px 10px -5px rgba(244,67,54,.2);box-shadow:0 14px 26px -12px rgba(244,67,54,.42),0 4px 23px 0 rgba(0,0,0,.12),0 8px 10px -5px rgba(244,67,54,.2)}"]],z=u._15({encapsulation:0,styles:F,data:{}});function X(n){return u._41(0,[(n()(),u._18(0,0,null,null,20,"div",[["class","video-action-buttons p-3 d-flex flex-column justify-content-center align-items-center"]],null,null,null,null,null)),(n()(),u._39(-1,null,["\n    "])),(n()(),u._18(2,0,null,null,6,"p",[["class","mt-0 incoming-call"]],null,null,null,null,null)),(n()(),u._39(3,null,[""," "," "," "])),u._33(131072,D.a,[A.a,u.i]),u._33(131072,D.a,[A.a,u.i]),u._33(131072,D.a,[A.a,u.i]),(n()(),u._18(7,0,null,null,0,"br",[],null,null,null,null,null)),(n()(),u._39(8,null,["",""])),(n()(),u._39(-1,null,["\n    "])),(n()(),u._18(10,0,null,null,9,"div",[["id","buttons"]],null,null,null,null,null)),(n()(),u._39(-1,null,["\n      "])),(n()(),u._18(12,0,null,null,2,"button",[["class","btn btn-success"]],null,[[null,"click"]],function(n,e,l){var t=!0,i=n.component;"click"===e&&(t=!1!==i.acceptVideoCall()&&t);return t},null,null)),(n()(),u._39(13,null,["",""])),u._33(131072,D.a,[A.a,u.i]),(n()(),u._39(-1,null,["\n      "])),(n()(),u._18(16,0,null,null,2,"button",[["class","btn btn-danger"],["id","reject-call-btn"]],null,[[null,"click"]],function(n,e,l){var t=!0,i=n.component;"click"===e&&(t=!1!==i.rejectVideoCall()&&t);return t},null,null)),(n()(),u._39(17,null,["",""])),u._33(131072,D.a,[A.a,u.i]),(n()(),u._39(-1,null,["\n    "])),(n()(),u._39(-1,null,["\n  "]))],null,function(n,e){var l=e.component;n(e,3,0,u._40(e,3,0,u._31(e,4).transform("layout.incoming")),u._40(e,3,1,u._31(e,5).transform("AUDIO"==l.caller_info.call_type?"layout.audio":"layout.video")),u._40(e,3,2,u._31(e,6).transform("layout.call"))),n(e,8,0,l.caller_info.full_name),n(e,13,0,u._40(e,13,0,u._31(e,14).transform("layout.accept"))),n(e,17,0,u._40(e,17,0,u._31(e,18).transform("layout.reject")))})}function U(n){return u._41(0,[(n()(),u._18(0,0,null,null,16,"div",[["class","video-action-buttons p-3 d-flex flex-column justify-content-center align-items-center"]],null,null,null,null,null)),(n()(),u._39(-1,null,["\n    "])),(n()(),u._18(2,0,null,null,2,"p",[["class","mt-0 incoming-call"]],null,null,null,null,null)),(n()(),u._39(3,null,["",""])),u._33(131072,D.a,[A.a,u.i]),(n()(),u._39(-1,null,["\n    "])),(n()(),u._18(6,0,null,null,9,"div",[["id","buttons"]],null,null,null,null,null)),(n()(),u._39(-1,null,["\n      "])),(n()(),u._18(8,0,null,null,2,"button",[["class","btn btn-success"]],null,[[null,"click"]],function(n,e,l){var t=!0,i=n.component;"click"===e&&(t=!1!==i.openPermissionFrame()&&t);return t},null,null)),(n()(),u._39(9,null,["",""])),u._33(131072,D.a,[A.a,u.i]),(n()(),u._39(-1,null,["\n      "])),(n()(),u._18(12,0,null,null,2,"button",[["class","btn btn-danger"]],null,[[null,"click"]],function(n,e,l){var t=!0,i=n.component;"click"===e&&(t=!1!==i.declineNotifications()&&t);return t},null,null)),(n()(),u._39(13,null,["",""])),u._33(131072,D.a,[A.a,u.i]),(n()(),u._39(-1,null,["\n    "])),(n()(),u._39(-1,null,["\n  "]))],null,function(n,e){n(e,3,0,u._40(e,3,0,u._31(e,4).transform("layout.allowPush"))),n(e,9,0,u._40(e,9,0,u._31(e,10).transform("layout.yes"))),n(e,13,0,u._40(e,13,0,u._31(e,14).transform("layout.no")))})}function V(n){return u._41(0,[(n()(),u._18(0,0,null,null,17,"div",[["id","fugu-container"]],null,null,null,null,null)),(n()(),u._39(-1,null,["\n  "])),(n()(),u._18(2,0,null,null,0,"div",[["class","d-none"],["id","video-sound"]],null,null,null,null,null)),(n()(),u._39(-1,null,["\n  "])),(n()(),u._18(4,0,null,null,0,"div",[["id","sound"],["style","display:none"]],null,null,null,null,null)),(n()(),u._39(-1,null,["\n  "])),(n()(),u._12(16777216,null,null,1,null,X)),u._16(7,16384,null,0,L.k,[u._0,u.X],{ngIf:[0,"ngIf"]},null),(n()(),u._39(-1,null,["\n  "])),(n()(),u._12(16777216,null,null,1,null,U)),u._16(10,16384,null,0,L.k,[u._0,u.X],{ngIf:[0,"ngIf"]},null),(n()(),u._39(-1,null,["\n  "])),(n()(),u._18(12,0,null,null,4,"div",[["class","routing-container"],["id","fuguChatsListContainer"]],null,null,null,null,null)),(n()(),u._39(-1,null,["\n    "])),(n()(),u._18(14,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),u._16(15,212992,null,0,_.m,[_.b,u._0,u.k,[8,null],u.i],null,null),(n()(),u._39(-1,null,["\n  "])),(n()(),u._39(-1,null,["\n"])),(n()(),u._39(-1,null,["\n"])),(n()(),u._18(19,0,null,null,1,"app-message-popup",[],null,null,null,R,W)),u._16(20,114688,null,0,$,[C.a,u.i],null,null)],function(n,e){var l=e.component;n(e,7,0,l.showVideoCallReceived),n(e,10,0,!l.showVideoCallReceived&&(null==l.commonService?null:l.commonService.showNotificationsConfirmation)&&(null==l.commonService?null:l.commonService.showNotificationsConfirmationTrigger)),n(e,15,0),n(e,20,0)},null)}var q=u._13("app-layout",d,function(n){return u._41(0,[(n()(),u._18(0,0,null,null,1,"app-layout",[],null,null,null,V,z)),u._16(1,245760,null,0,d,[a.a,A.a,r.a,u.i,_.k,m.a],null,null)],function(n,e){n(e,1,0)},null)},{},{},[]),H=l("Qbdm"),B=function(){function n(){}return n.prototype.transform=function(n,e){return void 0===e&&(e=null),n?Object.keys(n):[]},n}(),Y=function(){function n(){}return n.prototype.transform=function(n,e){try{if("string"!=typeof n)return n;if(n.indexOf("sheet_apple_64_indexed_128.png")>-1)return n;if(n.includes("<a"))return n;var l=n.match(/(((https?\:\/\/)|(www\.))(\S([^<\n\s])+))/g);return l&&l.forEach(function(e,l){n=n.replace(e,function(n){return"$a_"+l})}),n=this.phoneNumber(n),l&&l.forEach(function(e,l){var t=e;t.indexOf("http")<0&&t.indexOf("https")<0&&(t=t.replace("www","http://www"));var i="$a_"+l;new RegExp(i,"g");n=n.replace(i,function(n){return'<a target="_blank" href="'+t+'" class="link-color">'+e+"</a>"})}),n.replace(/\n/g,"<br/>")}catch(e){return console.log(e),n}},n.prototype.phoneNumber=function(n){try{if("string"!=typeof n)return n;return n.replace(/([+]?\d{1,2}[.-\s]?)?(\d{3}[.-]?){2}\d{4}/g,"<a href='tel:$&'>$&</a>")}catch(e){return console.log(e),n}},n}(),G=function(){function n(){this.TimSort=l("Rvfx")}return n.prototype.transform=function(n,e){if(void 0===e&&(e=null),n){var l=[];return n.forEach(function(n){l.push(e[n])}),this.TimSort.sort(l,this.Compare),l}},n.prototype.Compare=function(n,e){if(n.channel_id==e.channel_id)return n.channel_priority-e.channel_priority;var l=new Date(n.date_time);return new Date(e.date_time)-l},n}(),Z=function(){function n(){this.MMM=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}return n.prototype.transform=function(n,e){void 0===e&&(e=null);var l=new Date(n),t=new Date;t.getFullYear(),t.getMonth(),t.getDate();if(l.getFullYear()==t.getFullYear()&&l.getMonth()==t.getMonth()&&l.getDate()==t.getDate()){var i=l.getHours(),s=l.getMinutes(),u=i>=12?"pm":"am";return(i=(i%=12)||12)+":"+(s=s<10?"0"+s:s)+" "+u}return l.getDate()+" "+this.MMM[l.getMonth()]},n}(),J=(function(){function n(n){this.commonService=n}n.prototype.transform=function(n,e,l,t){if(!n)return!1;var i;l&&(i=this.commonService.checkSingleEmoji(n));var s=twemoji.parse(n,{folder:"svg",ext:".svg",className:e});try{if(i&&n)if((s.match(/<img/g).length||[].length)<3&&(s=s.replace(/class="emoji"/g,'class="big-emoji"'),t))return!0}catch(n){}return!t&&s},n.ctorParameters=function(){return[{type:r.a}]}}(),function(){function n(){}return n.prototype.transform=function(n){return n.replace(/\n/g,"<br />")},n}()),K=function(){function n(n){this.sanitizer=n}return n.prototype.transform=function(n,e){switch(e){case"html":return this.sanitizer.bypassSecurityTrustHtml(n);case"style":return this.sanitizer.bypassSecurityTrustStyle(n);case"script":return this.sanitizer.bypassSecurityTrustScript(n);case"url":return this.sanitizer.bypassSecurityTrustUrl(n);case"resourceUrl":return this.sanitizer.bypassSecurityTrustResourceUrl(n);default:return this.sanitizer.bypassSecurityTrustHtml(n)}},n.ctorParameters=function(){return[{type:H.c}]},n}(),Q=function(){function n(){}return n.prototype.transform=function(n){var e=Number(n),l="",t=Math.floor(e/3600),i=Math.floor(e%3600/60),s=Math.floor(e%3600%60);return t&&(l=("0"+t).slice(-2)+":"),l+=("0"+i).slice(-2)+":"+("0"+s).slice(-2)},n.ctorParameters=function(){return[]},n}(),nn=function(){function n(){}return n.prototype.transform=function(n){if(n)return n.replace(/<[^>]*>/g,"")},n.ctorParameters=function(){return[]},n}(),en=[[".conversation[_ngcontent-%COMP%]{padding:30px;display:-webkit-box;display:-ms-flexbox;display:flex;-ms-flex-line-pack:center;align-content:center;border-top:1px solid #f3f4f5;cursor:pointer}.no-chat-div[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;height:100%;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}.no-conv-text[_ngcontent-%COMP%]{font-family:Proxima-Regular;font-size:19px;font-weight:600;text-align:center;color:#595868;margin-top:15px}.conversation[_ngcontent-%COMP%]:hover{background-color:#f7f8fa}.conversation[_ngcontent-%COMP%]:nth-child(1){border-top:none}.conversations-container[_ngcontent-%COMP%]{border:1px solid #ddd;overflow:auto;border-radius:0 0 6px 6px}.conversation-header[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0;text-overflow:ellipsis;word-wrap:break-word;word-break:break-all;max-height:17px;overflow:hidden;font-weight:500}.conversation-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:14px;word-break:break-word;max-height:29px;overflow:hidden;text-overflow:ellipsis;max-width:80%}.conversation-header[_ngcontent-%COMP%]   p.sub-title[_ngcontent-%COMP%]{margin:0;font-size:14px;word-break:break-word;max-height:29px;overflow:hidden;text-overflow:clip;max-width:100%;white-space:nowrap}#fugu-messenger-header-div[_ngcontent-%COMP%]{height:50px;background-color:var(--color);-webkit-box-shadow:0 1px 4px rgba(0,0,0,.4);box-shadow:0 1px 4px rgba(0,0,0,.4);z-index:9;display:-webkit-box;display:-ms-flexbox;display:flex;padding:30px;-webkit-box-align:center;-ms-flex-align:center;align-items:center;font-family:Proxima-Regular;color:#fff;position:relative;border-top-left-radius:inherit!important;border-top-right-radius:inherit!important}.channel-image[_ngcontent-%COMP%]{width:42px;height:42px;background-color:#ddd;border:2px solid #ddd;border-radius:100%;display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;margin-right:20px;text-transform:uppercase}img.channel-image[_ngcontent-%COMP%]{vertical-align:middle}.btn-new-conversation[_ngcontent-%COMP%]{position:relative;height:45px;padding-left:20px;padding-right:20px;color:#fff;font-size:13px;pointer-events:auto;cursor:pointer;-webkit-box-shadow:0 4px 12px rgba(0,0,0,.1);box-shadow:0 4px 12px rgba(0,0,0,.1);border-radius:40px;background-color:#7e93af;text-align:center;-webkit-transition:-webkit-box-shadow .12s;transition:-webkit-box-shadow .12s;transition:box-shadow .12s;transition:box-shadow .12s,-webkit-box-shadow .12s;-webkit-animation:.42s cubic-bezier(.23,1,.32,1) .16s both new-conversation-fade-in;animation:.42s cubic-bezier(.23,1,.32,1) .16s both new-conversation-fade-in;-webkit-transform:translateY(-30px);transform:translateY(-30px);border:none;will-change:box-shadow;-webkit-box-align:center;-ms-flex-align:center;outline:0!important;display:-webkit-box;display:-ms-flexbox;display:flex;margin-bottom:-30px}.btn-new-conversation[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:15px;height:15px;margin-right:5px;margin-bottom:3px}.btn-new-conversation[_ngcontent-%COMP%]:hover{-webkit-box-shadow:0 8px 24px rgba(0,0,0,.2);box-shadow:0 8px 24px rgba(0,0,0,.2)}@-webkit-keyframes new-conversation-fade-in{0%{opacity:0;-webkit-transform:translateY(30px);transform:translateY(30px)}100%{opacity:1;-webkit-transform:translateY(-30px);transform:translateY(-30px)}}@keyframes new-conversation-fade-in{0%{opacity:0;-webkit-transform:translateY(30px);transform:translateY(30px)}100%{opacity:1;-webkit-transform:translateY(-30px);transform:translateY(-30px)}}.span-channel-info[_ngcontent-%COMP%]{width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.span-channel-info[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 6px;word-wrap:break-word;word-break:break-all;max-height:17px;font-weight:500;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.span-channel-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:14px;word-break:break-word;max-height:29px;overflow:hidden;text-overflow:ellipsis;max-width:80%;color:rgba(73,76,93,.9)}.conv-container.message-deleted[_ngcontent-%COMP%]   .span-channel-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-style:italic;color:rgba(0,0,0,.4)!important}.conv-container[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;width:100%;position:relative}.badge[_ngcontent-%COMP%]{display:inline-block;min-width:10px;padding:4px 7px 3px;font-size:12px;font-weight:700;line-height:1;color:#fff;text-align:center;white-space:nowrap;vertical-align:middle;background-color:#e02a46;border-radius:10px;position:absolute;right:-20px;top:-5px}.date-time[_ngcontent-%COMP%]{position:absolute;right:-20px;font-size:13px;bottom:3px;color:#777}#loader-div[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%}.last-div-conversation[_ngcontent-%COMP%]{padding:30px;display:-webkit-box;display:-ms-flexbox;display:flex;-ms-flex-line-pack:center;align-content:center;border-top:1px solid #f3f4f5;height:101px}.btn-new-conv-div[_ngcontent-%COMP%]{width:100%;height:80px;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;justify-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-ms-flexbox;display:flex;position:fixed;bottom:0}.btn-new-conv-div[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex}.powered-hippo[_ngcontent-%COMP%]{display:inline-block;font-size:12px;bottom:0;font-family:Proxima-Regular;background-color:#fff;width:100%;text-align:center;padding-bottom:6px}.hippo-link[_ngcontent-%COMP%]{color:grey;text-decoration:none}.hippo-link[_ngcontent-%COMP%]:hover{text-decoration:underline}.hippo[_ngcontent-%COMP%]{font-family:Proxima-Bold;color:#2296ff;font-size:15px}.labelContainer[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;position:absolute;margin-left:16vw;margin-top:65px}.labelContainer[_ngcontent-%COMP%]   .assignedLabel[_ngcontent-%COMP%]{background-color:#ff7e00;color:#fff;border:transparent;border-radius:8.5px;padding:4px 10px;font-size:10px;margin-right:5px}.labelContainer[_ngcontent-%COMP%]   .supportLabel[_ngcontent-%COMP%]{background-color:#00cf69!important}div.loading-dots[_ngcontent-%COMP%]{top:5px;right:0;width:100%;z-index:2;position:absolute;color:var(--color);opacity:.6;font-size:28px;height:0;text-align:center}div.loading-dots.new11[_ngcontent-%COMP%]{top:40px}.loading-dots[_ngcontent-%COMP%]:after{content:'\u2022';-webkit-animation:1s steps(5,end) infinite dots;animation:1s steps(5,end) infinite dots}@-webkit-keyframes dots{0%,20%{color:transparent;text-shadow:.5em 0 0 transparent,1em 0 0 transparent}40%{color:var(--color);text-shadow:.5em 0 0 transparent,1em 0 0 transparent}60%{text-shadow:.5em 0 0 var(--color),1em 0 0 transparent}100%,80%{text-shadow:.5em 0 0 var(--color),1em 0 0 var(--color)}}@keyframes dots{0%,20%{color:transparent;text-shadow:.5em 0 0 transparent,1em 0 0 transparent}40%{color:var(--color);text-shadow:.5em 0 0 transparent,1em 0 0 transparent}60%{text-shadow:.5em 0 0 var(--color),1em 0 0 transparent}100%,80%{text-shadow:.5em 0 0 var(--color),1em 0 0 var(--color)}}.conv-tabs[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;width:100%;position:-webkit-sticky;position:sticky;top:0;left:0;background-color:#fff;z-index:2;-webkit-box-shadow:0 2px 6px 0 rgba(0,0,0,.1);box-shadow:0 2px 6px 0 rgba(0,0,0,.1)}.tabs-btn[_ngcontent-%COMP%]{width:100%;min-height:35px;border:0;color:#444;background-color:#fafafa;cursor:pointer;outline:0;-webkit-box-shadow:none;box-shadow:none;-webkit-transition:all .25s;transition:all .25s}.tabs-btn[_ngcontent-%COMP%]:disabled{opacity:1;color:#2f2f2f;font-weight:600;cursor:default;background-color:#fff;border-bottom:2px solid var(--color)}"]],ln=u._15({encapsulation:0,styles:en,data:{animation:[{type:7,name:"fadeInCurtain",definitions:[{type:1,expr:"* => *",animation:[{type:11,selector:":leave",animation:[{type:12,timings:32,animation:[{type:4,styles:{type:5,steps:[{type:6,styles:{opacity:1,offset:0},offset:null},{type:6,styles:{opacity:0,offset:1},offset:null}]},timings:".2s ease"}]}],options:{optional:!0}},{type:11,selector:":enter",animation:[{type:6,styles:{opacity:0},offset:null},{type:12,timings:50,animation:[{type:4,styles:{type:5,steps:[{type:6,styles:{opacity:0,transform:"translateX(-8px)",offset:0},offset:null},{type:6,styles:{opacity:1,transform:"translateX(0)",offset:1},offset:null}]},timings:".32s .16ms cubic-bezier(0.23, 1, 0.32, 1)"}]}],options:{optional:!0}}],options:null}],options:{}},{type:7,name:"fadeOut",definitions:[{type:1,expr:":leave",animation:[{type:6,styles:{opacity:1},offset:null},{type:4,styles:{type:5,steps:[{type:6,styles:{opacity:1,maxHeight:"100%",offset:0},offset:null},{type:6,styles:{opacity:0,maxHeight:"0",offset:1},offset:null}]},timings:".2s ease"}],options:null}],options:{}}]}});function tn(n){return u._41(0,[(n()(),u._18(0,0,null,null,12,"div",[["class","cursor-hand"],["style","margin-right: 10px;"]],null,[[null,"click"]],function(n,e,l){var t=!0,i=n.component;"click"===e&&(t=!1!==i.onAnnouncementClick()&&t);return t},null,null)),(n()(),u._39(-1,null,["\n      "])),(n()(),u._18(2,0,null,null,9,":svg:svg",[[":xml:space","preserve"],[":xmlns:xlink","http://www.w3.org/1999/xlink"],["height","18px"],["id","Capa_1"],["style","enable-background:new 0 0 485.877 485.877;"],["version","1.1"],["viewBox","0 0 485.877 485.877"],["width","18px"],["x","0px"],["xmlns","http://www.w3.org/2000/svg"],["y","0px"]],null,null,null,null,null)),(n()(),u._18(3,0,null,null,7,":svg:g",[],null,null,null,null,null)),(n()(),u._18(4,0,null,null,6,":svg:g",[],null,null,null,null,null)),(n()(),u._39(-1,null,["\n        "])),(n()(),u._18(6,0,null,null,3,":svg:g",[],null,null,null,null,null)),(n()(),u._39(-1,null,["\n          "])),(n()(),u._18(8,0,null,null,0,":svg:path",[["class","active-path"],["d","M420.05,150.054V56.013c-0.156-3.645-2.115-6.974-5.224-8.882c-2.967-1.825-6.541-2.39-9.927-1.567l-207.412,82.547    h-102.4c-19.305,0.381-36.893,11.174-45.976,28.212l-9.404,3.657c-23.809,8.251-39.757,30.704-39.706,55.902    c-0.15,25.109,15.877,47.463,39.706,55.38l6.269,2.612c4.827,12.496,14.142,22.742,26.122,28.735l27.69,100.31    c7.428,27.284,35.568,43.38,62.852,35.952c11.005-2.996,20.695-9.581,27.532-18.711c9.482-13.122,12.552-29.816,8.359-45.453    l-18.808-68.963h17.763l207.412,84.114l3.657,1.045c2.191,0.034,4.352-0.506,6.269-1.567c3.1-1.664,5.087-4.844,5.224-8.359    v-99.265c36.356-0.001,65.828-29.474,65.827-65.831C485.875,179.526,456.405,150.055,420.05,150.054z M43.887,250.364    c-13.962-5.587-22.795-19.468-21.943-34.482c-0.852-15.014,7.981-28.895,21.943-34.482V250.364z M173.454,407.099    c-5.754,7.748-14.907,12.226-24.555,12.016c-13.737-0.42-25.599-9.74-29.257-22.988l-24.555-90.384h63.216l19.853,74.188    C180.869,389.227,179.134,399.255,173.454,407.099z M190.173,284.845H95.087c-15.846,0.869-29.396-11.273-30.265-27.119    c-0.039-0.712-0.052-1.425-0.037-2.138v-74.188c-0.586-17.302,12.965-31.804,30.267-32.391c0.012,0,0.023-0.001,0.035-0.001    h95.086V284.845z M399.152,365.303L211.07,290.07V146.919l188.082-75.233V365.303z M420.05,260.813v-89.861    c24.815,0.001,44.93,20.118,44.929,44.933C464.977,240.697,444.863,260.812,420.05,260.813z"],["data-old_color","#000000"],["data-original","#000000"],["fill","#FFF"]],null,null,null,null,null)),(n()(),u._39(-1,null,["\n        "])),(n()(),u._39(-1,null,["\n      "])),(n()(),u._39(-1,null,[" "])),(n()(),u._39(-1,null,["\n    "]))],null,null)}function sn(n){return u._41(0,[(n()(),u._18(0,0,null,null,2,"span",[],null,null,null,null,null)),(n()(),u._39(1,null,["",""])),u._33(131072,D.a,[A.a,u.i])],null,function(n,e){n(e,1,0,u._40(e,1,0,u._31(e,2).transform("Conversation.my")))})}function un(n){return u._41(0,[(n()(),u._18(0,0,null,null,1,"span",[],null,null,null,null,null)),(n()(),u._39(1,null,["",""]))],null,function(n,e){n(e,1,0,e.component.fuguWidgetService.fuguWidgetData.my_chats_text)})}function an(n){return u._41(0,[(n()(),u._18(0,0,null,null,7,"button",[["class","tabs-btn"]],[[8,"disabled",0]],[[null,"click"]],function(n,e,l){var t=!0,i=n.component;"click"===e&&(t=!1!==i.changeConversation(i.ChatTypeEnum.other)&&t);return t},null,null)),(n()(),u._39(-1,null,["\n        "])),(n()(),u._12(16777216,null,null,1,null,sn)),u._16(3,16384,null,0,L.k,[u._0,u.X],{ngIf:[0,"ngIf"]},null),(n()(),u._39(-1,null,["\n        "])),(n()(),u._12(16777216,null,null,1,null,un)),u._16(6,16384,null,0,L.k,[u._0,u.X],{ngIf:[0,"ngIf"]},null),(n()(),u._39(-1,null,["\n      "]))],function(n,e){var l=e.component;n(e,3,0,!(null!=l.fuguWidgetService&&(null!=l.fuguWidgetService.fuguWidgetData&&l.fuguWidgetService.fuguWidgetData.my_chats_text))),n(e,6,0,null==l.fuguWidgetService?null:null==l.fuguWidgetService.fuguWidgetData?null:l.fuguWidgetService.fuguWidgetData.my_chats_text)},function(n,e){var l=e.component;n(e,0,0,l.commonService.selectedChatType==l.ChatTypeEnum.other)})}function on(n){return u._41(0,[(n()(),u._18(0,0,null,null,2,"span",[],null,null,null,null,null)),(n()(),u._39(1,null,["",""])),u._33(131072,D.a,[A.a,u.i])],null,function(n,e){n(e,1,0,u._40(e,1,0,u._31(e,2).transform("Conversation.o2o")))})}function rn(n){return u._41(0,[(n()(),u._18(0,0,null,null,1,"span",[],null,null,null,null,null)),(n()(),u._39(1,null,["",""]))],null,function(n,e){n(e,1,0,e.component.fuguWidgetService.fuguWidgetData.internal_chats_text)})}function cn(n){return u._41(0,[(n()(),u._18(0,0,null,null,7,"button",[["class","tabs-btn"]],[[8,"disabled",0]],[[null,"click"]],function(n,e,l){var t=!0,i=n.component;"click"===e&&(t=!1!==i.changeConversation(i.ChatTypeEnum.AdminToAdmin)&&t);return t},null,null)),(n()(),u._39(-1,null,["\n        "])),(n()(),u._12(16777216,null,null,1,null,on)),u._16(3,16384,null,0,L.k,[u._0,u.X],{ngIf:[0,"ngIf"]},null),(n()(),u._39(-1,null,["\n        "])),(n()(),u._12(16777216,null,null,1,null,rn)),u._16(6,16384,null,0,L.k,[u._0,u.X],{ngIf:[0,"ngIf"]},null),(n()(),u._39(-1,null,["\n      "]))],function(n,e){var l=e.component;n(e,3,0,!(null!=l.fuguWidgetService&&(null!=l.fuguWidgetService.fuguWidgetData&&l.fuguWidgetService.fuguWidgetData.internal_chats_text))),n(e,6,0,null==l.fuguWidgetService?null:null==l.fuguWidgetService.fuguWidgetData?null:l.fuguWidgetService.fuguWidgetData.internal_chats_text)},function(n,e){var l=e.component;n(e,0,0,l.commonService.selectedChatType==l.ChatTypeEnum.AdminToAdmin)})}function _n(n){return u._41(0,[(n()(),u._18(0,0,null,null,2,"span",[],null,null,null,null,null)),(n()(),u._39(1,null,["",""])),u._33(131072,D.a,[A.a,u.i])],null,function(n,e){n(e,1,0,u._40(e,1,0,u._31(e,2).transform("Conversation.agentSupport")))})}function gn(n){return u._41(0,[(n()(),u._18(0,0,null,null,1,"span",[],null,null,null,null,null)),(n()(),u._39(1,null,["",""]))],null,function(n,e){n(e,1,0,e.component.fuguWidgetService.fuguWidgetData.agent_support_text)})}function mn(n){return u._41(0,[(n()(),u._18(0,0,null,null,7,"button",[["class","tabs-btn"]],[[8,"disabled",0]],[[null,"click"]],function(n,e,l){var t=!0,i=n.component;"click"===e&&(t=!1!==i.changeConversation(i.ChatTypeEnum.AgentSupport)&&t);return t},null,null)),(n()(),u._39(-1,null,["\n        "])),(n()(),u._12(16777216,null,null,1,null,_n)),u._16(3,16384,null,0,L.k,[u._0,u.X],{ngIf:[0,"ngIf"]},null),(n()(),u._39(-1,null,["\n        "])),(n()(),u._12(16777216,null,null,1,null,gn)),u._16(6,16384,null,0,L.k,[u._0,u.X],{ngIf:[0,"ngIf"]},null),(n()(),u._39(-1,null,["\n      "]))],function(n,e){var l=e.component;n(e,3,0,!(null!=l.fuguWidgetService&&(null!=l.fuguWidgetService.fuguWidgetData&&l.fuguWidgetService.fuguWidgetData.agent_support_text))),n(e,6,0,null==l.fuguWidgetService?null:null==l.fuguWidgetService.fuguWidgetData?null:l.fuguWidgetService.fuguWidgetData.agent_support_text)},function(n,e){var l=e.component;n(e,0,0,l.commonService.selectedChatType==l.ChatTypeEnum.AgentSupport)})}function pn(n){return u._41(0,[(n()(),u._18(0,0,null,null,11,"div",[["class","conv-tabs"]],null,null,null,null,null)),(n()(),u._39(-1,null,["\n      "])),(n()(),u._12(16777216,null,null,1,null,an)),u._16(3,16384,null,0,L.k,[u._0,u.X],{ngIf:[0,"ngIf"]},null),(n()(),u._39(-1,null,["\n      "])),(n()(),u._39(-1,null,["\n      "])),(n()(),u._12(16777216,null,null,1,null,cn)),u._16(7,16384,null,0,L.k,[u._0,u.X],{ngIf:[0,"ngIf"]},null),(n()(),u._39(-1,null,["\n      "])),(n()(),u._12(16777216,null,null,1,null,mn)),u._16(10,16384,null,0,L.k,[u._0,u.X],{ngIf:[0,"ngIf"]},null),(n()(),u._39(-1,null,["\n    "]))],function(n,e){var l=e.component;n(e,3,0,!(null!=l.fuguWidgetService&&(null!=l.fuguWidgetService.fuguWidgetData&&l.fuguWidgetService.fuguWidgetData.show_agent_support_only))),n(e,7,0,(null==l.fuguWidgetService?null:null==l.fuguWidgetService.fuguWidgetData?null:l.fuguWidgetService.fuguWidgetData.show_o2o_chats)||"1"==l.commonService.o2o_in_dashboard_enabled),n(e,10,0,(null==l.fuguWidgetService?null:null==l.fuguWidgetService.fuguWidgetData?null:l.fuguWidgetService.fuguWidgetData.agent_support_in_dashboard_enabled)||"1"==l.commonService.agent_support_in_dashboard_enabled)},null)}function dn(n){return u._41(0,[(n()(),u._18(0,0,null,null,5,"div",[["id","loader-div"]],[[24,"@fadeOut",0]],null,null,null,null)),u._16(1,278528,null,0,L.i,[u.y,u.z,u.n,u.N],{ngClass:[0,"ngClass"]},null),u._34(2,{"cutomer-k":0}),(n()(),u._39(-1,null,["\n      "])),(n()(),u._18(4,0,null,null,0,"img",[["id","loader-img"],["src","assets/img/ring.gif"]],null,null,null,null,null)),(n()(),u._39(-1,null,["\n    "]))],function(n,e){var l=e.component;n(e,1,0,n(e,2,0,null==l.commonService?null:l.commonService.isCustomerChat))},function(n,e){n(e,0,0,void 0)})}function fn(n){return u._41(0,[(n()(),u._18(0,0,null,null,7,"div",[["class","no-chat-div"]],[[24,"@fadeOut",0]],null,null,null,null)),(n()(),u._39(-1,null,["\n      "])),(n()(),u._18(2,0,null,null,0,"img",[["src","assets/img/no-conversation-found.png"]],null,null,null,null,null)),(n()(),u._39(-1,null,["\n      "])),(n()(),u._18(4,0,null,null,2,"div",[["class","no-conv-text"]],null,null,null,null,null)),(n()(),u._39(5,null,["",""])),u._33(131072,D.a,[A.a,u.i]),(n()(),u._39(-1,null,["\n    "]))],null,function(n,e){n(e,0,0,void 0),n(e,5,0,u._40(e,5,0,u._31(e,6).transform("Conversation.noConversationFound")))})}function hn(n){return u._41(0,[(n()(),u._18(0,0,null,null,6,"div",[["class","no-chat-div"]],null,null,null,null,null)),(n()(),u._39(-1,null,["\n        "])),(n()(),u._18(2,0,null,null,0,"img",[["src","assets/img/no-conversation-found.png"]],null,null,null,null,null)),(n()(),u._39(-1,null,["\n      "])),(n()(),u._18(4,0,null,null,1,"div",[["class","no-conv-text"]],null,null,null,null,null)),(n()(),u._39(5,null,["",""])),(n()(),u._39(-1,null,["\n    "]))],null,function(n,e){n(e,5,0,e.component.errorMessage)})}function vn(n){return u._41(0,[(n()(),u._18(0,0,null,null,2,"div",[["class","loading-dots"]],[[24,"@fadeOut",0]],null,null,null,null)),u._16(1,278528,null,0,L.i,[u.y,u.z,u.n,u.N],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),u._34(2,{new11:0})],function(n,e){var l=e.component;n(e,1,0,"loading-dots",n(e,2,0,"1"==l.commonService.o2o_in_dashboard_enabled||(null==l.fuguWidgetService?null:null==l.fuguWidgetService.fuguWidgetData?null:l.fuguWidgetService.fuguWidgetData.show_o2o_chats)))},function(n,e){n(e,0,0,void 0)})}function yn(n){return u._41(0,[(n()(),u._18(0,0,null,null,9,"p",[],null,null,null,null,null)),(n()(),u._39(1,null,["\n                  ","\n              "])),u._33(131072,D.a,[A.a,u.i]),u._33(131072,D.a,[A.a,u.i]),u._33(131072,D.a,[A.a,u.i]),u._33(131072,D.a,[A.a,u.i]),u._33(131072,D.a,[A.a,u.i]),u._33(131072,D.a,[A.a,u.i]),u._33(131072,D.a,[A.a,u.i]),u._33(131072,D.a,[A.a,u.i])],null,function(n,e){var l=e.component;n(e,1,0,l.conversations[e.parent.parent.context.$implicit.unique_id].last_sent_by_id==l.commonService.userDetails.user_id?l.conversations[e.parent.parent.context.$implicit.unique_id].label+" "+u._40(e,1,0,u._31(e,2).transform("Conversation.missed"))+" "+("AUDIO"==l.conversations[e.parent.parent.context.$implicit.unique_id].call_type?u._40(e,1,0,u._31(e,3).transform("Conversation.anAudio")):u._40(e,1,0,u._31(e,4).transform("Conversation.aVideo")))+" "+u._40(e,1,0,u._31(e,5).transform("Conversation.callWithYou"))+".":u._40(e,1,0,u._31(e,6).transform("Conversation.youMissed"))+("AUDIO"==l.conversations[e.parent.parent.context.$implicit.unique_id].call_type?u._40(e,1,0,u._31(e,7).transform("Conversation.anAudio")):u._40(e,1,0,u._31(e,8).transform("Conversation.aVideo")))+" "+u._40(e,1,0,u._31(e,9).transform("Conversation.callWith"))+" "+l.conversations[e.parent.parent.context.$implicit.unique_id].last_sent_by_full_name+".")})}function bn(n){return u._41(0,[(n()(),u._18(0,0,null,null,4,"p",[],null,null,null,null,null)),(n()(),u._39(1,null,["\n                "," "," ","\n              "])),u._33(131072,D.a,[A.a,u.i]),u._33(131072,D.a,[A.a,u.i]),u._33(131072,D.a,[A.a,u.i])],null,function(n,e){var l=e.component;n(e,1,0,u._40(e,1,0,u._31(e,2).transform("Conversation.the")),u._40(e,1,1,u._31(e,3).transform("AUDIO"==l.conversations[e.parent.parent.context.$implicit.unique_id].call_type?"Conversation.audio":"Conversation.video")),u._40(e,1,2,u._31(e,4).transform("Conversation.callEnded")))})}function xn(n){return u._41(0,[(n()(),u._18(0,0,null,null,7,null,null,null,null,null,null,null)),(n()(),u._39(-1,null,["\n              "])),(n()(),u._12(16777216,null,null,1,null,yn)),u._16(3,16384,null,0,L.k,[u._0,u.X],{ngIf:[0,"ngIf"]},null),(n()(),u._39(-1,null,["\n              "])),(n()(),u._12(16777216,null,null,1,null,bn)),u._16(6,16384,null,0,L.k,[u._0,u.X],{ngIf:[0,"ngIf"]},null),(n()(),u._39(-1,null,["\n            "]))],function(n,e){var l=e.component;n(e,3,0,l.conversations[e.parent.context.$implicit.unique_id].message_state==l.MessageStateTypes.MISSED_CALL),n(e,6,0,l.conversations[e.parent.context.$implicit.unique_id].message_state==l.MessageStateTypes.COMPLETED_CALL)},null)}function Cn(n){return u._41(0,[(n()(),u._18(0,0,null,null,1,"p",[],[[8,"innerHTML",1]],null,null,null,null)),u._35(1,1)],null,function(n,e){var l=e.component;n(e,0,0,u._40(e,0,0,n(e,1,0,u._31(e.parent.parent,2),l.conversations[e.parent.context.$implicit.unique_id].message)))})}function kn(n){return u._41(0,[(n()(),u._18(0,0,null,null,2,"span",[],null,null,null,null,null)),(n()(),u._39(1,null,["\n                  ","\n                "])),u._33(131072,D.a,[A.a,u.i])],null,function(n,e){var l=e.component;n(e,1,0,u._40(e,1,0,u._31(e,2).transform(l.conversations[e.parent.parent.context.$implicit.unique_id].last_sent_by_user_type==l.UserTypeEnum.Customer?"Conversation.youSentAPhoto":"Conversation.recievedAPhoto")))})}function Mn(n){return u._41(0,[(n()(),u._18(0,0,null,null,3,"span",[],null,null,null,null,null)),(n()(),u._39(1,null,["\n                  ","\n                "])),u._33(131072,D.a,[A.a,u.i]),u._33(131072,D.a,[A.a,u.i])],null,function(n,e){var l=e.component;n(e,1,0,l.conversations[e.parent.parent.context.$implicit.unique_id].last_sent_by_user_type==l.UserTypeEnum.Customer?u._40(e,1,0,u._31(e,2).transform("Conversation.youDeletedThisMessage")):l.conversations[e.parent.parent.context.$implicit.unique_id].last_sent_by_full_name+u._40(e,1,0,u._31(e,3).transform("Conversation.deletedThisMessage")))})}function wn(n){return u._41(0,[(n()(),u._18(0,0,null,null,7,"p",[],null,null,null,null,null)),(n()(),u._39(-1,null,["\n                "])),(n()(),u._12(16777216,null,null,1,null,kn)),u._16(3,16384,null,0,L.k,[u._0,u.X],{ngIf:[0,"ngIf"]},null),(n()(),u._39(-1,null,["\n                "])),(n()(),u._12(16777216,null,null,1,null,Mn)),u._16(6,16384,null,0,L.k,[u._0,u.X],{ngIf:[0,"ngIf"]},null),(n()(),u._39(-1,null,["\n              "]))],function(n,e){var l=e.component;n(e,3,0,(null==l.conversations[e.parent.context.$implicit.unique_id]?null:l.conversations[e.parent.context.$implicit.unique_id].message_state)!=l.MessageStateEnum.DELETED),n(e,6,0,(null==l.conversations[e.parent.context.$implicit.unique_id]?null:l.conversations[e.parent.context.$implicit.unique_id].message_state)==l.MessageStateEnum.DELETED)},null)}function Sn(n){return u._41(0,[(n()(),u._18(0,0,null,null,1,"p",[],null,null,null,null,null)),(n()(),u._39(-1,null,["\n                You sent a call invite\n              "]))],null,null)}function In(n){return u._41(0,[(n()(),u._18(0,0,null,null,3,"span",[],null,null,null,null,null)),(n()(),u._39(1,null,["\n                  ","\n                "])),u._33(131072,D.a,[A.a,u.i]),u._33(131072,D.a,[A.a,u.i])],null,function(n,e){var l=e.component;n(e,1,0,l.conversations[e.parent.parent.context.$implicit.unique_id].last_sent_by_user_type==l.UserTypeEnum.Customer?u._40(e,1,0,u._31(e,2).transform("Conversation.youDeletedThisMessage")):l.conversations[e.parent.parent.context.$implicit.unique_id].last_sent_by_full_name+u._40(e,1,0,u._31(e,3).transform("Conversation.deletedThisMessage")))})}function En(n){return u._41(0,[(n()(),u._18(0,0,null,null,2,"span",[],null,null,null,null,null)),(n()(),u._39(1,null,["\n                  ","\n                "])),u._33(131072,D.a,[A.a,u.i])],null,function(n,e){var l=e.component;n(e,1,0,u._40(e,1,0,u._31(e,2).transform(l.conversations[e.parent.parent.context.$implicit.unique_id].last_sent_by_user_type==l.UserTypeEnum.Customer?"Conversation.youSentAFile":"Conversation.recievedAFile")))})}function Tn(n){return u._41(0,[(n()(),u._18(0,0,null,null,7,"p",[],null,null,null,null,null)),(n()(),u._39(-1,null,["\n                "])),(n()(),u._12(16777216,null,null,1,null,In)),u._16(3,16384,null,0,L.k,[u._0,u.X],{ngIf:[0,"ngIf"]},null),(n()(),u._39(-1,null,["\n                "])),(n()(),u._12(16777216,null,null,1,null,En)),u._16(6,16384,null,0,L.k,[u._0,u.X],{ngIf:[0,"ngIf"]},null),(n()(),u._39(-1,null,["\n            "]))],function(n,e){var l=e.component;n(e,3,0,(null==l.conversations[e.parent.context.$implicit.unique_id]?null:l.conversations[e.parent.context.$implicit.unique_id].message_state)==l.MessageStateEnum.DELETED),n(e,6,0,(null==l.conversations[e.parent.context.$implicit.unique_id]?null:l.conversations[e.parent.context.$implicit.unique_id].message_state)!=l.MessageStateEnum.DELETED)},null)}function On(n){return u._41(0,[(n()(),u._18(0,0,null,null,5,null,null,null,null,null,null,null)),(n()(),u._39(-1,null,["\n              "])),(n()(),u._18(2,0,null,null,2,"p",[],null,null,null,null,null)),(n()(),u._39(3,null,["",""])),u._33(131072,D.a,[A.a,u.i]),(n()(),u._39(-1,null,["\n            "]))],null,function(n,e){n(e,3,0,u._40(e,3,0,u._31(e,4).transform("Conversation.paymentRequest")))})}function Pn(n){return u._41(0,[(n()(),u._18(0,0,null,null,1,"span",[["class","badge"]],null,null,null,null,null)),(n()(),u._39(1,null,["",""]))],null,function(n,e){n(e,1,0,e.component.conversations[e.parent.context.$implicit.unique_id].is_new_count)})}function Dn(n){return u._41(0,[(n()(),u._18(0,0,null,null,1,"span",[["class","badge"]],null,null,null,null,null)),(n()(),u._39(1,null,["",""]))],null,function(n,e){n(e,1,0,e.component.conversations[e.parent.context.$implicit.unique_id].unread_count)})}function An(n){return u._41(0,[(n()(),u._18(0,0,null,null,2,"span",[["class","date-time"]],null,null,null,null,null)),(n()(),u._39(1,null,["",""])),u._35(2,1)],null,function(n,e){var l=e.component;n(e,1,0,u._40(e,1,0,n(e,2,0,u._31(e.parent.parent,3),l.conversations[e.parent.context.$implicit.unique_id].last_updated_at)))})}function Ln(n){return u._41(0,[(n()(),u._18(0,0,null,null,1,"span",[["class","assignedLabel"]],null,null,null,null,null)),(n()(),u._39(1,null,["",""]))],null,function(n,e){var l=e.component;n(e,1,0,l.conversations[e.parent.parent.context.$implicit.unique_id].agent_id==l.commonService.userDetails.user_id?"Me":l.conversations[e.parent.parent.context.$implicit.unique_id].agent_name)})}function $n(n){return u._41(0,[(n()(),u._18(0,0,null,null,1,"span",[["class","assignedLabel"]],null,null,null,null,null)),(n()(),u._39(-1,null,["Unassigned"]))],null,null)}function jn(n){return u._41(0,[(n()(),u._18(0,0,null,null,1,"span",[["class","assignedLabel supportLabel"]],null,null,null,null,null)),(n()(),u._39(-1,null,["Support chat"]))],null,null)}function Wn(n){return u._41(0,[(n()(),u._18(0,0,null,null,10,"div",[["class","labelContainer"]],null,null,null,null,null)),(n()(),u._39(-1,null,["\n            "])),(n()(),u._12(16777216,null,null,1,null,Ln)),u._16(3,16384,null,0,L.k,[u._0,u.X],{ngIf:[0,"ngIf"]},null),(n()(),u._39(-1,null,["\n            "])),(n()(),u._12(16777216,null,null,1,null,$n)),u._16(6,16384,null,0,L.k,[u._0,u.X],{ngIf:[0,"ngIf"]},null),(n()(),u._39(-1,null,["\n            "])),(n()(),u._12(16777216,null,null,1,null,jn)),u._16(9,16384,null,0,L.k,[u._0,u.X],{ngIf:[0,"ngIf"]},null),(n()(),u._39(-1,null,["\n          "]))],function(n,e){var l=e.component;n(e,3,0,l.conversations[e.parent.context.$implicit.unique_id].agent_id>=0),n(e,6,0,l.conversations[e.parent.context.$implicit.unique_id].agent_id<=0),n(e,9,0,l.conversations[e.parent.context.$implicit.unique_id].user_id==l.commonService.userDetails.user_id)},null)}function Nn(n){return u._41(0,[(n()(),u._18(0,0,null,null,50,"div",[["class","conversation proxima-regular"]],null,[[null,"click"]],function(n,e,l){var t=!0,i=n.component;"click"===e&&(t=!1!==i.onConversationClick(n.context.$implicit.unique_id)&&t);return t},null,null)),(n()(),u._39(-1,null,["\n        "])),(n()(),u._18(2,0,null,null,47,"div",[["class","conv-container"]],null,null,null,null,null)),u._16(3,278528,null,0,L.i,[u.y,u.z,u.n,u.N],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),u._34(4,{"message-deleted":0}),(n()(),u._39(-1,null,["\n          "])),(n()(),u._18(6,0,null,null,5,"span",[["class","span-channel-image"]],null,null,null,null,null)),(n()(),u._39(-1,null,["\n            "])),(n()(),u._39(-1,null,["\n            "])),(n()(),u._18(9,0,null,null,1,"span",[["class","channel-image"]],null,null,null,null,null)),(n()(),u._39(10,null,["",""])),(n()(),u._39(-1,null,["\n          "])),(n()(),u._39(-1,null,["\n          "])),(n()(),u._18(13,0,null,null,23,"span",[["class","span-channel-info"]],null,null,null,null,null)),(n()(),u._39(-1,null,["\n            "])),(n()(),u._18(15,0,null,null,1,"h4",[["class","capitalize"]],null,null,null,null,null)),(n()(),u._39(16,null,["",""])),(n()(),u._39(-1,null,["\n            "])),(n()(),u._12(16777216,null,null,1,null,xn)),u._16(19,16384,null,0,L.k,[u._0,u.X],{ngIf:[0,"ngIf"]},null),(n()(),u._39(-1,null,["\n            "])),(n()(),u._12(16777216,null,null,2,null,Cn)),u._16(22,16384,null,0,L.k,[u._0,u.X],{ngIf:[0,"ngIf"]},null),u._32(23,4),(n()(),u._39(-1,null,["\n              "])),(n()(),u._12(16777216,null,null,1,null,wn)),u._16(26,16384,null,0,L.k,[u._0,u.X],{ngIf:[0,"ngIf"]},null),(n()(),u._39(-1,null,["\n              "])),(n()(),u._12(16777216,null,null,1,null,Sn)),u._16(29,16384,null,0,L.k,[u._0,u.X],{ngIf:[0,"ngIf"]},null),(n()(),u._39(-1,null,["\n              "])),(n()(),u._12(16777216,null,null,1,null,Tn)),u._16(32,16384,null,0,L.k,[u._0,u.X],{ngIf:[0,"ngIf"]},null),(n()(),u._39(-1,null,["\n            "])),(n()(),u._12(16777216,null,null,1,null,On)),u._16(35,16384,null,0,L.k,[u._0,u.X],{ngIf:[0,"ngIf"]},null),(n()(),u._39(-1,null,["\n\n          "])),(n()(),u._39(-1,null,["\n\n          "])),(n()(),u._12(16777216,null,null,1,null,Pn)),u._16(39,16384,null,0,L.k,[u._0,u.X],{ngIf:[0,"ngIf"]},null),(n()(),u._39(-1,null,["\n          "])),(n()(),u._12(16777216,null,null,1,null,Dn)),u._16(42,16384,null,0,L.k,[u._0,u.X],{ngIf:[0,"ngIf"]},null),(n()(),u._39(-1,null,["\n          "])),(n()(),u._12(16777216,null,null,1,null,An)),u._16(45,16384,null,0,L.k,[u._0,u.X],{ngIf:[0,"ngIf"]},null),(n()(),u._39(-1,null,["\n          "])),(n()(),u._12(16777216,null,null,1,null,Wn)),u._16(48,16384,null,0,L.k,[u._0,u.X],{ngIf:[0,"ngIf"]},null),(n()(),u._39(-1,null,["\n          "])),(n()(),u._39(-1,null,["\n      "]))],function(n,e){var l=e.component;n(e,3,0,"conv-container",n(e,4,0,(null==l.conversations[e.context.$implicit.unique_id]?null:l.conversations[e.context.$implicit.unique_id].message_state)==l.MessageStateEnum.DELETED)),n(e,19,0,l.conversations[e.context.$implicit.unique_id].message_type==l.MessageTypeEnum.Video_Call),n(e,22,0,!(n(e,23,0,l.MessageTypeEnum.Image_Message,l.MessageTypeEnum.File_Message,l.MessageTypeEnum.Payment_Message,l.MessageTypeEnum.Video_Call).includes(l.conversations[e.context.$implicit.unique_id].message_type)||null!=l.conversations[e.context.$implicit.unique_id]&&l.conversations[e.context.$implicit.unique_id].message_sub_type)),n(e,26,0,l.conversations[e.context.$implicit.unique_id].message_type==l.MessageTypeEnum.Image_Message),n(e,29,0,(null==l.conversations[e.context.$implicit.unique_id]?null:l.conversations[e.context.$implicit.unique_id].message_sub_type)==l.messageSubTypeEnum.CALL_INVITE),n(e,32,0,l.conversations[e.context.$implicit.unique_id].message_type==l.MessageTypeEnum.File_Message),n(e,35,0,l.conversations[e.context.$implicit.unique_id].message_type==l.MessageTypeEnum.Payment_Message),n(e,39,0,l.conversations[e.context.$implicit.unique_id].is_new_count),n(e,42,0,l.conversations[e.context.$implicit.unique_id].unread_count),n(e,45,0,-1!=l.conversations[e.context.$implicit.unique_id].channel_id),n(e,48,0,l.commonService.selectedChatType==l.ChatTypeEnum.AgentSupport)},function(n,e){var l=e.component;n(e,10,0,l.channelAcronym(e.context.$implicit.label)),n(e,16,0,l.conversations[e.context.$implicit.unique_id].label)})}function Rn(n){return u._41(0,[(n()(),u._18(0,0,null,null,3,"div",[["id","loader-div2"]],null,null,null,null,null)),(n()(),u._39(-1,null,["\n          "])),(n()(),u._18(2,0,null,null,0,"img",[["id","loader-img2"],["src","assets/img/ring.gif"]],null,null,null,null,null)),(n()(),u._39(-1,null,["\n        "]))],null,null)}function Fn(n){return u._41(0,[(n()(),u._18(0,0,null,null,4,"div",[["style","width: 100%; height: auto; display: flex; align-items: center; justify-content: center; min-height: 20px;"]],null,null,null,null,null)),(n()(),u._39(-1,null,["\n        "])),(n()(),u._12(16777216,null,null,1,null,Rn)),u._16(3,16384,null,0,L.k,[u._0,u.X],{ngIf:[0,"ngIf"]},null),(n()(),u._39(-1,null,["\n      "]))],function(n,e){n(e,3,0,e.component.showLoader)},null)}function zn(n){return u._41(0,[(n()(),u._18(0,0,null,null,0,"div",[["class","last-div-conversation proxima-regular"]],null,null,null,null,null))],null,null)}function Xn(n){return u._41(0,[u._33(0,B,[]),u._33(0,G,[]),u._33(0,nn,[]),u._33(0,Z,[]),u._37(402653184,1,{activeChatsContainer:0}),(n()(),u._18(5,0,null,null,61,"div",[["class","fuguCss fugu-messenger"],["id","fugu-messenger"]],null,null,null,null,null)),(n()(),u._39(-1,null,["\n  "])),(n()(),u._18(7,0,null,null,22,"div",[["class","proxima-regular"],["id","fugu-messenger-header-div"]],null,null,null,null,null)),(n()(),u._39(-1,null,["\n    "])),(n()(),u._18(9,0,null,null,14,"div",[["class","header-content"]],null,null,null,null,null)),(n()(),u._39(-1,null,["\n      "])),(n()(),u._18(11,0,null,null,1,"span",[["class","span-channel-image"]],null,null,null,null,null)),(n()(),u._39(-1,null,["\n      "])),(n()(),u._39(-1,null,["\n      "])),(n()(),u._18(14,0,null,null,8,"div",[],null,null,null,null,null)),(n()(),u._39(-1,null,["\n        "])),(n()(),u._18(16,0,null,null,5,"span",[["class","conversation-header"]],null,null,null,null,null)),(n()(),u._39(-1,null,["\n          "])),(n()(),u._18(18,0,null,null,2,"h4",[["class","capitalize"]],null,null,null,null,null)),(n()(),u._39(19,null,["",""])),u._33(131072,D.a,[A.a,u.i]),(n()(),u._39(-1,null,["\n        "])),(n()(),u._39(-1,null,["\n      "])),(n()(),u._39(-1,null,["\n    "])),(n()(),u._39(-1,null,["\n    "])),(n()(),u._12(16777216,null,null,1,null,tn)),u._16(26,16384,null,0,L.k,[u._0,u.X],{ngIf:[0,"ngIf"]},null),(n()(),u._39(-1,null,["\n    "])),(n()(),u._18(28,0,null,null,0,"div",[["class","cancel-btn-header2"]],null,[[null,"click"]],function(n,e,l){var t=!0,i=n.component;"click"===e&&(t=!1!==i.oncrossClick()&&t);return t},null,null)),(n()(),u._39(-1,null,["\n  "])),(n()(),u._39(-1,null,["\n\n  "])),(n()(),u._18(31,0,[[1,0],["scrollWidgetChatDiv",1]],null,34,"div",[["class","fuguCss fugu-messenger-main-div conversations-container"],["id","fugu-messenger-main-div"]],null,[[null,"wheel"],[null,"touchmove"],[null,"scroll"]],function(n,e,l){var t=!0,i=n.component;"wheel"===e&&(t=!1!==i.disableScroll(l,u._31(n,31))&&t);"touchmove"===e&&(t=!1!==i.onTouchMove(l,u._31(n,31))&&t);"scroll"===e&&(t=!1!==i.onScroll(l)&&t);return t},null,null)),(n()(),u._39(-1,null,["\n    "])),(n()(),u._12(16777216,null,null,1,null,pn)),u._16(34,16384,null,0,L.k,[u._0,u.X],{ngIf:[0,"ngIf"]},null),(n()(),u._39(-1,null,["\n    "])),(n()(),u._12(16777216,null,null,1,null,dn)),u._16(37,16384,null,0,L.k,[u._0,u.X],{ngIf:[0,"ngIf"]},null),(n()(),u._39(-1,null,["\n    "])),(n()(),u._12(16777216,null,null,2,null,fn)),u._16(40,16384,null,0,L.k,[u._0,u.X],{ngIf:[0,"ngIf"]},null),u._35(41,1),(n()(),u._39(-1,null,["\n    "])),(n()(),u._12(16777216,null,null,2,null,hn)),u._16(44,16384,null,0,L.k,[u._0,u.X],{ngIf:[0,"ngIf"]},null),u._35(45,1),(n()(),u._39(-1,null,["\n    "])),(n()(),u._12(16777216,null,null,1,null,vn)),u._16(48,16384,null,0,L.k,[u._0,u.X],{ngIf:[0,"ngIf"]},null),(n()(),u._39(-1,null,["\n    "])),(n()(),u._18(50,0,[["activeChatsContainer",1]],null,10,"div",[["id","conv-list-cont"]],[[24,"@fadeInCurtain",0]],null,null,null,null)),u._35(51,1),(n()(),u._39(-1,null,["\n\n      "])),(n()(),u._12(16777216,null,null,3,null,Nn)),u._16(54,802816,null,0,L.j,[u._0,u.X,u.y],{ngForOf:[0,"ngForOf"]},null),u._35(55,1),u._35(56,2),(n()(),u._39(-1,null,["\n      "])),(n()(),u._12(16777216,null,null,1,null,Fn)),u._16(59,16384,null,0,L.k,[u._0,u.X],{ngIf:[0,"ngIf"]},null),(n()(),u._39(-1,null,["\n    "])),(n()(),u._39(-1,null,["\n    "])),(n()(),u._12(16777216,null,null,2,null,zn)),u._16(63,16384,null,0,L.k,[u._0,u.X],{ngIf:[0,"ngIf"]},null),u._35(64,1),(n()(),u._39(-1,null,["\n  "])),(n()(),u._39(-1,null,["\n\n"]))],function(n,e){var l=e.component;n(e,26,0,"1"==(null==l.fuguWidgetService?null:null==l.fuguWidgetService.fuguWidgetData?null:l.fuguWidgetService.fuguWidgetData.show_announcement_button)),n(e,34,0,((null==l.fuguWidgetService?null:null==l.fuguWidgetService.fuguWidgetData?null:l.fuguWidgetService.fuguWidgetData.show_o2o_chats)||"1"==l.commonService.o2o_in_dashboard_enabled||"1"==l.commonService.agent_support_in_dashboard_enabled)&&!(null!=l.fuguWidgetService&&(null!=l.fuguWidgetService.fuguWidgetData&&l.fuguWidgetService.fuguWidgetData.show_agent_support_only))),n(e,37,0,l.showLoader),n(e,40,0,0==u._40(e,40,0,n(e,41,0,u._31(e,0),l.conversations)).length&&!l.showLoader&&!l.showErrorMessage),n(e,44,0,0==u._40(e,44,0,n(e,45,0,u._31(e,0),l.conversations)).length&&!l.showLoader&&l.showErrorMessage),n(e,48,0,l.showTopLoader&&!l.showLoader),n(e,54,0,u._40(e,54,0,n(e,56,0,u._31(e,1),u._40(e,54,0,n(e,55,0,u._31(e,0),l.conversations)),l.conversations))),n(e,59,0,null==l.commonService?null:l.commonService.isConversationsLoading),n(e,63,0,u._40(e,63,0,n(e,64,0,u._31(e,0),l.conversations)).length>4)},function(n,e){var l=e.component;n(e,19,0,u._40(e,19,0,u._31(e,20).transform("Conversation.conversationList"))),n(e,50,0,u._40(e,50,0,n(e,51,0,u._31(e,0),l.conversations)).length)})}var Un=u._13("app-conversations",b,function(n){return u._41(0,[(n()(),u._18(0,0,null,null,1,"app-conversations",[],null,[["document","touchstart"]],function(n,e,l){var t=!0;return"document:touchstart"===e&&(t=!1!==u._31(n,1).onTouchStart(l)&&t),t},Xn,ln)),u._16(1,245760,null,0,b,[r.a,m.a,_.k,a.a,A.a,u.i,_.a],null,null)],function(n,e){n(e,1,0)},null)},{},{},[]),Vn=l("NVOs"),qn=function(){function n(n,e){this.el=n,this.renderer=e}return n.prototype.ngOnInit=function(){},n.prototype.ngAfterViewInit=function(){this.renderer.invokeElementMethod(this.el.nativeElement,"focus",[])},n.ctorParameters=function(){return[{type:u.n},{type:u.N}]},n}(),Hn=function(){function n(n,e){this.el=n,this.renderer=e,this._autofocus=!0}return Object.defineProperty(n.prototype,"autofocus",{set:function(n){this._autofocus=n,this._autofocus&&this.focus()},enumerable:!0,configurable:!0}),n.prototype.ngOnInit=function(){},n.prototype.ngAfterViewInit=function(){this._autofocus&&this.focus()},n.prototype.focus=function(){this.renderer.invokeElementMethod(this.el.nativeElement,"focus",[])},n.ctorParameters=function(){return[{type:u.n},{type:u.N}]},n}(),Bn=l("PP02"),Yn=function(){function n(){}return Object.defineProperty(n.prototype,"errorMessage",{get:function(){for(var n in this.control.errors)if(this.control.errors.hasOwnProperty(n)&&this.control.touched)return Bn.a.getValidatorErrorMessage(n,this.control.errors[n]);return null},enumerable:!0,configurable:!0}),n.ctorParameters=function(){return[]},n}(),Gn=u._15({encapsulation:0,styles:["div[_ngcontent-%COMP%] { font-size: 12px; color: red; margin-top: 5px; }"],data:{}});function Zn(n){return u._41(0,[(n()(),u._18(0,0,null,null,1,"div",[],null,null,null,null,null)),(n()(),u._39(1,null,["",""]))],null,function(n,e){n(e,1,0,e.component.errorMessage)})}function Jn(n){return u._41(0,[(n()(),u._12(16777216,null,null,1,null,Zn)),u._16(1,16384,null,0,L.k,[u._0,u.X],{ngIf:[0,"ngIf"]},null)],function(n,e){n(e,1,0,null!==e.component.errorMessage)},null)}u._13("app-control-message",Yn,function(n){return u._41(0,[(n()(),u._18(0,0,null,null,2,"app-control-message",[],null,null,null,Jn,Gn)),u._36(4608,null,Bn.a,Bn.a,[]),u._16(2,49152,null,0,Yn,[],null,null)],null,null)},{control:"control"},{},[]);var Kn=function(){function n(n,e,l,t,i){this.commonService=n,this.translate=e,this.socketIoService=l,this.fuguWidgetService=t,this.formBuilder=i,this.openMediaPlayer=new u.p,this.MessageTypeEnum=o.i,this.UserTypeEnum=o.p,this.MessageStateTypesEnum=o.g,this.messageSubTypeEnum=o.r,this.MessageStateEnum=o.f,this.currentIndex=0,this.detailsFields=[],this.rating=-1,this.emojis=[{src:"assets/img/star.svg",ratedSrc:"assets/img/star-rate.svg",title:"Terrible",rating:1},{src:"assets/img/star.svg",ratedSrc:"assets/img/star-rate.svg",title:"Bad",rating:2},{src:"assets/img/star.svg",ratedSrc:"assets/img/star-rate.svg",title:"Okay",rating:3},{src:"assets/img/star.svg",ratedSrc:"assets/img/star-rate.svg",title:"Good",rating:4},{src:"assets/img/star.svg",ratedSrc:"assets/img/star-rate.svg",title:"Great",rating:5}],this.translateSubscription=this.commonService.getComponentLanguage().subscribe(function(n){e.use(n)})}return n.prototype.initForm=function(){switch(this.detailsForm=this.formBuilder.group({inputControl:["",[Vn.z.required]]}),this.detailsFields[this.currentIndex].type){case"email":this.detailsForm.get("inputControl").setValidators([Vn.z.required,Bn.a.emailValidator])}},n.prototype.ngOnInit=function(){switch(this.uuidv4=l("DtRx"),this.messageItem.message_type){case this.MessageTypeEnum.Form_Message:var n=0;if(this.messageItem&&this.messageItem.content_value&&this.messageItem.content_value[0])for(n=0;n<this.messageItem.content_value[0].questions.length;n++)if(this.appendField(n),!this.messageItem.values[n]){this.currentIndex=n,this.initForm();break}this.currentIndex!=n&&(this.currentIndex=this.detailsFields.length);break;case this.MessageTypeEnum.Feedback_Message:this.rating=this.messageItem.rating_given,this.commentToSend=this.messageItem.comment}},n.prototype.ngOnDestroy=function(){this.translateSubscription.unsubscribe()},n.prototype.appendField=function(n){var e={value:this.messageItem.values[n]||"",title:this.messageItem.content_value[0].questions[n],type:"string"==this.messageItem.content_value[0].data_type[n]?"text":this.messageItem.content_value[0].data_type[n]};this.detailsFields.push(e)},n.prototype.setDetail=function(n){this.commonService.fireAllErrors(this.detailsForm);var e=this.detailsForm.value.inputControl.trim();if(this.detailsForm.valid&&e){this.messageItem.values.push(e);var l={message_id:this.messageItem.id,values:this.messageItem.values,index:3,app_secret_key:this.fuguWidgetService.fuguWidgetData.appSecretKey,user_id:this.commonService.userDetails.user_id,muid:this.messageItem.muid};if(this.socketIoService.sendMessage(l),this.detailsFields[n].value=e,this.currentIndex+1<this.messageItem.content_value[0].questions.length&&this.appendField(this.currentIndex+1),this.currentIndex=n+1,n+1<this.detailsFields.length){var t=this;setTimeout(function(){t.initForm()})}}},n.prototype.openImage=function(n){this.commonService.postMessageToParentWindow({type:"Image",data:n})},n.prototype.selectRating=function(n){this.rating=n},n.prototype.submitRating=function(){if(this.rating>0){moment().utc().format();this.messageItem.is_rating_given=1,this.messageItem.rating_given=this.rating,this.messageItem.comment=this.commentToSend,this.messageItem.user_id=this.commonService.userDetails.user_id,this.messageItem.total_rating=5,this.socketIoService.sendMessage(this.messageItem)}},n.prototype.onTextarea_keydown=function(n){if(!n.shiftKey&&13==n.keyCode)return this.submitRating(),!1},n.prototype.autoGrow=function(n){var e=n.target;e.scrollHeight<95?e.style.height=e.scrollHeight+"px":e.style.height="95px"},n.prototype.sendPaymentMessage=function(n,e){console.log({button_info:n,message_data:e.custom_action}),this.commonService.postMessageToParentWindow({type:"PaymentMessage",data:{button_info:n,message_data:e.custom_action}})},n.prototype.openCallURL=function(n){n&&window.open(n,"_blank").focus()},n.ctorParameters=function(){return[{type:r.a},{type:g.b},{type:a.a},{type:m.a},{type:Vn.g}]},n}(),Qn=[[".message-container.user-message[_ngcontent-%COMP%]   .message-content[_ngcontent-%COMP%]   .message-to-be-send[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff!important}.message-container.agent-message[_ngcontent-%COMP%]   .message-content[_ngcontent-%COMP%]   .message-to-be-send[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#2c2333!important}.image-messages[_ngcontent-%COMP%]{cursor:pointer;background-position:center;background-size:cover;background-repeat:no-repeat;min-width:100px;min-height:100px;max-width:180px;max-height:180px;width:180px;height:180px;margin:0;border:0!important;display:block}.image-messages[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:180px;max-height:180px}p.message-to-be-send[_ngcontent-%COMP%]{margin:0}.detail[_ngcontent-%COMP%]:not(:last-child){margin-bottom:10px}.back-icon[_ngcontent-%COMP%]{-webkit-transform:rotate(180deg);transform:rotate(180deg);width:14px}.info-text[_ngcontent-%COMP%]{right:0;font-size:11px;bottom:calc(100% - 10px)}p[_ngcontent-%COMP%]{margin:0!important}.emojis-container[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;-ms-flex-pack:distribute;justify-content:space-around;padding:0 15px 5px}.feedback-agent[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:5px 15px 10px}.feedback-agent-name[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;font-family:inherit;color:#2f2f2f;font-size:13px}.emoji-container[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.emoji[_ngcontent-%COMP%]{opacity:.5}.active-emoji[_ngcontent-%COMP%]{opacity:1;-webkit-transform:scale(1.2);transform:scale(1.2);-webkit-transition:all .3s;transition:all .3s}.header[_ngcontent-%COMP%]{margin-bottom:10px;text-align:center}.footer[_ngcontent-%COMP%]{left:0}#actionsContainer[_ngcontent-%COMP%]{bottom:1px;background-color:#f4f7f9;width:calc(100% - 2px);display:-ms-inline-flexbox;display:-webkit-inline-box;display:inline-flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;border-bottom-left-radius:6px;border-bottom-right-radius:6px;padding:7px 0 0;border-top:.5px solid #dce0e6}#actionsContainer.new-feed[_ngcontent-%COMP%]{background-color:#fff;border-top:0;border-bottom:0;padding:5px 0;border-radius:0}#actionsContainer[_ngcontent-%COMP%]   .textarea-container[_ngcontent-%COMP%]{width:100%;min-height:38px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-ms-flex-pack:distribute;justify-content:space-around}#actionsContainer[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;background-color:transparent;border:0;outline:0;resize:none;-webkit-box-sizing:border-box;box-sizing:border-box;padding:0 15px;height:18px;font-size:15px;font-weight:400;line-height:1.33;white-space:pre;white-space:pre-wrap;word-wrap:break-word;-webkit-transition:background-color .2s ease,-webkit-box-shadow .2s ease;transition:background-color .2s ease,box-shadow .2s ease,-webkit-box-shadow .2s ease}.action-buttons[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;width:calc(100% + 2px);-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;bottom:0;margin-top:7px;background-color:#dce0e6}#btn-send[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;border:0;background-color:transparent;outline:0;cursor:pointer;color:#fff;font-size:16px;padding:10px 0;-webkit-box-flex:1;-ms-flex:1;flex:1;text-align:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}.active-component-send[_ngcontent-%COMP%]{background-color:var(--color)}.active-component-send#btn-send[_ngcontent-%COMP%]{color:#fff}.emoji-header[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:0 15px;margin-bottom:0}.align-center[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.feedback-container[_ngcontent-%COMP%]{padding-top:5px;color:#111}.feedback-form[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;width:100%;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.secondary-header[_ngcontent-%COMP%]{padding:15px;font-size:15px}.comment-container[_ngcontent-%COMP%]{width:100%;text-align:left;word-break:break-word;word-wrap:break-word;padding:0 15px 7px}.feedback-btn[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{fill:var(--color)}.feed-textarea[_ngcontent-%COMP%]{width:100%;min-height:50px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;border-radius:4px;border:1px solid #eaeaea;background-color:#fff;font-size:14px;margin-bottom:15px;padding:7px 10px;-webkit-box-pack:start;-ms-flex-pack:start;justify-content:flex-start;opacity:.7}.feed-line[_ngcontent-%COMP%]{border:1px solid #efefef;width:100%;border-top:0;border-left:0;border-right:0;margin-top:10px;margin-bottom:10px}.feed-line.feed-line-nopd[_ngcontent-%COMP%]{margin-top:0;margin-bottom:0}.feed-agent-image[_ngcontent-%COMP%]{border-radius:50%;-o-object-fit:cover;object-fit:cover;height:32px;width:32px}.feed-agent-image-letter[_ngcontent-%COMP%]{-o-object-fit:cover;object-fit:cover;min-height:32px;max-height:32px;min-width:32px;max-width:32px;background-color:#888;color:#fff;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-ms-flexbox;display:flex;border-radius:50%;text-transform:uppercase}.default-input[_ngcontent-%COMP%]::-webkit-input-placeholder{font-size:12px}.default-input[_ngcontent-%COMP%]::-moz-placeholder{font-size:12px}.default-input[_ngcontent-%COMP%]:-ms-input-placeholder{font-size:12px}.default-input[_ngcontent-%COMP%]:-moz-placeholder{font-size:11px}.video-play-image[_ngcontent-%COMP%]{width:72px!important;height:72px!important}.custom-action-img[_ngcontent-%COMP%]{background-position:center;background-size:cover;background-repeat:no-repeat;width:100%;height:150px;border-top-left-radius:10px;border-top-right-radius:10px}p.custom-action-description-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:last-child{right:0;float:right;word-break:break-word}p.custom-action-description-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:first-child{max-width:50%;display:inline-block;-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1;word-break:initial;font-weight:700}p.custom-action-description-item[_ngcontent-%COMP%]{margin:0 0 5px!important}p.custom-action-title[_ngcontent-%COMP%]{background-color:#78717e;color:#fff;float:right;border-top-left-radius:10px;border-bottom-left-radius:10px;min-width:45px;width:auto;padding:10px!important;text-align:center;max-width:80%}.custom-action-title-payment[_ngcontent-%COMP%]{color:#2c2333;display:inline-block;font-size:13px;margin:0;padding:10px}.custom-action-message-button__selected[_ngcontent-%COMP%], button.custom-action-action_buttons-item[_ngcontent-%COMP%]{outline:0;margin:4px 5px;padding:10px;border-radius:10px;-webkit-transition:all .3s ease;transition:all .3s ease;min-width:45px;text-align:left;background-color:#f8f9ff;color:#2c2333;border:1px solid #dce0e6;transition:all .3s ease;line-height:1.35;font-size:14px}.custom-action-message-button__selected[_ngcontent-%COMP%]{margin:0!important;border-top-left-radius:0;border-bottom-left-radius:4px}div.custom-action-action_buttons[_ngcontent-%COMP%]{border-top:1px solid #eee;margin:0}div.custom-action-description[_ngcontent-%COMP%]{padding:.25rem 10px 0;font-size:13px}div.body-div[_ngcontent-%COMP%]{background-color:#fff}p.custom-action-title-description[_ngcontent-%COMP%]{font-size:13px!important;margin:0;padding:0 10px 8px;font-weight:300}.custom-action-message[_ngcontent-%COMP%], .payment-message[_ngcontent-%COMP%]{color:#2c2333}.custom-action-message[_ngcontent-%COMP%]   button.custom-action-action_buttons-item[_ngcontent-%COMP%]:last-child, button.custom-action-action_buttons-item[_ngcontent-%COMP%]:last-child{border-right:none!important}.custom-action-message[_ngcontent-%COMP%]   .body-div[_ngcontent-%COMP%]{background-color:transparent}.custom-action-message[_ngcontent-%COMP%]   .custom-action-action_buttons[_ngcontent-%COMP%]{border-top:none;margin-top:8px}.opacity-5[_ngcontent-%COMP%]{opacity:.5}.custom-action-message[_ngcontent-%COMP%]   .custom-action-title[_ngcontent-%COMP%]{border-bottom:none;font-size:14px!important;margin:0;padding:4px 10px .3rem;font-family:Proxima-SBold}.flex-wrap[_ngcontent-%COMP%]{-ms-flex-wrap:wrap;flex-wrap:wrap}.payment-btn[_ngcontent-%COMP%]{background-color:var(--color)!important;color:#fff!important;border-radius:9px}.agent-card-message__container[_ngcontent-%COMP%]{border-radius:16px;-webkit-box-shadow:0 10px 20px 0 rgba(0,0,0,.15);box-shadow:0 10px 20px 0 rgba(0,0,0,.15);background-color:#fff;min-height:64px;height:auto;margin-bottom:5px;margin-top:5px;width:95%}.agent-card-message__container[_ngcontent-%COMP%]:hover{cursor:pointer}.agent-card-message__container.selected[_ngcontent-%COMP%]{margin-top:15px;margin-bottom:15px;width:calc(95% - 15px);margin-left:8px;overflow:hidden;-webkit-box-shadow:0 10px 10px 0 rgba(0,0,0,.1);box-shadow:0 10px 10px 0 rgba(0,0,0,.1)}.noOverflow[_ngcontent-%COMP%]{overflow:hidden!important}.agent-card-message__container[_ngcontent-%COMP%]:last-child{margin-bottom:20px}.agent-card-message__container[_ngcontent-%COMP%]   .agent-image[_ngcontent-%COMP%]{height:56px;width:56px;margin:auto 10px}.agent-card-message__container[_ngcontent-%COMP%]   .rating[_ngcontent-%COMP%]{border:2px solid #fff;background-color:#ffa019;border-radius:0 50% 50%;height:30px;width:auto;min-width:30px;padding:1px;display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;position:absolute;top:0;right:0;font-family:inherit;font-size:11px;font-stretch:normal;font-style:normal;line-height:normal;letter-spacing:normal;color:#fff;z-index:3;-webkit-transform:translate(0,0);transform:translate(0,0)}.agent-card-message__image[_ngcontent-%COMP%]{height:100%;width:100%;border-radius:50%;min-width:56px;min-height:56px;cursor:pointer;position:relative}.agent-card-message__name-box[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-align:start;-ms-flex-align:start;align-items:flex-start;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;justify-content:center;min-height:64px;font-size:13px;word-break:break-word;font-weight:500;color:#2f2f2f;padding-right:30px}.agent-card-message__name-box[_ngcontent-%COMP%]   .agent-card-message__title[_ngcontent-%COMP%]{overflow:hidden;display:-webkit-box;-webkit-line-clamp:1;-webkit-box-orient:vertical}.agent-card-message__desc[_ngcontent-%COMP%]{font-size:13px;font-weight:400;font-stretch:normal;font-style:normal;line-height:normal;letter-spacing:normal;color:#5a626a;margin-top:5px;overflow:hidden;display:-webkit-box;-webkit-line-clamp:1;-webkit-box-orient:vertical}.agentCardMobile[_ngcontent-%COMP%]{scroll-behavior:auto;margin-top:8px;max-height:223px;overflow-y:scroll;overflow-x:hidden;width:100%}.multi-select-container[_ngcontent-%COMP%]{background-color:#f6f6f6;padding:5px;border-radius:5px;display:-webkit-box;display:-ms-flexbox;display:flex;border:1px solid #e1e1e1}.payment-container[_ngcontent-%COMP%]{background-color:#fff;border-radius:5px;min-width:170px}.payment-container[_ngcontent-%COMP%]:not(:last-child){margin-bottom:.5rem}.payment-container__title[_ngcontent-%COMP%]{color:#2296ff;font-weight:700;word-break:break-word}.payment-container__description[_ngcontent-%COMP%]{word-break:break-word}.payment-container__amount[_ngcontent-%COMP%]{color:#2296ff;font-weight:700}.payment-success[_ngcontent-%COMP%]{padding:2px 4px;color:#2296ff;border:1px solid #2296ff;border-radius:4px;font-size:10px;font-weight:700;margin-top:13px}.botPaymentBox[_ngcontent-%COMP%]{background:#f8f9ff;max-width:-webkit-max-content;max-width:-moz-max-content;max-width:max-content;padding:4px;border-top-right-radius:8px;border-bottom-right-radius:8px;border-bottom-left-radius:8px;margin-bottom:5px}.video-call-bubble[_ngcontent-%COMP%]   .call-again-btn[_ngcontent-%COMP%]{background:0 0;color:#2296ff;outline:0;border:none}.video-call-bubble[_ngcontent-%COMP%]   .video-duration-message[_ngcontent-%COMP%]{font-size:10px;color:#979797}.video-messages.message-to-be-send[_ngcontent-%COMP%]   .video-frame[_ngcontent-%COMP%]{border:none;width:100%;height:210px;display:block;border-radius:var(--chat-bubble-radius);border-top-right-radius:0}.attachment-icon[_ngcontent-%COMP%]{width:44px}.attachment-img-text[_ngcontent-%COMP%]{color:#fff;padding-top:15px;padding-left:5px;font-size:10px}.attachment-link[_ngcontent-%COMP%]{word-break:break-word;color:inherit!important;font-size:14px;word-break:break-word}  .message-container.agent-message .message-deleted.message-content p{font-style:italic;color:rgba(0,0,0,.4)!important}  .message-container.user-message .message-deleted.message-content p{font-style:italic;color:rgba(255,255,255,.6)!important}  .message-container.agent-message .message-edited.message-content::after{content:attr(data-edited);font-size:10px;line-height:16px;text-align:right;display:block;color:rgba(0,0,0,.4)}  .message-container.user-message .message-edited.message-content::after{content:attr(data-edited);font-size:10px;line-height:16px;text-align:right;display:block;color:rgba(255,255,255,.6)}.meetContainer[_ngcontent-%COMP%]{-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;min-width:200px;padding:15px;color:#fff;background:var(--color);border-top-right-radius:15px;border-top-left-radius:15px}.joinNowButton[_ngcontent-%COMP%]{-webkit-box-align:center;-ms-flex-align:center;align-items:center;background-color:#fff;min-height:30px;padding:8px 18px;width:100%;color:#111}"]],ne=u._15({encapsulation:0,styles:Qn,data:{}});function ee(n){return u._41(0,[(n()(),u._18(0,0,null,null,1,"p",[["class","rel"]],[[8,"innerHTML",1]],null,null,null,null)),u._35(1,1)],null,function(n,e){var l=e.component;n(e,0,0,u._40(e,0,0,n(e,1,0,u._31(e.parent,0),l.messageItem.message)))})}function le(n){return u._41(0,[(n()(),u._18(0,0,null,null,3,"span",[["class","image-messages message-to-be-send"]],null,[[null,"click"]],function(n,e,l){var t=!0,i=n.component;"click"===e&&(t=!1!==i.openImage(i.messageItem.image_url)&&t);return t},null,null)),u._16(1,278528,null,0,L.n,[u.z,u.n,u.N],{ngStyle:[0,"ngStyle"]},null),u._34(2,{"background-image":0,"text-decoration":1}),(n()(),u._39(-1,null,["\n"]))],function(n,e){n(e,1,0,n(e,2,0,"url("+e.component.messageItem.thumbnail_url+")","none"))},null)}function te(n){return u._41(0,[(n()(),u._18(0,0,null,null,2,"div",[["class","custom-action-img"]],null,null,null,null,null)),u._16(1,278528,null,0,L.n,[u.z,u.n,u.N],{ngStyle:[0,"ngStyle"]},null),u._34(2,{"background-image":0})],function(n,e){n(e,1,0,n(e,2,0,"url("+e.component.messageItem.custom_action.image_url+")"))},null)}function ie(n){return u._41(0,[(n()(),u._18(0,0,null,null,1,"p",[["class","custom-action-title-payment pb-1"]],null,null,null,null,null)),(n()(),u._39(1,null,["",""]))],null,function(n,e){n(e,1,0,e.component.messageItem.custom_action.title)})}function se(n){return u._41(0,[(n()(),u._18(0,0,null,null,1,"p",[["class","custom-action-title-description"]],null,null,null,null,null)),(n()(),u._39(1,null,["",""]))],null,function(n,e){n(e,1,0,e.component.messageItem.custom_action.title_description)})}function ue(n){return u._41(0,[(n()(),u._18(0,0,null,null,7,"p",[["class","custom-action-description-item d-flex"]],null,null,null,null,null)),(n()(),u._39(-1,null,["\n        "])),(n()(),u._18(2,0,null,null,1,"span",[["class","mr-3"]],null,null,null,null,null)),(n()(),u._39(3,null,["",""])),(n()(),u._39(-1,null,["\n        "])),(n()(),u._18(5,0,null,null,1,"span",[["class","payment-content"]],null,null,null,null,null)),(n()(),u._39(6,null,["",""])),(n()(),u._39(-1,null,["\n      "]))],null,function(n,e){n(e,3,0,e.context.$implicit.header),n(e,6,0,e.context.$implicit.content)})}function ae(n){return u._41(0,[(n()(),u._18(0,0,null,null,4,"div",[["class","custom-action-description"]],null,null,null,null,null)),(n()(),u._39(-1,null,["\n      "])),(n()(),u._12(16777216,null,null,1,null,ue)),u._16(3,802816,null,0,L.j,[u._0,u.X,u.y],{ngForOf:[0,"ngForOf"]},null),(n()(),u._39(-1,null,["\n    "]))],function(n,e){n(e,3,0,e.component.messageItem.custom_action.description)},null)}function oe(n){return u._41(0,[(n()(),u._18(0,0,null,null,3,"button",[["class","custom-action-action_buttons-item w-100 payment-btn m-1"]],null,[[null,"click"]],function(n,e,l){var t=!0,i=n.component;"click"===e&&(t=!1!==(i.messageItem.user_id!=i.commonService.userDetails.user_id?i.sendPaymentMessage(n.context.$implicit,i.messageItem):"")&&t);return t},null,null)),u._16(1,278528,null,0,L.i,[u.y,u.z,u.n,u.N],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),u._34(2,{"cursor-hand":0}),(n()(),u._39(3,null,["\n        ","\n      "]))],function(n,e){var l=e.component;n(e,1,0,"custom-action-action_buttons-item w-100 payment-btn m-1",n(e,2,0,l.messageItem.user_id!=l.commonService.userDetails.user_id))},function(n,e){n(e,3,0,e.context.$implicit.button_text)})}function re(n){return u._41(0,[(n()(),u._18(0,0,null,null,4,"div",[["class","custom-action-action_buttons d-flex"]],null,null,null,null,null)),(n()(),u._39(-1,null,["\n      "])),(n()(),u._12(16777216,null,null,1,null,oe)),u._16(3,802816,null,0,L.j,[u._0,u.X,u.y],{ngForOf:[0,"ngForOf"]},null),(n()(),u._39(-1,null,["\n    "]))],function(n,e){n(e,3,0,e.component.messageItem.custom_action.action_buttons)},null)}function ce(n){return u._41(0,[(n()(),u._18(0,0,null,null,19,"div",[["class","payment-message"]],null,null,null,null,null)),(n()(),u._39(-1,null,["\n  "])),(n()(),u._12(16777216,null,null,1,null,te)),u._16(3,16384,null,0,L.k,[u._0,u.X],{ngIf:[0,"ngIf"]},null),(n()(),u._39(-1,null,["\n  "])),(n()(),u._18(5,0,null,null,13,"div",[["class","body-div"]],null,null,null,null,null)),(n()(),u._39(-1,null,["\n    "])),(n()(),u._12(16777216,null,null,1,null,ie)),u._16(8,16384,null,0,L.k,[u._0,u.X],{ngIf:[0,"ngIf"]},null),(n()(),u._39(-1,null,["\n    "])),(n()(),u._12(16777216,null,null,1,null,se)),u._16(11,16384,null,0,L.k,[u._0,u.X],{ngIf:[0,"ngIf"]},null),(n()(),u._39(-1,null,["\n    "])),(n()(),u._12(16777216,null,null,1,null,ae)),u._16(14,16384,null,0,L.k,[u._0,u.X],{ngIf:[0,"ngIf"]},null),(n()(),u._39(-1,null,["\n    "])),(n()(),u._12(16777216,null,null,1,null,re)),u._16(17,16384,null,0,L.k,[u._0,u.X],{ngIf:[0,"ngIf"]},null),(n()(),u._39(-1,null,["\n  "])),(n()(),u._39(-1,null,["\n"]))],function(n,e){var l=e.component;n(e,3,0,l.messageItem.custom_action.image_url),n(e,8,0,l.messageItem.custom_action.title),n(e,11,0,l.messageItem.custom_action.title_description),n(e,14,0,l.messageItem.custom_action.description),n(e,17,0,l.messageItem.custom_action.action_buttons)},null)}function _e(n){return u._41(0,[(n()(),u._18(0,0,null,null,1,"button",[["class","custom-action-action_buttons-item mb-2"]],null,null,null,null,null)),(n()(),u._39(1,null,["\n        ","\n      "]))],null,function(n,e){n(e,1,0,e.context.$implicit.btn_title)})}function ge(n){return u._41(0,[(n()(),u._18(0,0,null,null,4,null,null,null,null,null,null,null)),(n()(),u._39(-1,null,["\n      "])),(n()(),u._12(16777216,null,null,1,null,_e)),u._16(3,802816,null,0,L.j,[u._0,u.X,u.y],{ngForOf:[0,"ngForOf"]},null),(n()(),u._39(-1,null,["\n    "]))],function(n,e){n(e,3,0,e.component.messageItem.content_value)},null)}function me(n){return u._41(0,[(n()(),u._18(0,0,null,null,1,"div",[["class","custom-action-message-button__selected"]],null,null,null,null,null)),(n()(),u._39(1,null,["\n          ","\n        "]))],null,function(n,e){n(e,1,0,e.parent.context.$implicit.btn_title)})}function pe(n){return u._41(0,[(n()(),u._18(0,0,null,null,4,null,null,null,null,null,null,null)),(n()(),u._39(-1,null,["\n        "])),(n()(),u._12(16777216,null,null,1,null,me)),u._16(3,16384,null,0,L.k,[u._0,u.X],{ngIf:[0,"ngIf"]},null),(n()(),u._39(-1,null,["\n      "]))],function(n,e){var l=e.component;n(e,3,0,e.context.$implicit.btn_id==l.messageItem.selected_btn_id)},null)}function de(n){return u._41(0,[(n()(),u._18(0,0,null,null,4,null,null,null,null,null,null,null)),(n()(),u._39(-1,null,["\n      "])),(n()(),u._12(16777216,null,null,1,null,pe)),u._16(3,802816,null,0,L.j,[u._0,u.X,u.y],{ngForOf:[0,"ngForOf"]},null),(n()(),u._39(-1,null,["\n    "]))],function(n,e){n(e,3,0,e.component.messageItem.content_value)},null)}function fe(n){return u._41(0,[(n()(),u._18(0,0,null,null,20,null,null,null,null,null,null,null)),(n()(),u._39(-1,null,["\n"])),(n()(),u._18(2,0,null,null,17,"div",[["class","custom-action-message"]],null,null,null,null,null)),(n()(),u._39(-1,null,["\n  "])),(n()(),u._18(4,0,null,null,5,"div",[["class","d-flex justify-content-end"]],null,null,null,null,null)),(n()(),u._39(-1,null,["\n    "])),(n()(),u._18(6,0,null,null,2,"p",[["class","custom-action-title"]],[[8,"innerHTML",1]],null,null,null,null)),u._35(7,1),u._35(8,1),(n()(),u._39(-1,null,["\n  "])),(n()(),u._39(-1,null,["\n  "])),(n()(),u._18(11,0,null,null,7,"div",[["class","custom-action-action_buttons d-flex flex-wrap w-75 mt-2"],["style","position: relative;"]],null,null,null,null,null)),(n()(),u._39(-1,null,["\n    "])),(n()(),u._12(16777216,null,null,1,null,ge)),u._16(14,16384,null,0,L.k,[u._0,u.X],{ngIf:[0,"ngIf"]},null),(n()(),u._39(-1,null,["\n    "])),(n()(),u._12(16777216,null,null,1,null,de)),u._16(17,16384,null,0,L.k,[u._0,u.X],{ngIf:[0,"ngIf"]},null),(n()(),u._39(-1,null,["\n  "])),(n()(),u._39(-1,null,["\n"])),(n()(),u._39(-1,null,["\n"]))],function(n,e){var l=e.component;n(e,14,0,!l.messageItem.selected_btn_id),n(e,17,0,l.messageItem.selected_btn_id)},function(n,e){var l=e.component;n(e,6,0,u._40(e,6,0,n(e,8,0,u._31(e.parent,1),u._40(e,6,0,n(e,7,0,u._31(e.parent,0),l.messageItem.message)))))})}function he(n){return u._41(0,[(n()(),u._18(0,0,null,null,7,null,null,null,null,null,null,null)),(n()(),u._39(-1,null,["\n              "])),(n()(),u._18(2,0,null,null,4,"h5",[["style","margin: 0;\n                                          font-size: 13px;\n                                          line-height: 1.62;\n                                          text-transform: capitalize;\n                                          color: #51445c;\n                                          padding: 0;\n                                          margin-top: 15px;\n                                          font-weight: bold; display: block;\n                              width: 100%;margin-top: 0;"]],null,null,null,null,null)),(n()(),u._39(-1,null,["\n                  "])),(n()(),u._18(4,0,null,null,1,"span",[["style","color: rgb(47, 47, 47);"]],null,null,null,null,null)),(n()(),u._39(5,null,["",""])),(n()(),u._39(-1,null,["\n                 "])),(n()(),u._39(-1,null,["\n          "]))],null,function(n,e){n(e,5,0,e.component.messageItem.replied_by||"")})}function ve(n){return u._41(0,[(n()(),u._18(0,0,null,null,7,null,null,null,null,null,null,null)),(n()(),u._39(-1,null,["\n          "])),(n()(),u._12(16777216,null,null,1,null,he)),u._16(3,16384,null,0,L.k,[u._0,u.X],{ngIf:[0,"ngIf"]},null),(n()(),u._39(-1,null,["\n          "])),(n()(),u._18(5,0,null,null,1,"div",[["class","custom-action-message-button__selected"]],null,null,null,null,null)),(n()(),u._39(6,null,["\n            ","\n          "])),(n()(),u._39(-1,null,["\n        "]))],function(n,e){var l=e.component;n(e,3,0,e.context.$implicit.btn_id==l.messageItem.selected_btn_id)},function(n,e){n(e,6,0,e.context.$implicit.date_time_message||e.context.$implicit.date_time)})}function ye(n){return u._41(0,[(n()(),u._18(0,0,null,null,20,null,null,null,null,null,null,null)),(n()(),u._39(-1,null,["\n  "])),(n()(),u._18(2,0,null,null,17,"div",[["class","custom-action-message"]],null,null,null,null,null)),(n()(),u._39(-1,null,["\n    "])),(n()(),u._18(4,0,null,null,5,"div",[["class","d-flex justify-content-end"]],null,null,null,null,null)),(n()(),u._39(-1,null,["\n      "])),(n()(),u._18(6,0,null,null,2,"p",[["class","custom-action-title"]],[[8,"innerHTML",1]],null,null,null,null)),u._35(7,1),u._35(8,1),(n()(),u._39(-1,null,["\n    "])),(n()(),u._39(-1,null,["\n    "])),(n()(),u._18(11,0,null,null,7,"div",[["class","custom-action-action_buttons d-flex flex-wrap w-75 mt-2"],["style","position: relative;"]],null,null,null,null,null)),(n()(),u._39(-1,null,["\n      "])),(n()(),u._18(13,0,null,null,4,null,null,null,null,null,null,null)),(n()(),u._39(-1,null,["\n        "])),(n()(),u._12(16777216,null,null,1,null,ve)),u._16(16,802816,null,0,L.j,[u._0,u.X,u.y],{ngForOf:[0,"ngForOf"]},null),(n()(),u._39(-1,null,["\n      "])),(n()(),u._39(-1,null,["\n    "])),(n()(),u._39(-1,null,["\n\n  "])),(n()(),u._39(-1,null,["\n"]))],function(n,e){n(e,16,0,e.component.messageItem.content_value)},function(n,e){var l=e.component;n(e,6,0,u._40(e,6,0,n(e,8,0,u._31(e.parent,1),u._40(e,6,0,n(e,7,0,u._31(e.parent,0),l.messageItem.message)))))})}function be(n){return u._41(0,[(n()(),u._18(0,0,null,null,3,"span",[["class","image-messages message-to-be-send image-messages-v2"]],null,[[null,"click"]],function(n,e,l){var t=!0,i=n.component;"click"===e&&(t=!1!==i.openImage(i.messageItem.url)&&t);return t},null,null)),u._16(1,278528,null,0,L.n,[u.z,u.n,u.N],{ngStyle:[0,"ngStyle"]},null),u._34(2,{"background-image":0,"text-decoration":1}),(n()(),u._39(-1,null,["\n              "]))],function(n,e){n(e,1,0,n(e,2,0,"url("+e.component.messageItem.url+")","none"))},null)}function xe(n){return u._41(0,[(n()(),u._18(0,0,null,null,12,"div",[["class","d-flex align-items-center"]],null,null,null,null,null)),(n()(),u._39(-1,null,["\n              "])),(n()(),u._18(2,0,null,null,6,"div",[["class","position-relative d-flex align-items-center justify-content-start"]],null,null,null,null,null)),(n()(),u._39(-1,null,["\n                "])),(n()(),u._18(4,0,null,null,0,"img",[["alt","download-icon"],["class","float-right cursor-hand attachment-icon"],["src","assets/img/download-icon.png"]],null,null,null,null,null)),(n()(),u._39(-1,null,["\n                "])),(n()(),u._18(6,0,null,null,1,"span",[["class","position-absolute attachment-img-text"]],null,null,null,null,null)),(n()(),u._39(7,null,["","\n                "])),(n()(),u._39(-1,null,["\n              "])),(n()(),u._39(-1,null,["\n              "])),(n()(),u._18(10,0,null,null,1,"a",[["class","attachment-link d-flex outline-none pl-1 overflow-hidden"],["rel","noopener noreferrer"],["target","_blank"]],[[8,"href",4]],null,null,null,null)),(n()(),u._39(11,null,["\n                ","\n              "])),(n()(),u._39(-1,null,["\n              "]))],null,function(n,e){var l=e.component;n(e,7,0,l.messageItem.file_name.split(".")[l.messageItem.file_name.split(".").length-1]&&l.messageItem.file_name.split(".").length>1?l.messageItem.file_name.split(".")[l.messageItem.file_name.split(".").length-1].toUpperCase():"FILE"),n(e,10,0,l.messageItem.url),n(e,11,0,l.messageItem.file_name)})}function Ce(n){return u._41(0,[(n()(),u._18(0,0,null,null,5,"div",[["class","d-flex justify-content-center align-items-center image-messages image-messages-v2 message-to-be-send position-relative"]],null,[[null,"click"]],function(n,e,l){var t=!0,i=n.component;"click"===e&&(t=!1!==i.openMediaPlayer.emit({is_open:!0,message_data:i.messageItem})&&t);return t},null,null)),u._16(1,278528,null,0,L.n,[u.z,u.n,u.N],{ngStyle:[0,"ngStyle"]},null),u._34(2,{"background-image":0}),(n()(),u._39(-1,null,["\n           "])),(n()(),u._18(4,0,null,null,0,"img",[["class","position-absolute video-play-image"],["src","assets/img/video-play.svg"]],null,null,null,null,null)),(n()(),u._39(-1,null,["\n         "]))],function(n,e){n(e,1,0,n(e,2,0,"url("+e.component.messageItem.url+")"))},null)}function ke(n){return u._41(0,[(n()(),u._18(0,0,null,null,16,"div",[["class","custom-action-message"]],null,null,null,null,null)),(n()(),u._39(-1,null,["\n      "])),(n()(),u._18(2,0,null,null,13,"div",[["class","custom-action-action_buttons d-flex flex-wrap mt-2"],["style","position: relative;"]],null,null,null,null,null)),(n()(),u._39(-1,null,["\n            "])),(n()(),u._18(4,0,null,null,10,null,null,null,null,null,null,null)),(n()(),u._39(-1,null,["\n              "])),(n()(),u._12(16777216,null,null,1,null,be)),u._16(7,16384,null,0,L.k,[u._0,u.X],{ngIf:[0,"ngIf"]},null),(n()(),u._39(-1,null,["\n  \n              "])),(n()(),u._12(16777216,null,null,1,null,xe)),u._16(10,16384,null,0,L.k,[u._0,u.X],{ngIf:[0,"ngIf"]},null),(n()(),u._39(-1,null,["\n              "])),(n()(),u._12(16777216,null,null,1,null,Ce)),u._16(13,16384,null,0,L.k,[u._0,u.X],{ngIf:[0,"ngIf"]},null),(n()(),u._39(-1,null,["\n            "])),(n()(),u._39(-1,null,["\n      "])),(n()(),u._39(-1,null,["\n    "]))],function(n,e){var l=e.component;n(e,7,0,"image"==l.messageItem.document_type),n(e,10,0,"image"!=l.messageItem.document_type&&"video"!=l.messageItem.document_type),n(e,13,0,"video"==l.messageItem.document_type)},null)}function Me(n){return u._41(0,[(n()(),u._18(0,0,null,null,2,"p",[],[[8,"innerHTML",1]],null,null,null,null)),u._35(1,1),u._35(2,1)],null,function(n,e){var l=e.component;n(e,0,0,u._40(e,0,0,n(e,2,0,u._31(e.parent.parent.parent,1),u._40(e,0,0,n(e,1,0,u._31(e.parent.parent.parent,0),l.messageItem.message)))))})}function we(n){return u._41(0,[(n()(),u._18(0,0,null,null,7,null,null,null,null,null,null,null)),(n()(),u._39(-1,null,["\n    "])),(n()(),u._12(16777216,null,null,1,null,ke)),u._16(3,16384,null,0,L.k,[u._0,u.X],{ngIf:[0,"ngIf"]},null),(n()(),u._39(-1,null,["\n    "])),(n()(),u._12(16777216,null,null,1,null,Me)),u._16(6,16384,null,0,L.k,[u._0,u.X],{ngIf:[0,"ngIf"]},null),(n()(),u._39(-1,null,["\n  "]))],function(n,e){var l=e.component;n(e,3,0,l.messageItem.url&&l.messageItem.message_state!=l.MessageStateEnum.DELETED),n(e,6,0,"N/A"!=l.messageItem.message)},null)}function Se(n){return u._41(0,[(n()(),u._18(0,0,null,null,21,null,null,null,null,null,null,null)),(n()(),u._39(-1,null,["\n  "])),(n()(),u._18(2,0,null,null,18,"div",[["class","cursor-hand"]],null,[[null,"click"]],function(n,e,l){var t=!0,i=n.component;"click"===e&&(t=!1!==i.openCallURL(i.messageItem.message)&&t);return t},null,null)),(n()(),u._39(-1,null,["\n  "])),(n()(),u._18(4,0,null,null,12,"div",[["class","d-flex meetContainer"]],null,null,null,null,null)),(n()(),u._39(-1,null,["\n    "])),(n()(),u._18(6,0,null,null,1,"div",[["class","labelText"],["style","font-size: 18px;"]],null,null,null,null,null)),(n()(),u._39(-1,null,["Meeting"])),(n()(),u._39(-1,null,["\n    "])),(n()(),u._18(9,0,null,null,1,"div",[["class","labelText"]],null,null,null,null,null)),(n()(),u._39(10,null,[""," Meet"])),(n()(),u._39(-1,null,["\n    "])),(n()(),u._18(12,0,null,null,3,"div",[["class","d-flex justify-content-end"]],null,null,null,null,null)),(n()(),u._39(-1,null,["\n      "])),(n()(),u._18(14,0,null,null,0,"img",[["src","assets/img/video-call.svg"],["style","height: 40px;\n      width: 50px;"]],null,null,null,null,null)),(n()(),u._39(-1,null,["\n    "])),(n()(),u._39(-1,null,["\n  "])),(n()(),u._39(-1,null,["\n  "])),(n()(),u._18(18,0,null,null,1,"div",[["class","joinNowButton"]],null,null,null,null,null)),(n()(),u._39(-1,null,["Join Call Now"])),(n()(),u._39(-1,null,["\n"])),(n()(),u._39(-1,null,["\n"]))],null,function(n,e){var l=e.component;n(e,10,0,l.commonService.isWhitelabeled?l.commonService.configData.appName:"Hippo")})}function Ie(n){return u._41(0,[(n()(),u._18(0,0,null,null,7,null,null,null,null,null,null,null)),(n()(),u._39(-1,null,["\n  "])),(n()(),u._12(16777216,null,null,1,null,we)),u._16(3,16384,null,0,L.k,[u._0,u.X],{ngIf:[0,"ngIf"]},null),(n()(),u._39(-1,null,["\n  "])),(n()(),u._12(16777216,null,null,1,null,Se)),u._16(6,16384,null,0,L.k,[u._0,u.X],{ngIf:[0,"ngIf"]},null),(n()(),u._39(-1,null,["\n"]))],function(n,e){var l=e.component;n(e,3,0,!l.messageItem.message_sub_type||l.messageItem.message_state==l.MessageStateEnum.DELETED),n(e,6,0,l.messageItem.message_sub_type==l.messageSubTypeEnum.CALL_INVITE&&l.messageItem.message_state!=l.MessageStateEnum.DELETED)},null)}function Ee(n){return u._41(0,[(n()(),u._18(0,0,null,null,5,"div",[["class","d-flex justify-content-end"]],null,null,null,null,null)),(n()(),u._39(-1,null,["\n      "])),(n()(),u._18(2,0,null,null,2,"p",[["class","custom-action-title"]],[[8,"innerHTML",1]],null,null,null,null)),u._35(3,1),u._35(4,1),(n()(),u._39(-1,null,["\n    "]))],null,function(n,e){var l=e.component;n(e,2,0,u._40(e,2,0,n(e,4,0,u._31(e.parent.parent,1),u._40(e,2,0,n(e,3,0,u._31(e.parent.parent,0),l.messageItem.message)))))})}function Te(n){return u._41(0,[(n()(),u._18(0,0,null,null,1,"span",[["class","payment-success"]],null,null,null,null,null)),(n()(),u._39(-1,null,["PAID"]))],null,null)}function Oe(n){return u._41(0,[(n()(),u._18(0,0,null,null,22,null,null,null,null,null,null,null)),(n()(),u._39(-1,null,["\n          "])),(n()(),u._18(2,0,null,null,19,"div",[["class","payment-container p-3 d-flex"],["style","justify-content: space-between;"]],null,null,null,null,null)),(n()(),u._39(-1,null,["\n            "])),(n()(),u._18(4,0,null,null,7,"div",[["class","d-flex flex-column flex-grow pr-5"]],null,null,null,null,null)),(n()(),u._39(-1,null,["\n              "])),(n()(),u._18(6,0,null,null,1,"div",[["class","payment-container__title"]],null,null,null,null,null)),(n()(),u._39(7,null,["",""])),(n()(),u._39(-1,null,["\n              "])),(n()(),u._18(9,0,null,null,1,"div",[["class","payment-container__description mt-3 text-light"]],null,null,null,null,null)),(n()(),u._39(10,null,["",""])),(n()(),u._39(-1,null,["\n            "])),(n()(),u._39(-1,null,["\n            "])),(n()(),u._18(13,0,null,null,7,"div",[["class","d-flex flex-column align-items-center"]],null,null,null,null,null)),(n()(),u._39(-1,null,["\n              "])),(n()(),u._18(15,0,null,null,1,"div",[["class","payment-container__amount"]],null,null,null,null,null)),(n()(),u._39(16,null,["\n                ","\xa0","\n              "])),(n()(),u._39(-1,null,["\n              "])),(n()(),u._12(16777216,null,null,1,null,Te)),u._16(19,16384,null,0,L.k,[u._0,u.X],{ngIf:[0,"ngIf"]},null),(n()(),u._39(-1,null,["\n            "])),(n()(),u._39(-1,null,["\n          "])),(n()(),u._39(-1,null,["\n        "]))],function(n,e){var l=e.component;n(e,19,0,""!==l.messageItem.custom_action.selected_id&&l.messageItem.custom_action.selected_id==e.parent.context.$implicit.id)},function(n,e){n(e,7,0,e.parent.context.$implicit.title),n(e,10,0,e.parent.context.$implicit.description),n(e,16,0,e.parent.context.$implicit.currency_symbol,e.parent.context.$implicit.amount)})}function Pe(n){return u._41(0,[(n()(),u._18(0,0,null,null,4,null,null,null,null,null,null,null)),(n()(),u._39(-1,null,["\n        "])),(n()(),u._12(16777216,null,null,1,null,Oe)),u._16(3,16384,null,0,L.k,[u._0,u.X],{ngIf:[0,"ngIf"]},null),(n()(),u._39(-1,null,["\n      "]))],function(n,e){n(e,3,0,1)},null)}function De(n){return u._41(0,[(n()(),u._18(0,0,null,null,13,null,null,null,null,null,null,null)),(n()(),u._39(-1,null,["\n  "])),(n()(),u._18(2,0,null,null,10,"div",[["class","custom-action-message"]],null,null,null,null,null)),(n()(),u._39(-1,null,["\n    "])),(n()(),u._12(16777216,null,null,1,null,Ee)),u._16(5,16384,null,0,L.k,[u._0,u.X],{ngIf:[0,"ngIf"]},null),(n()(),u._39(-1,null,["\n    "])),(n()(),u._18(7,0,null,null,4,"div",[["class","mt-2 botPaymentBox"],["style","position: relative;"]],null,null,null,null,null)),(n()(),u._39(-1,null,["\n      "])),(n()(),u._12(16777216,null,null,1,null,Pe)),u._16(10,802816,null,0,L.j,[u._0,u.X,u.y],{ngForOf:[0,"ngForOf"]},null),(n()(),u._39(-1,null,["\n    "])),(n()(),u._39(-1,null,["\n  "])),(n()(),u._39(-1,null,["\n"]))],function(n,e){var l=e.component;n(e,5,0,l.messageItem.user_type==l.UserTypeEnum.Bot),n(e,10,0,null==l.messageItem?null:null==l.messageItem.custom_action?null:l.messageItem.custom_action.items)},null)}function Ae(n){return u._41(0,[(n()(),u._18(0,0,null,null,1,"span",[["class","payment-success"]],null,null,null,null,null)),(n()(),u._39(-1,null,["PAID"]))],null,null)}function Le(n){return u._41(0,[(n()(),u._18(0,0,null,null,22,null,null,null,null,null,null,null)),(n()(),u._39(-1,null,["\n      "])),(n()(),u._18(2,0,null,null,19,"div",[["class","payment-container p-3 d-flex"],["style","justify-content: space-between;"]],null,null,null,null,null)),(n()(),u._39(-1,null,["\n        "])),(n()(),u._18(4,0,null,null,7,"div",[["class","d-flex flex-column flex-grow pr-5"]],null,null,null,null,null)),(n()(),u._39(-1,null,["\n          "])),(n()(),u._18(6,0,null,null,1,"div",[["class","payment-container__title"]],null,null,null,null,null)),(n()(),u._39(7,null,["",""])),(n()(),u._39(-1,null,["\n          "])),(n()(),u._18(9,0,null,null,1,"div",[["class","payment-container__description mt-3 text-light"]],null,null,null,null,null)),(n()(),u._39(10,null,["",""])),(n()(),u._39(-1,null,["\n        "])),(n()(),u._39(-1,null,["\n        "])),(n()(),u._18(13,0,null,null,7,"div",[["class","d-flex flex-column align-items-center"]],null,null,null,null,null)),(n()(),u._39(-1,null,["\n          "])),(n()(),u._18(15,0,null,null,1,"div",[["class","payment-container__amount"]],null,null,null,null,null)),(n()(),u._39(16,null,["\n            ","\xa0","\n          "])),(n()(),u._39(-1,null,["\n          "])),(n()(),u._12(16777216,null,null,1,null,Ae)),u._16(19,16384,null,0,L.k,[u._0,u.X],{ngIf:[0,"ngIf"]},null),(n()(),u._39(-1,null,["\n        "])),(n()(),u._39(-1,null,["\n      "])),(n()(),u._39(-1,null,["\n    "]))],function(n,e){var l=e.component;n(e,19,0,""!==l.messageItem.custom_action.selected_id&&l.messageItem.custom_action.selected_id==e.parent.context.$implicit.id)},function(n,e){n(e,7,0,e.parent.context.$implicit.title),n(e,10,0,e.parent.context.$implicit.description),n(e,16,0,e.parent.context.$implicit.currency_symbol,e.parent.context.$implicit.amount)})}function $e(n){return u._41(0,[(n()(),u._18(0,0,null,null,4,null,null,null,null,null,null,null)),(n()(),u._39(-1,null,["\n    "])),(n()(),u._12(16777216,null,null,1,null,Le)),u._16(3,16384,null,0,L.k,[u._0,u.X],{ngIf:[0,"ngIf"]},null),(n()(),u._39(-1,null,["\n  "]))],function(n,e){n(e,3,0,1)},null)}function je(n){return u._41(0,[(n()(),u._18(0,0,null,null,4,"div",[],null,null,null,null,null)),(n()(),u._39(-1,null,["\n  "])),(n()(),u._12(16777216,null,null,1,null,$e)),u._16(3,802816,null,0,L.j,[u._0,u.X,u.y],{ngForOf:[0,"ngForOf"]},null),(n()(),u._39(-1,null,["\n"]))],function(n,e){var l=e.component;n(e,3,0,null==l.messageItem?null:null==l.messageItem.custom_action?null:l.messageItem.custom_action.items)},null)}function We(n){return u._41(0,[(n()(),u._18(0,0,null,null,7,null,null,null,null,null,null,null)),(n()(),u._39(-1,null,["\n            "])),(n()(),u._18(2,0,null,null,4,"h5",[["style","margin: 0;\n                        font-size: 13px;\n                        line-height: 1.62;\n                        text-transform: capitalize;\n                        color: #51445c;\n                        padding: 0;\n                        margin-top: 15px;\n                        font-weight: bold; display: block;\n            width: 100%;margin-top: 0;"]],null,null,null,null,null)),(n()(),u._39(-1,null,["\n              "])),(n()(),u._18(4,0,null,null,1,"span",[["style","color: rgb(47, 47, 47);"]],null,null,null,null,null)),(n()(),u._39(5,null,["",""])),(n()(),u._39(-1,null,["\n            "])),(n()(),u._39(-1,null,["\n          "]))],null,function(n,e){n(e,5,0,e.component.messageItem.replied_by||"")})}function Ne(n){return u._41(0,[(n()(),u._18(0,0,null,null,7,null,null,null,null,null,null,null)),(n()(),u._39(-1,null,["\n          "])),(n()(),u._12(16777216,null,null,1,null,We)),u._16(3,16384,null,0,L.k,[u._0,u.X],{ngIf:[0,"ngIf"]},null),(n()(),u._39(-1,null,["\n          "])),(n()(),u._18(5,0,null,null,1,"div",[["class","custom-action-message-button__selected"]],null,null,null,null,null)),(n()(),u._39(6,null,["\n            ","\n          "])),(n()(),u._39(-1,null,["\n        "]))],function(n,e){var l=e.component;n(e,3,0,e.context.$implicit.btn_id==l.messageItem.selected_btn_id)},function(n,e){n(e,6,0,e.context.$implicit.address)})}function Re(n){return u._41(0,[(n()(),u._18(0,0,null,null,20,null,null,null,null,null,null,null)),(n()(),u._39(-1,null,["\n  "])),(n()(),u._18(2,0,null,null,17,"div",[["class","custom-action-message"]],null,null,null,null,null)),(n()(),u._39(-1,null,["\n    "])),(n()(),u._18(4,0,null,null,5,"div",[["class","d-flex justify-content-end"]],null,null,null,null,null)),(n()(),u._39(-1,null,["\n      "])),(n()(),u._18(6,0,null,null,2,"p",[["class","custom-action-title"]],[[8,"innerHTML",1]],null,null,null,null)),u._35(7,1),u._35(8,1),(n()(),u._39(-1,null,["\n    "])),(n()(),u._39(-1,null,["\n    "])),(n()(),u._18(11,0,null,null,7,"div",[["class","custom-action-action_buttons d-flex flex-wrap w-75 mt-2"],["style","position: relative;"]],null,null,null,null,null)),(n()(),u._39(-1,null,["\n      "])),(n()(),u._18(13,0,null,null,4,null,null,null,null,null,null,null)),(n()(),u._39(-1,null,["\n        "])),(n()(),u._12(16777216,null,null,1,null,Ne)),u._16(16,802816,null,0,L.j,[u._0,u.X,u.y],{ngForOf:[0,"ngForOf"]},null),(n()(),u._39(-1,null,["\n      "])),(n()(),u._39(-1,null,["\n    "])),(n()(),u._39(-1,null,["\n\n  "])),(n()(),u._39(-1,null,["\n"]))],function(n,e){n(e,16,0,e.component.messageItem.content_value)},function(n,e){var l=e.component;n(e,6,0,u._40(e,6,0,n(e,8,0,u._31(e.parent,1),u._40(e,6,0,n(e,7,0,u._31(e.parent,0),l.messageItem.message)))))})}function Fe(n){return u._41(0,[(n()(),u._18(0,0,null,null,7,null,null,null,null,null,null,null)),(n()(),u._39(-1,null,["\n            "])),(n()(),u._18(2,0,null,null,4,"h5",[["style","margin: 0;\n                        font-size: 13px;\n                        line-height: 1.62;\n                        text-transform: capitalize;\n                        color: #51445c;\n                        padding: 0;\n                        margin-top: 15px;\n                        font-weight: bold; display: block;\n            width: 100%;margin-top: 0;"]],null,null,null,null,null)),(n()(),u._39(-1,null,["\n              "])),(n()(),u._18(4,0,null,null,1,"span",[["style","color: rgb(47, 47, 47);"]],null,null,null,null,null)),(n()(),u._39(5,null,["",""])),(n()(),u._39(-1,null,["\n            "])),(n()(),u._39(-1,null,["\n          "]))],null,function(n,e){n(e,5,0,e.component.messageItem.replied_by||"")})}function ze(n){return u._41(0,[(n()(),u._18(0,0,null,null,3,"span",[["class","image-messages message-to-be-send"]],null,[[null,"click"]],function(n,e,l){var t=!0,i=n.component;"click"===e&&(t=!1!==i.openImage(n.parent.context.$implicit.thumbnail_url)&&t);return t},null,null)),u._16(1,278528,null,0,L.n,[u.z,u.n,u.N],{ngStyle:[0,"ngStyle"]},null),u._34(2,{"background-image":0,"text-decoration":1}),(n()(),u._39(-1,null,["\n            "]))],function(n,e){n(e,1,0,n(e,2,0,"url("+e.parent.context.$implicit.thumbnail_url+")","none"))},null)}function Xe(n){return u._41(0,[(n()(),u._18(0,0,null,null,12,"div",[["class","d-flex align-items-center"]],null,null,null,null,null)),(n()(),u._39(-1,null,["\n            "])),(n()(),u._18(2,0,null,null,6,"div",[["class","position-relative d-flex align-items-center justify-content-start"]],null,null,null,null,null)),(n()(),u._39(-1,null,["\n              "])),(n()(),u._18(4,0,null,null,0,"img",[["alt","download-icon"],["class","float-right cursor-hand attachment-icon"],["src","assets/img/download-icon.png"]],null,null,null,null,null)),(n()(),u._39(-1,null,["\n              "])),(n()(),u._18(6,0,null,null,1,"span",[["class","position-absolute attachment-img-text"]],null,null,null,null,null)),(n()(),u._39(7,null,["","\n              "])),(n()(),u._39(-1,null,["\n            "])),(n()(),u._39(-1,null,["\n            "])),(n()(),u._18(10,0,null,null,1,"a",[["class","attachment-link d-flex outline-none pl-1 overflow-hidden"],["rel","noopener noreferrer"],["target","_blank"]],[[8,"href",4]],null,null,null,null)),(n()(),u._39(11,null,["\n              ","\n            "])),(n()(),u._39(-1,null,["\n            "]))],null,function(n,e){n(e,7,0,e.parent.context.$implicit.file_name.split(".")[e.parent.context.$implicit.file_name.split(".").length-1]&&e.parent.context.$implicit.file_name.split(".").length>1?e.parent.context.$implicit.file_name.split(".")[e.parent.context.$implicit.file_name.split(".").length-1].toUpperCase():"FILE"),n(e,10,0,e.parent.context.$implicit.thumbnail_url),n(e,11,0,e.parent.context.$implicit.file_name)})}function Ue(n){return u._41(0,[(n()(),u._18(0,0,null,null,13,null,null,null,null,null,null,null)),(n()(),u._39(-1,null,["\n          "])),(n()(),u._12(16777216,null,null,1,null,Fe)),u._16(3,16384,null,0,L.k,[u._0,u.X],{ngIf:[0,"ngIf"]},null),(n()(),u._39(-1,null,["\n          "])),(n()(),u._18(5,0,null,null,7,null,null,null,null,null,null,null)),(n()(),u._39(-1,null,["\n            "])),(n()(),u._12(16777216,null,null,1,null,ze)),u._16(8,16384,null,0,L.k,[u._0,u.X],{ngIf:[0,"ngIf"]},null),(n()(),u._39(-1,null,["\n\n            "])),(n()(),u._12(16777216,null,null,1,null,Xe)),u._16(11,16384,null,0,L.k,[u._0,u.X],{ngIf:[0,"ngIf"]},null),(n()(),u._39(-1,null,["\n          "])),(n()(),u._39(-1,null,["\n        "]))],function(n,e){var l=e.component;n(e,3,0,e.context.$implicit.btn_id==l.messageItem.selected_btn_id),n(e,8,0,"image"==e.context.$implicit.file_object),n(e,11,0,"file"==e.context.$implicit.file_object)},null)}function Ve(n){return u._41(0,[(n()(),u._18(0,0,null,null,20,null,null,null,null,null,null,null)),(n()(),u._39(-1,null,["\n  "])),(n()(),u._18(2,0,null,null,17,"div",[["class","custom-action-message"]],null,null,null,null,null)),(n()(),u._39(-1,null,["\n    "])),(n()(),u._18(4,0,null,null,5,"div",[["class","d-flex justify-content-end"]],null,null,null,null,null)),(n()(),u._39(-1,null,["\n      "])),(n()(),u._18(6,0,null,null,2,"p",[["class","custom-action-title"]],[[8,"innerHTML",1]],null,null,null,null)),u._35(7,1),u._35(8,1),(n()(),u._39(-1,null,["\n    "])),(n()(),u._39(-1,null,["\n    "])),(n()(),u._18(11,0,null,null,7,"div",[["class","custom-action-action_buttons d-flex flex-wrap w-75 mt-2"],["style","position: relative;"]],null,null,null,null,null)),(n()(),u._39(-1,null,["\n      "])),(n()(),u._18(13,0,null,null,4,null,null,null,null,null,null,null)),(n()(),u._39(-1,null,["\n        "])),(n()(),u._12(16777216,null,null,1,null,Ue)),u._16(16,802816,null,0,L.j,[u._0,u.X,u.y],{ngForOf:[0,"ngForOf"]},null),(n()(),u._39(-1,null,["\n      "])),(n()(),u._39(-1,null,["\n    "])),(n()(),u._39(-1,null,["\n\n  "])),(n()(),u._39(-1,null,["\n"]))],function(n,e){n(e,16,0,e.component.messageItem.content_value)},function(n,e){var l=e.component;n(e,6,0,u._40(e,6,0,n(e,8,0,u._31(e.parent,1),u._40(e,6,0,n(e,7,0,u._31(e.parent,0),l.messageItem.message)))))})}function qe(n){return u._41(0,[(n()(),u._18(0,0,null,null,5,"div",[["class","agent-card-message__desc cursor-hand"]],null,null,null,null,null)),(n()(),u._39(-1,null,["\n                "])),(n()(),u._18(2,0,null,null,2,"div",[],[[8,"innerHTML",1]],null,null,null,null)),u._35(3,1),(n()(),u._39(-1,null,["\n                "])),(n()(),u._39(-1,null,["\n              "]))],null,function(n,e){n(e,2,0,u._40(e,2,0,n(e,3,0,u._31(e.parent.parent.parent.parent,1),e.parent.parent.context.$implicit.description)))})}function He(n){return u._41(0,[(n()(),u._18(0,0,null,null,25,"div",[["class","d-flex flex-column agent-card-message__container"]],null,null,null,null,null)),u._16(1,278528,null,0,L.i,[u.y,u.z,u.n,u.N],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),u._34(2,{selected:0}),u._16(3,278528,null,0,L.n,[u.z,u.n,u.N],{ngStyle:[0,"ngStyle"]},null),u._34(4,{"margin-left":0}),(n()(),u._39(-1,null,["\n          "])),(n()(),u._18(6,0,null,null,18,"div",[["class","position-relative"],["style","display: flex;"]],null,null,null,null,null)),(n()(),u._39(-1,null,["\n            "])),(n()(),u._18(8,0,null,null,3,"div",[["class","agent-image"]],null,null,null,null,null)),(n()(),u._39(-1,null,["\n                "])),(n()(),u._18(10,0,null,null,0,"img",[["class","agent-card-message__image"]],[[8,"src",4]],null,null,null,null)),(n()(),u._39(-1,null,["\n            "])),(n()(),u._39(-1,null,["\n            "])),(n()(),u._18(13,0,null,null,1,"div",[["class","rating"]],null,null,null,null,null)),(n()(),u._39(14,null,["\n                ","\n            "])),(n()(),u._39(-1,null,["\n            "])),(n()(),u._18(16,0,null,null,7,"div",[["class","agent-card-message__name-box cursor-hand"]],null,null,null,null,null)),(n()(),u._39(-1,null,["\n              "])),(n()(),u._18(18,0,null,null,1,"div",[["class","agent-card-message__title"]],null,null,null,null,null)),(n()(),u._39(19,null,["",""])),(n()(),u._39(-1,null,["\n              "])),(n()(),u._12(16777216,null,null,1,null,qe)),u._16(22,16384,null,0,L.k,[u._0,u.X],{ngIf:[0,"ngIf"]},null),(n()(),u._39(-1,null,["\n            "])),(n()(),u._39(-1,null,["\n          "])),(n()(),u._39(-1,null,["\n        "]))],function(n,e){var l=e.component;n(e,1,0,"d-flex flex-column agent-card-message__container",n(e,2,0,""!==l.messageItem.selected_agent_id)),n(e,3,0,n(e,4,0,(l.messageItem.selected_agent_id,"0px"))),n(e,22,0,e.parent.context.$implicit.description)},function(n,e){n(e,10,0,e.parent.context.$implicit.image_url||"assets/img/placeholder.png"),n(e,14,0,e.parent.context.$implicit.rating),n(e,19,0,e.parent.context.$implicit.title)})}function Be(n){return u._41(0,[(n()(),u._18(0,0,null,null,4,null,null,null,null,null,null,null)),(n()(),u._39(-1,null,["\n        "])),(n()(),u._12(16777216,null,null,1,null,He)),u._16(3,16384,null,0,L.k,[u._0,u.X],{ngIf:[0,"ngIf"]},null),(n()(),u._39(-1,null,["\n    "]))],function(n,e){var l=e.component;n(e,3,0,""===l.messageItem.selected_agent_id||""!==l.messageItem.selected_agent_id&&l.messageItem.selected_agent_id==e.context.$implicit.id)},null)}function Ye(n){return u._41(0,[(n()(),u._18(0,0,null,null,9,"div",[["class","agent-card-message"]],null,null,null,null,null)),(n()(),u._39(-1,null,["\n  "])),(n()(),u._18(2,0,[["agentScroll",1]],null,6,"div",[["class","d-flex overflow-auto flex-column align-items-center agentCardMobile"]],null,null,null,null,null)),u._16(3,278528,null,0,L.i,[u.y,u.z,u.n,u.N],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),u._34(4,{noOverflow:0}),(n()(),u._39(-1,null,["\n    "])),(n()(),u._12(16777216,null,null,1,null,Be)),u._16(7,802816,null,0,L.j,[u._0,u.X,u.y],{ngForOf:[0,"ngForOf"]},null),(n()(),u._39(-1,null,["\n  "])),(n()(),u._39(-1,null,["\n"]))],function(n,e){var l=e.component;n(e,3,0,"d-flex overflow-auto flex-column align-items-center agentCardMobile",n(e,4,0,""!==l.messageItem.selected_agent_id)),n(e,7,0,l.messageItem.content_value)},null)}function Ge(n){return u._41(0,[(n()(),u._18(0,0,null,null,6,"iframe",[["allowfullscreen",""],["class","video-frame"]],[[8,"src",5]],null,null,null,null)),u._35(1,2),(n()(),u._39(-1,null,["\n    "])),(n()(),u._18(3,0,null,null,2,"span",[["style","margin: auto;"]],null,null,null,null,null)),(n()(),u._39(-1,null,["Loading... "])),(n()(),u._18(5,0,null,null,0,"i",[["class","fa fa-spin fa-spinner"]],null,null,null,null,null)),(n()(),u._39(-1,null,["\n  "]))],null,function(n,e){var l=e.component;n(e,0,0,u._40(e,0,0,n(e,1,0,u._31(e.parent.parent,2),null==l.messageItem.custom_action?null:l.messageItem.custom_action.video_link,"resourceUrl")))})}function Ze(n){return u._41(0,[(n()(),u._18(0,0,null,null,8,"div",[["class","video-messages message-to-be-send"]],null,null,null,null,null)),(n()(),u._39(-1,null,["\n  "])),(n()(),u._18(2,0,null,null,2,"p",[["style","padding-bottom: 8px; font-family: 'Rubik-Medium';"]],[[8,"innerHTML",1]],null,null,null,null)),u._35(3,1),(n()(),u._39(-1,null,["\n  "])),(n()(),u._39(-1,null,["\n  "])),(n()(),u._12(16777216,null,null,1,null,Ge)),u._16(7,16384,null,0,L.k,[u._0,u.X],{ngIf:[0,"ngIf"]},null),(n()(),u._39(-1,null,["\n"]))],function(n,e){var l=e.component;n(e,7,0,null==l.messageItem.custom_action?null:l.messageItem.custom_action.video_link)},function(n,e){var l=e.component;n(e,2,0,u._40(e,2,0,n(e,3,0,u._31(e.parent,0),l.messageItem.message)))})}function Je(n){return u._41(0,[(n()(),u._18(0,0,null,null,6,"div",[["class","position-relative d-flex align-items-center justify-content-start"]],null,null,null,null,null)),(n()(),u._39(-1,null,["\n      "])),(n()(),u._18(2,0,null,null,0,"img",[["alt","download-icon"],["class","float-right cursor-hand attachment-icon"],["src","assets/img/download-icon.png"]],null,null,null,null,null)),(n()(),u._39(-1,null,["\n      "])),(n()(),u._18(4,0,null,null,1,"span",[["class","position-absolute attachment-img-text"]],null,null,null,null,null)),(n()(),u._39(5,null,["","\n    "])),(n()(),u._39(-1,null,["\n    "]))],null,function(n,e){var l=e.component;n(e,5,0,l.messageItem.file_name.split(".")[l.messageItem.file_name.split(".").length-1]&&l.messageItem.file_name.split(".").length>1?l.messageItem.file_name.split(".")[l.messageItem.file_name.split(".").length-1].toUpperCase():"FILE")})}function Ke(n){return u._41(0,[(n()(),u._18(0,0,null,null,7,"div",[["class","d-flex align-items-center"]],null,null,null,null,null)),(n()(),u._39(-1,null,["\n    "])),(n()(),u._12(16777216,null,null,1,null,Je)),u._16(3,16384,null,0,L.k,[u._0,u.X],{ngIf:[0,"ngIf"]},null),(n()(),u._39(-1,null,["\n    "])),(n()(),u._18(5,0,null,null,1,"a",[["class","attachment-link d-flex outline-none pl-1 overflow-hidden"],["rel","noopener noreferrer"],["target","_blank"]],[[8,"href",4]],null,null,null,null)),(n()(),u._39(6,null,["\n      ","\n    "])),(n()(),u._39(-1,null,["\n  "]))],function(n,e){n(e,3,0,e.component.messageItem.file_name)},function(n,e){var l=e.component;n(e,5,0,l.messageItem.url),n(e,6,0,l.messageItem.file_name)})}function Qe(n){return u._41(0,[(n()(),u._18(0,0,null,null,5,"div",[["class","d-flex justify-content-center align-items-center image-messages message-to-be-send position-relative"]],null,[[null,"click"]],function(n,e,l){var t=!0,i=n.component;"click"===e&&(t=!1!==i.openMediaPlayer.emit({is_open:!0,message_data:i.messageItem})&&t);return t},null,null)),u._16(1,278528,null,0,L.n,[u.z,u.n,u.N],{ngStyle:[0,"ngStyle"]},null),u._34(2,{"background-image":0}),(n()(),u._39(-1,null,["\n    "])),(n()(),u._18(4,0,null,null,0,"img",[["class","position-absolute video-play-image"],["src","assets/img/video-play.svg"]],null,null,null,null,null)),(n()(),u._39(-1,null,["\n  "]))],function(n,e){n(e,1,0,n(e,2,0,"url("+e.component.messageItem.thumbnail_url+")"))},null)}function nl(n){return u._41(0,[(n()(),u._18(0,0,null,null,7,"div",[["class","message-to-be-send"]],null,null,null,null,null)),(n()(),u._39(-1,null,["\n  "])),(n()(),u._12(16777216,null,null,1,null,Ke)),u._16(3,16384,null,0,L.k,[u._0,u.X],{ngIf:[0,"ngIf"]},null),(n()(),u._39(-1,null,["\n  "])),(n()(),u._12(16777216,null,null,1,null,Qe)),u._16(6,16384,null,0,L.k,[u._0,u.X],{ngIf:[0,"ngIf"]},null),(n()(),u._39(-1,null,["\n"]))],function(n,e){var l=e.component;n(e,3,0,"video"!=l.messageItem.document_type),n(e,6,0,"video"==l.messageItem.document_type)},null)}function el(n){return u._41(0,[(n()(),u._18(0,0,null,null,1,"span",[["class","info-text abs input-title"]],null,null,null,null,null)),(n()(),u._39(1,null,["("," of ",")"]))],null,function(n,e){var l=e.component;n(e,1,0,l.currentIndex+1,l.messageItem.content_value[0].questions.length)})}function ll(n){return u._41(0,[(n()(),u._18(0,0,null,null,18,"div",[["class","form-group"]],null,null,null,null,null)),(n()(),u._39(-1,null,["\n      "])),(n()(),u._18(2,0,null,null,1,"label",[["class","input-title"]],null,null,null,null,null)),(n()(),u._39(3,null,["",""])),(n()(),u._39(-1,null,["\n      "])),(n()(),u._18(5,0,null,null,12,"div",[["class","group-addon-container rel"]],null,null,null,null,null)),(n()(),u._39(-1,null,["\n        "])),(n()(),u._18(7,0,null,null,5,"input",[["class","default-input"],["disabled",""]],[[8,"type",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(n,e,l){var t=!0;"input"===e&&(t=!1!==u._31(n,8)._handleInput(l.target.value)&&t);"blur"===e&&(t=!1!==u._31(n,8).onTouched()&&t);"compositionstart"===e&&(t=!1!==u._31(n,8)._compositionStart()&&t);"compositionend"===e&&(t=!1!==u._31(n,8)._compositionEnd(l.target.value)&&t);"ngModelChange"===e&&(t=!1!==(n.parent.context.$implicit.value=l)&&t);return t},null,null)),u._16(8,16384,null,0,Vn.d,[u.O,u.n,[2,Vn.a]],null,null),u._36(1024,null,Vn.p,function(n){return[n]},[Vn.d]),u._16(10,671744,null,0,Vn.u,[[8,null],[8,null],[8,null],[2,Vn.p]],{isDisabled:[0,"isDisabled"],model:[1,"model"]},{update:"ngModelChange"}),u._36(2048,null,Vn.q,null,[Vn.u]),u._16(12,16384,null,0,Vn.r,[Vn.q],null,null),(n()(),u._39(-1,null,["\n        "])),(n()(),u._18(14,0,null,null,2,"span",[["class","group-addon abs right-aligned"]],null,null,null,null,null)),(n()(),u._18(15,0,null,null,1,"button",[["class","btn btn-white btn-checked btn-nohover"],["type","button"]],[[8,"disabled",0]],null,null,null,null)),(n()(),u._18(16,0,null,null,0,"img",[["src","assets/img/check-mark.png"],["style","width: 16px"]],null,null,null,null,null)),(n()(),u._39(-1,null,["\n      "])),(n()(),u._39(-1,null,["\n    "]))],function(n,e){n(e,10,0,!0,e.parent.context.$implicit.value)},function(n,e){n(e,3,0,e.parent.context.$implicit.title+("phone"==e.parent.context.$implicit.type?" (with country code)":"")),n(e,7,0,u._21(1,"",e.parent.context.$implicit.type,""),u._31(e,12).ngClassUntouched,u._31(e,12).ngClassTouched,u._31(e,12).ngClassPristine,u._31(e,12).ngClassDirty,u._31(e,12).ngClassValid,u._31(e,12).ngClassInvalid,u._31(e,12).ngClassPending);n(e,15,0,!0)})}function tl(n){return u._41(0,[(n()(),u._18(0,0,null,null,24,"div",[["class","form-group"]],null,null,null,null,null)),(n()(),u._39(-1,null,["\n          "])),(n()(),u._18(2,0,null,null,1,"label",[["class","input-title"]],null,null,null,null,null)),(n()(),u._39(3,null,["",""])),(n()(),u._39(-1,null,["\n          "])),(n()(),u._18(5,0,null,null,14,"div",[["class","group-addon-container rel"]],null,null,null,null,null)),(n()(),u._39(-1,null,["\n            "])),(n()(),u._18(7,0,null,null,7,"input",[["autofocus",""],["class","default-input"],["disabled",""],["formControlName","inputControl"]],[[8,"placeholder",0],[8,"type",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(n,e,l){var t=!0;"input"===e&&(t=!1!==u._31(n,9)._handleInput(l.target.value)&&t);"blur"===e&&(t=!1!==u._31(n,9).onTouched()&&t);"compositionstart"===e&&(t=!1!==u._31(n,9)._compositionStart()&&t);"compositionend"===e&&(t=!1!==u._31(n,9)._compositionEnd(l.target.value)&&t);return t},null,null)),u._16(8,4276224,null,0,qn,[u.n,u.N],null,null),u._16(9,16384,null,0,Vn.d,[u.O,u.n,[2,Vn.a]],null,null),u._36(1024,null,Vn.p,function(n){return[n]},[Vn.d]),u._16(11,671744,null,0,Vn.i,[[3,Vn.c],[8,null],[8,null],[2,Vn.p]],{name:[0,"name"],isDisabled:[1,"isDisabled"]},null),u._36(2048,null,Vn.q,null,[Vn.i]),u._16(13,16384,null,0,Vn.r,[Vn.q],null,null),u._16(14,4276224,null,0,Hn,[u.n,u.N],null,null),(n()(),u._39(-1,null,["\n            "])),(n()(),u._18(16,0,null,null,2,"span",[["class","group-addon abs right-aligned"]],null,null,null,null,null)),(n()(),u._18(17,0,null,null,1,"button",[["class","btn btn-nohover"],["type","submit"]],[[8,"disabled",0]],[[null,"click"]],function(n,e,l){var t=!0,i=n.component;"click"===e&&(t=!1!==i.setDetail(n.parent.parent.context.index)&&t);return t},null,null)),(n()(),u._18(18,0,null,null,0,"img",[["class","back-icon"],["src","assets/img/backArrow.svg"]],null,null,null,null,null)),(n()(),u._39(-1,null,["\n          "])),(n()(),u._39(-1,null,["\n          "])),(n()(),u._18(21,0,null,null,2,"app-control-message",[],null,null,null,Jn,Gn)),u._36(4608,null,Bn.a,Bn.a,[]),u._16(23,49152,null,0,Yn,[],{control:[0,"control"]},null),(n()(),u._39(-1,null,["\n        "]))],function(n,e){var l=e.component;n(e,8,0);n(e,11,0,"inputControl",""),n(e,14,0),n(e,23,0,l.detailsForm.controls.inputControl)},function(n,e){n(e,3,0,e.parent.parent.context.$implicit.title+("phone"==e.parent.parent.context.$implicit.type?" (with country code)":"")),n(e,7,0,u._21(1,"",e.parent.parent.context.$implicit.title,""),u._21(1,"",e.parent.parent.context.$implicit.type,""),u._31(e,13).ngClassUntouched,u._31(e,13).ngClassTouched,u._31(e,13).ngClassPristine,u._31(e,13).ngClassDirty,u._31(e,13).ngClassValid,u._31(e,13).ngClassInvalid,u._31(e,13).ngClassPending);n(e,17,0,!0)})}function il(n){return u._41(0,[(n()(),u._18(0,0,null,null,11,"div",[],null,null,null,null,null)),(n()(),u._39(-1,null,["\n      "])),(n()(),u._18(2,0,null,null,8,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(n,e,l){var t=!0;"submit"===e&&(t=!1!==u._31(n,4).onSubmit(l)&&t);"reset"===e&&(t=!1!==u._31(n,4).onReset()&&t);return t},null,null)),u._16(3,16384,null,0,Vn.C,[],null,null),u._16(4,540672,null,0,Vn.k,[[8,null],[8,null]],{form:[0,"form"]},null),u._36(2048,null,Vn.c,null,[Vn.k]),u._16(6,16384,null,0,Vn.s,[Vn.c],null,null),(n()(),u._39(-1,null,["\n        "])),(n()(),u._12(16777216,null,null,1,null,tl)),u._16(9,16384,null,0,L.k,[u._0,u.X],{ngIf:[0,"ngIf"]},null),(n()(),u._39(-1,null,["\n      "])),(n()(),u._39(-1,null,["\n    "]))],function(n,e){var l=e.component;n(e,4,0,l.detailsForm),n(e,9,0,!e.parent.context.$implicit.value&&l.currentIndex==e.parent.context.index)},function(n,e){n(e,2,0,u._31(e,6).ngClassUntouched,u._31(e,6).ngClassTouched,u._31(e,6).ngClassPristine,u._31(e,6).ngClassDirty,u._31(e,6).ngClassValid,u._31(e,6).ngClassInvalid,u._31(e,6).ngClassPending)})}function sl(n){return u._41(0,[(n()(),u._18(0,0,null,null,7,"div",[["class","detail"]],null,null,null,null,null)),(n()(),u._39(-1,null,["\n    "])),(n()(),u._12(16777216,null,null,1,null,ll)),u._16(3,16384,null,0,L.k,[u._0,u.X],{ngIf:[0,"ngIf"]},null),(n()(),u._39(-1,null,["\n    "])),(n()(),u._12(16777216,null,null,1,null,il)),u._16(6,16384,null,0,L.k,[u._0,u.X],{ngIf:[0,"ngIf"]},null),(n()(),u._39(-1,null,["\n  "]))],function(n,e){var l=e.component;n(e,3,0,e.context.$implicit.value&&l.currentIndex>e.context.index),n(e,6,0,l.detailsForm)},null)}function ul(n){return u._41(0,[(n()(),u._18(0,0,null,null,7,"div",[["class","details-container rel"]],null,null,null,null,null)),(n()(),u._39(-1,null,["\n  "])),(n()(),u._12(16777216,null,null,1,null,el)),u._16(3,16384,null,0,L.k,[u._0,u.X],{ngIf:[0,"ngIf"]},null),(n()(),u._39(-1,null,["\n  "])),(n()(),u._12(16777216,null,null,1,null,sl)),u._16(6,802816,null,0,L.j,[u._0,u.X,u.y],{ngForOf:[0,"ngForOf"]},null),(n()(),u._39(-1,null,["\n"]))],function(n,e){var l=e.component;n(e,3,0,l.currentIndex<l.messageItem&&l.messageItem.content_value&&l.messageItem.content_value[0].questions.length&&l.messageItem&&l.messageItem.content_value&&l.messageItem.content_value[0].questions.length>1),n(e,6,0,l.detailsFields)},null)}function al(n){return u._41(0,[(n()(),u._18(0,0,null,null,9,null,null,null,null,null,null,null)),(n()(),u._39(-1,null,["\n            "])),(n()(),u._18(2,0,null,null,6,"label",[["class","d-flex"]],[[8,"htmlFor",0]],null,null,null,null)),(n()(),u._39(-1,null,["\n              "])),(n()(),u._18(4,0,null,null,0,"input",[["disabled",""],["style","margin: 2px;"],["type","radio"]],[[8,"id",0],[8,"name",0],[8,"value",0],[8,"checked",0]],null,null,null,null)),(n()(),u._39(-1,null,["\n              "])),(n()(),u._18(6,0,null,null,1,"span",[["class","ml-2"]],null,null,null,null,null)),(n()(),u._39(7,null,["",""])),(n()(),u._39(-1,null,["\n            "])),(n()(),u._39(-1,null,["\n          "]))],null,function(n,e){var l=e.component;n(e,2,0,e.parent.context.$implicit.btn_id),n(e,4,0,e.parent.context.$implicit.btn_id,l.messageItem.muid,e.parent.context.$implicit.btn_id,e.parent.context.$implicit.status),n(e,7,0,e.parent.context.$implicit.btn_title)})}function ol(n){return u._41(0,[(n()(),u._39(-1,null,["\n            "])),(n()(),u._18(1,0,null,null,6,"label",[["class","d-flex"]],[[8,"htmlFor",0]],null,null,null,null)),(n()(),u._39(-1,null,["\n              "])),(n()(),u._18(3,0,null,null,0,"input",[["disabled",""],["style","margin: 2px;"],["type","checkbox"]],[[8,"id",0],[8,"name",0],[8,"value",0],[8,"checked",0]],null,null,null,null)),(n()(),u._39(-1,null,["\n              "])),(n()(),u._18(5,0,null,null,1,"span",[["class","ml-2"]],null,null,null,null,null)),(n()(),u._39(6,null,["",""])),(n()(),u._39(-1,null,["\n            "])),(n()(),u._39(-1,null,["\n          "]))],null,function(n,e){var l=e.component;n(e,1,0,e.parent.context.$implicit.btn_id),n(e,3,0,e.parent.context.$implicit.btn_id,l.messageItem.muid,e.parent.context.$implicit.btn_id,e.parent.context.$implicit.status),n(e,6,0,e.parent.context.$implicit.btn_title)})}function rl(n){return u._41(0,[(n()(),u._18(0,0,null,null,6,"div",[["class","multi-select-container mb-2"]],null,null,null,null,null)),(n()(),u._39(-1,null,["\n          "])),(n()(),u._12(16777216,null,null,1,null,al)),u._16(3,16384,null,0,L.k,[u._0,u.X],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),(n()(),u._39(-1,null,["\n          "])),(n()(),u._12(0,[["multiselect",2]],null,0,null,ol)),(n()(),u._39(-1,null,["\n        "]))],function(n,e){var l=e.component;n(e,3,0,1==l.messageItem.custom_action.min_selection&&1==l.messageItem.custom_action.max_selection,u._31(e,5))},null)}function cl(n){return u._41(0,[(n()(),u._18(0,0,null,null,17,"div",[],null,null,null,null,null)),(n()(),u._39(-1,null,["\n  "])),(n()(),u._18(2,0,null,null,14,"div",[["class","custom-action-message"]],null,null,null,null,null)),(n()(),u._39(-1,null,["\n    "])),(n()(),u._18(4,0,null,null,11,"div",[["class","d-flex flex-column"]],null,null,null,null,null)),(n()(),u._39(-1,null,["\n      "])),(n()(),u._18(6,0,null,null,2,"div",[["class","multi-select-message"]],[[8,"innerHTML",1]],null,null,null,null)),u._35(7,1),u._35(8,1),(n()(),u._39(-1,null,["\n      "])),(n()(),u._18(10,0,null,null,4,"div",[["class","d-flex flex-column mt-2"]],null,null,null,null,null)),(n()(),u._39(-1,null,["\n        "])),(n()(),u._12(16777216,null,null,1,null,rl)),u._16(13,802816,null,0,L.j,[u._0,u.X,u.y],{ngForOf:[0,"ngForOf"]},null),(n()(),u._39(-1,null,["\n      "])),(n()(),u._39(-1,null,["\n    "])),(n()(),u._39(-1,null,["\n  "])),(n()(),u._39(-1,null,["\n"]))],function(n,e){var l=e.component;n(e,13,0,null==l.messageItem.custom_action?null:l.messageItem.custom_action.multi_select_buttons)},function(n,e){var l=e.component;n(e,6,0,u._40(e,6,0,n(e,8,0,u._31(e.parent,1),u._40(e,6,0,n(e,7,0,u._31(e.parent,0),l.messageItem.message)))))})}function _l(n){return u._41(0,[(n()(),u._18(0,0,null,null,4,"p",[["class","missed-call-text proximanova-bold mb-0"]],null,null,null,null,null)),(n()(),u._39(1,null,["\n      ","  "," "," ","."])),u._33(131072,D.a,[A.a,u.i]),u._33(131072,D.a,[A.a,u.i]),u._33(131072,D.a,[A.a,u.i])],null,function(n,e){var l=e.component;n(e,1,0,u._40(e,1,0,u._31(e,2).transform("Conversation.youMissed")),u._40(e,1,1,u._31(e,3).transform("AUDIO"==l.messageItem.call_type?"Conversation.anAudio":"Conversation.aVideo")),u._40(e,1,2,u._31(e,4).transform("Conversation.callWith")),l.messageItem.full_name)})}function gl(n){return u._41(0,[(n()(),u._18(0,0,null,null,4,"p",[["class","proximanova-bold mb-0"]],null,null,null,null,null)),(n()(),u._39(1,null,["\n      "," "," ","\n    "])),u._33(131072,D.a,[A.a,u.i]),u._33(131072,D.a,[A.a,u.i]),u._33(131072,D.a,[A.a,u.i])],null,function(n,e){var l=e.component;n(e,1,0,u._40(e,1,0,u._31(e,2).transform("Conversation.the")),u._40(e,1,1,u._31(e,3).transform("AUDIO"==l.messageItem.call_type?"Conversation.audio":"Conversation.video")),u._40(e,1,2,u._31(e,4).transform("Conversation.callEnded")))})}function ml(n){return u._41(0,[(n()(),u._18(0,0,null,null,7,"div",[["class","proximanova-bold video-message-text pl-2 pr-2 pt-2"]],null,null,null,null,null)),(n()(),u._39(-1,null,["\n    "])),(n()(),u._12(16777216,null,null,1,null,_l)),u._16(3,16384,null,0,L.k,[u._0,u.X],{ngIf:[0,"ngIf"]},null),(n()(),u._39(-1,null,["\n    "])),(n()(),u._12(16777216,null,null,1,null,gl)),u._16(6,16384,null,0,L.k,[u._0,u.X],{ngIf:[0,"ngIf"]},null),(n()(),u._39(-1,null,["\n  "]))],function(n,e){var l=e.component;n(e,3,0,l.messageItem.message_state==l.MessageStateTypesEnum.MISSED_CALL),n(e,6,0,l.messageItem.message_state==l.MessageStateTypesEnum.COMPLETED_CALL)},null)}function pl(n){return u._41(0,[(n()(),u._18(0,0,null,null,4,"p",[["class","missed-call-text proximanova-bold mb-0"]],null,null,null,null,null)),(n()(),u._39(1,null,["\n        "," "," "," ","\n    "])),u._33(131072,D.a,[A.a,u.i]),u._33(131072,D.a,[A.a,u.i]),u._33(131072,D.a,[A.a,u.i])],null,function(n,e){var l=e.component;n(e,1,0,l.messageItem.full_name,u._40(e,1,1,u._31(e,2).transform("Conversation.missed")),u._40(e,1,2,u._31(e,3).transform("AUDIO"==l.messageItem.call_type?"Conversation.anAudio":"Conversation.aVideo")),u._40(e,1,3,u._31(e,4).transform("Conversation.callWithYou")))})}function dl(n){return u._41(0,[(n()(),u._18(0,0,null,null,4,"p",[["class","proximanova-bold mb-0"]],null,null,null,null,null)),(n()(),u._39(1,null,["\n      "," "," ","\n    "])),u._33(131072,D.a,[A.a,u.i]),u._33(131072,D.a,[A.a,u.i]),u._33(131072,D.a,[A.a,u.i])],null,function(n,e){var l=e.component;n(e,1,0,u._40(e,1,0,u._31(e,2).transform("Conversation.the")),u._40(e,1,1,u._31(e,3).transform("AUDIO"==l.messageItem.call_type?"Conversation.audio":"Conversation.video")),u._40(e,1,2,u._31(e,4).transform("Conversation.callEnded")))})}function fl(n){return u._41(0,[(n()(),u._18(0,0,null,null,6,"div",[["class","proximanova-bold video-message-text pl-2 pr-2 pt-2"]],null,null,null,null,null)),(n()(),u._39(-1,null,["\n    "])),(n()(),u._12(16777216,null,null,1,null,pl)),u._16(3,16384,null,0,L.k,[u._0,u.X],{ngIf:[0,"ngIf"]},null),(n()(),u._12(16777216,null,null,1,null,dl)),u._16(5,16384,null,0,L.k,[u._0,u.X],{ngIf:[0,"ngIf"]},null),(n()(),u._39(-1,null,["\n  "]))],function(n,e){var l=e.component;n(e,3,0,l.messageItem.message_state==l.MessageStateTypesEnum.MISSED_CALL),n(e,5,0,l.messageItem.message_state==l.MessageStateTypesEnum.COMPLETED_CALL)},null)}function hl(n){return u._41(0,[(n()(),u._18(0,0,null,null,4,"p",[["class","video-duration-message"]],null,null,null,null,null)),u._16(1,278528,null,0,L.i,[u.y,u.z,u.n,u.N],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),u._34(2,{"color-white":0}),(n()(),u._39(3,null,["",""])),u._35(4,1)],function(n,e){var l=e.component;n(e,1,0,"video-duration-message",n(e,2,0,l.messageItem.user_id!=l.commonService.userDetails.user_id))},function(n,e){var l=e.component;n(e,3,0,u._40(e,3,0,n(e,4,0,u._31(e.parent.parent,3),l.messageItem.video_call_duration)))})}function vl(n){return u._41(0,[(n()(),u._18(0,0,null,null,3,"span",[["class","video-duration-message"]],null,null,null,null,null)),u._16(1,278528,null,0,L.i,[u.y,u.z,u.n,u.N],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),u._34(2,{"color-white":0}),(n()(),u._39(-1,null,["\xa0at\xa0"]))],function(n,e){var l=e.component;n(e,1,0,"video-duration-message",n(e,2,0,l.messageItem.user_id!=l.commonService.userDetails.user_id))},null)}function yl(n){return u._41(0,[(n()(),u._18(0,0,null,null,24,"div",[["class","video-call-bubble d-flex flex-column align-items-center"]],null,null,null,null,null)),(n()(),u._39(-1,null,["\n  "])),(n()(),u._12(16777216,null,null,1,null,ml)),u._16(3,16384,null,0,L.k,[u._0,u.X],{ngIf:[0,"ngIf"]},null),(n()(),u._39(-1,null,["\n  "])),(n()(),u._12(16777216,null,null,1,null,fl)),u._16(6,16384,null,0,L.k,[u._0,u.X],{ngIf:[0,"ngIf"]},null),(n()(),u._39(-1,null,["\n  "])),(n()(),u._18(8,0,null,null,15,"div",[["class","w-100 d-flex justify-content-end align-items-center video-time-message mt-1"]],null,null,null,null,null)),u._16(9,278528,null,0,L.i,[u.y,u.z,u.n,u.N],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),u._34(10,{"border-0":0}),(n()(),u._39(-1,null,["\n      "])),(n()(),u._12(16777216,null,null,1,null,hl)),u._16(13,16384,null,0,L.k,[u._0,u.X],{ngIf:[0,"ngIf"]},null),(n()(),u._39(-1,null,["\n      "])),(n()(),u._12(16777216,null,null,1,null,vl)),u._16(16,16384,null,0,L.k,[u._0,u.X],{ngIf:[0,"ngIf"]},null),(n()(),u._39(-1,null,["\n      "])),(n()(),u._18(18,0,null,null,4,"p",[["class","video-duration-message"]],null,null,null,null,null)),u._16(19,278528,null,0,L.i,[u.y,u.z,u.n,u.N],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),u._34(20,{"d-flex align-items-center justify-content-end w-100":0,"color-white":1}),(n()(),u._39(21,null,["\n        ","\n      "])),u._35(22,2),(n()(),u._39(-1,null,["\n    "])),(n()(),u._39(-1,null,["\n"]))],function(n,e){var l=e.component;n(e,3,0,l.messageItem.user_id!=l.commonService.userDetails.user_id),n(e,6,0,l.messageItem.user_id==l.commonService.userDetails.user_id);n(e,9,0,"w-100 d-flex justify-content-end align-items-center video-time-message mt-1",n(e,10,0,1)),n(e,13,0,l.messageItem.video_call_duration),n(e,16,0,l.messageItem.video_call_duration);n(e,19,0,"video-duration-message",n(e,20,0,!l.messageItem.video_call_duration,l.messageItem.user_id!=l.commonService.userDetails.user_id))},function(n,e){var l=e.component;n(e,21,0,u._40(e,21,0,n(e,22,0,u._31(e.parent,4),l.messageItem.date_time,"shortTime")))})}function bl(n){return u._41(0,[(n()(),u._18(0,0,null,null,2,"div",[["class","header emoji-header"]],null,null,null,null,null)),(n()(),u._18(1,0,null,null,0,"img",[],[[8,"src",4]],null,null,null,null)),(n()(),u._39(2,null,[" ","/",""]))],null,function(n,e){var l=e.component;n(e,1,0,u._21(1,"",l.emojis[l.messageItem.rating_given-1].ratedSrc,"")),n(e,2,0,l.messageItem.rating_given,l.messageItem.total_rating)})}function xl(n){return u._41(0,[(n()(),u._18(0,0,null,null,8,"div",[["class","emoji"]],null,null,null,null,null)),u._16(1,278528,null,0,L.i,[u.y,u.z,u.n,u.N],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),u._34(2,{"active-emoji":0}),(n()(),u._39(-1,null,["\n      "])),(n()(),u._18(4,0,null,null,3,"div",[["class","emoji-container"]],null,null,null,null,null)),(n()(),u._39(-1,null,["\n        "])),(n()(),u._18(6,0,null,null,0,"img",[],[[8,"src",4]],null,null,null,null)),(n()(),u._39(-1,null,["\n      "])),(n()(),u._39(-1,null,["\n    "]))],function(n,e){n(e,1,0,"emoji",n(e,2,0,e.component.rating==e.context.index+1))},function(n,e){n(e,6,0,u._21(1,"",e.context.$implicit.src,""))})}function Cl(n){return u._41(0,[(n()(),u._18(0,0,null,null,4,"div",[["class","emojis-container"]],null,null,null,null,null)),(n()(),u._39(-1,null,["\n    "])),(n()(),u._12(16777216,null,null,1,null,xl)),u._16(3,802816,null,0,L.j,[u._0,u.X,u.y],{ngForOf:[0,"ngForOf"]},null),(n()(),u._39(-1,null,["\n  "]))],function(n,e){n(e,3,0,e.component.emojis)},null)}function kl(n){return u._41(0,[(n()(),u._18(0,0,null,null,5,"div",[["style","padding: 0 15px;"]],null,null,null,null,null)),(n()(),u._39(-1,null,["\n    "])),(n()(),u._18(2,0,null,null,2,"div",[["class","feed-textarea"]],null,null,null,null,null)),(n()(),u._39(3,null,["\n      ","\n    "])),u._33(131072,D.a,[A.a,u.i]),(n()(),u._39(-1,null,["\n  "]))],null,function(n,e){n(e,3,0,u._40(e,3,0,u._31(e,4).transform("layout.tell_more")))})}function Ml(n){return u._41(0,[(n()(),u._18(0,0,null,null,1,"div",[["class","comment-container"]],null,null,null,null,null)),(n()(),u._39(1,null,["",""]))],null,function(n,e){n(e,1,0,e.component.messageItem.comment)})}function wl(n){return u._41(0,[(n()(),u._18(0,0,null,null,16,"div",[["class","footer new-feed"],["id","actionsContainer"]],null,null,null,null,null)),u._16(1,278528,null,0,L.i,[u.y,u.z,u.n,u.N],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),u._34(2,{"white-bg":0}),(n()(),u._39(-1,null,["\n      "])),(n()(),u._39(-1,null,["\n      "])),(n()(),u._18(5,0,null,null,10,"form",[["class","feedback-form"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(n,e,l){var t=!0;"submit"===e&&(t=!1!==u._31(n,7).onSubmit(l)&&t);"reset"===e&&(t=!1!==u._31(n,7).onReset()&&t);return t},null,null)),u._16(6,16384,null,0,Vn.C,[],null,null),u._16(7,16384,null,0,Vn.t,[[8,null],[8,null]],null,null),u._36(2048,null,Vn.c,null,[Vn.t]),u._16(9,16384,null,0,Vn.s,[Vn.c],null,null),(n()(),u._39(-1,null,["\n        "])),(n()(),u._39(-1,null,["\n        "])),(n()(),u._12(16777216,null,null,1,null,Ml)),u._16(13,16384,null,0,L.k,[u._0,u.X],{ngIf:[0,"ngIf"]},null),(n()(),u._39(-1,null,["\n        "])),(n()(),u._39(-1,null,["\n      "])),(n()(),u._39(-1,null,["\n  "]))],function(n,e){var l=e.component;n(e,1,0,"footer new-feed",n(e,2,0,!l.messageItem.is_rating_given)),n(e,13,0,l.messageItem.is_rating_given)},function(n,e){n(e,5,0,u._31(e,9).ngClassUntouched,u._31(e,9).ngClassTouched,u._31(e,9).ngClassPristine,u._31(e,9).ngClassDirty,u._31(e,9).ngClassValid,u._31(e,9).ngClassInvalid,u._31(e,9).ngClassPending)})}function Sl(n){return u._41(0,[(n()(),u._18(0,0,null,null,1,"div",[["style","padding: 0 15px;"]],null,null,null,null,null)),(n()(),u._18(1,0,null,null,0,"hr",[["class","feed-line feed-line-nopd"]],null,null,null,null,null))],null,null)}function Il(n){return u._41(0,[(n()(),u._18(0,0,null,null,2,"div",[["class","secondary-header"]],null,null,null,null,null)),(n()(),u._39(1,null,["",""])),u._33(131072,D.a,[A.a,u.i])],null,function(n,e){n(e,1,0,u._40(e,1,0,u._31(e,2).transform("messageContent.hippo_thanks_feedback")))})}function El(n){return u._41(0,[(n()(),u._18(0,0,null,null,27,"div",[["class","feedback-container"]],null,null,null,null,null)),u._16(1,278528,null,0,L.i,[u.y,u.z,u.n,u.N],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),u._34(2,{"pad-bot":0}),(n()(),u._39(-1,null,["\n  "])),(n()(),u._18(4,0,null,null,0,"div",[["class","header"],["style","margin-top: 5px; text-align: left; padding: 5px 15px; font-size: 17px;"]],[[8,"innerHTML",1]],null,null,null,null)),(n()(),u._39(-1,null,["\n  "])),(n()(),u._18(6,0,null,null,1,"div",[["style","padding: 0 15px;"]],null,null,null,null,null)),(n()(),u._18(7,0,null,null,0,"hr",[["class","feed-line"]],null,null,null,null,null)),(n()(),u._39(-1,null,["\n  "])),(n()(),u._39(-1,null,["\n  "])),(n()(),u._12(16777216,null,null,1,null,bl)),u._16(11,16384,null,0,L.k,[u._0,u.X],{ngIf:[0,"ngIf"]},null),(n()(),u._39(-1,null,["\n  "])),(n()(),u._12(16777216,null,null,1,null,Cl)),u._16(14,16384,null,0,L.k,[u._0,u.X],{ngIf:[0,"ngIf"]},null),(n()(),u._39(-1,null,["\n  "])),(n()(),u._12(16777216,null,null,1,null,kl)),u._16(17,16384,null,0,L.k,[u._0,u.X],{ngIf:[0,"ngIf"]},null),(n()(),u._39(-1,null,["\n  "])),(n()(),u._12(16777216,null,null,1,null,wl)),u._16(20,16384,null,0,L.k,[u._0,u.X],{ngIf:[0,"ngIf"]},null),(n()(),u._39(-1,null,["\n  "])),(n()(),u._12(16777216,null,null,1,null,Sl)),u._16(23,16384,null,0,L.k,[u._0,u.X],{ngIf:[0,"ngIf"]},null),(n()(),u._39(-1,null,["\n  "])),(n()(),u._12(16777216,null,null,1,null,Il)),u._16(26,16384,null,0,L.k,[u._0,u.X],{ngIf:[0,"ngIf"]},null),(n()(),u._39(-1,null,["\n"]))],function(n,e){var l=e.component;n(e,1,0,"feedback-container",n(e,2,0,l.messageItem.is_rating_given&&l.messageItem.comment||!l.messageItem.is_rating_given)),n(e,11,0,l.messageItem.rating_given>0),n(e,14,0,l.messageItem.rating_given<=0),n(e,17,0,!l.messageItem.is_rating_given),n(e,20,0,l.messageItem.is_rating_given&&l.messageItem.comment),n(e,23,0,l.messageItem.rating_given>0),n(e,26,0,l.messageItem.rating_given>0)},function(n,e){n(e,4,0,e.component.messageItem.message)})}function Tl(n){return u._41(0,[u._33(0,Y,[]),u._33(0,J,[]),u._33(0,K,[H.c]),u._33(0,Q,[]),u._33(0,L.d,[u.A]),(n()(),u._12(16777216,null,null,1,null,ee)),u._16(6,16384,null,0,L.k,[u._0,u.X],{ngIf:[0,"ngIf"]},null),(n()(),u._39(-1,null,["\n"])),(n()(),u._12(16777216,null,null,1,null,le)),u._16(9,16384,null,0,L.k,[u._0,u.X],{ngIf:[0,"ngIf"]},null),(n()(),u._39(-1,null,["\n"])),(n()(),u._12(16777216,null,null,1,null,ce)),u._16(12,16384,null,0,L.k,[u._0,u.X],{ngIf:[0,"ngIf"]},null),(n()(),u._39(-1,null,["\n"])),(n()(),u._12(16777216,null,null,1,null,fe)),u._16(15,16384,null,0,L.k,[u._0,u.X],{ngIf:[0,"ngIf"]},null),(n()(),u._39(-1,null,["\n"])),(n()(),u._12(16777216,null,null,1,null,ye)),u._16(18,16384,null,0,L.k,[u._0,u.X],{ngIf:[0,"ngIf"]},null),(n()(),u._39(-1,null,["\n"])),(n()(),u._12(16777216,null,null,1,null,Ie)),u._16(21,16384,null,0,L.k,[u._0,u.X],{ngIf:[0,"ngIf"]},null),(n()(),u._39(-1,null,["\n"])),(n()(),u._12(16777216,null,null,1,null,De)),u._16(24,16384,null,0,L.k,[u._0,u.X],{ngIf:[0,"ngIf"]},null),(n()(),u._39(-1,null,["\n\n"])),(n()(),u._12(16777216,null,null,1,null,je)),u._16(27,16384,null,0,L.k,[u._0,u.X],{ngIf:[0,"ngIf"]},null),(n()(),u._39(-1,null,["\n"])),(n()(),u._12(16777216,null,null,1,null,Re)),u._16(30,16384,null,0,L.k,[u._0,u.X],{ngIf:[0,"ngIf"]},null),(n()(),u._39(-1,null,["\n"])),(n()(),u._12(16777216,null,null,1,null,Ve)),u._16(33,16384,null,0,L.k,[u._0,u.X],{ngIf:[0,"ngIf"]},null),(n()(),u._39(-1,null,["\n"])),(n()(),u._12(16777216,null,null,1,null,Ye)),u._16(36,16384,null,0,L.k,[u._0,u.X],{ngIf:[0,"ngIf"]},null),(n()(),u._39(-1,null,["\n"])),(n()(),u._12(16777216,null,null,1,null,Ze)),u._16(39,16384,null,0,L.k,[u._0,u.X],{ngIf:[0,"ngIf"]},null),(n()(),u._39(-1,null,["\n"])),(n()(),u._12(16777216,null,null,1,null,nl)),u._16(42,16384,null,0,L.k,[u._0,u.X],{ngIf:[0,"ngIf"]},null),(n()(),u._39(-1,null,["\n\n"])),(n()(),u._12(16777216,null,null,1,null,ul)),u._16(45,16384,null,0,L.k,[u._0,u.X],{ngIf:[0,"ngIf"]},null),(n()(),u._39(-1,null,["\n\n"])),(n()(),u._12(16777216,null,null,1,null,cl)),u._16(48,16384,null,0,L.k,[u._0,u.X],{ngIf:[0,"ngIf"]},null),(n()(),u._39(-1,null,["\n\n"])),(n()(),u._12(16777216,null,null,1,null,yl)),u._16(51,16384,null,0,L.k,[u._0,u.X],{ngIf:[0,"ngIf"]},null),(n()(),u._39(-1,null,["\n"])),(n()(),u._12(16777216,null,null,1,null,El)),u._16(54,16384,null,0,L.k,[u._0,u.X],{ngIf:[0,"ngIf"]},null),(n()(),u._39(-1,null,["\n"]))],function(n,e){var l=e.component;n(e,6,0,l.messageItem.message_type!=l.MessageTypeEnum.Image_Message&&l.messageItem.message_type!=l.MessageTypeEnum.Form_Message&&l.messageItem.message_type!=l.MessageTypeEnum.Video_Call&&l.messageItem.message_type!=l.MessageTypeEnum.Feedback_Message&&l.messageItem.message_type!=l.MessageTypeEnum.Custom_Action_Message&&l.messageItem.message_type!=l.MessageTypeEnum.Customer_Agent_Message&&l.messageItem.message_type!=l.MessageTypeEnum.File_Message&&l.messageItem.message_type!=l.MessageTypeEnum.CARDS&&l.messageItem.message_type!=l.MessageTypeEnum.ADDRESS&&l.messageItem.message_type!=l.MessageTypeEnum.ATTACHMENT&&l.messageItem.message_type!=l.MessageTypeEnum.NEW_PAYMENT_MESSAGE&&l.messageItem.message_type!=l.MessageTypeEnum.VIDEO_STREAM&&l.messageItem.message_type!=l.MessageTypeEnum.DATE_TIME&&l.messageItem.message_type!=l.MessageTypeEnum.MULTISELECTION&&l.messageItem.message_type!=l.MessageTypeEnum.Payment_Message),n(e,9,0,l.messageItem.message_type==l.MessageTypeEnum.Image_Message),n(e,12,0,l.messageItem.message_type==l.MessageTypeEnum.Payment_Message),n(e,15,0,l.messageItem.message_type==l.MessageTypeEnum.Custom_Action_Message),n(e,18,0,l.messageItem.message_type==l.MessageTypeEnum.DATE_TIME),n(e,21,0,l.messageItem.message_type==l.MessageTypeEnum.Customer_Agent_Message),n(e,24,0,l.messageItem.message_type==l.MessageTypeEnum.NEW_PAYMENT_MESSAGE&&l.messageItem.user_type==l.UserTypeEnum.Bot),n(e,27,0,l.messageItem.message_type==l.MessageTypeEnum.NEW_PAYMENT_MESSAGE&&l.messageItem.user_type!=l.UserTypeEnum.Bot),n(e,30,0,l.messageItem.message_type==l.MessageTypeEnum.ADDRESS),n(e,33,0,l.messageItem.message_type==l.MessageTypeEnum.ATTACHMENT),n(e,36,0,l.messageItem.message_type==l.MessageTypeEnum.CARDS),n(e,39,0,l.messageItem.message_type==l.MessageTypeEnum.VIDEO_STREAM),n(e,42,0,l.messageItem.message_type==l.MessageTypeEnum.File_Message),n(e,45,0,l.messageItem.message_type==l.MessageTypeEnum.Form_Message),n(e,48,0,l.messageItem.message_type==l.MessageTypeEnum.MULTISELECTION),n(e,51,0,l.messageItem.message_type==l.MessageTypeEnum.Video_Call),n(e,54,0,l.messageItem.message_type==l.MessageTypeEnum.Feedback_Message)},null)}var Ol;u._13("app-message-content",Kn,function(n){return u._41(0,[(n()(),u._18(0,0,null,null,1,"app-message-content",[],null,null,null,Tl,ne)),u._16(1,245760,null,0,Kn,[r.a,A.a,a.a,m.a,Vn.g],null,null)],function(n,e){n(e,1,0)},null)},{messageItem:"messageItem"},{openMediaPlayer:"openMediaPlayer"},[]);!function(n){n[n.ESC=27]="ESC",n[n.SPACE=32]="SPACE"}(Ol||(Ol={}));var Pl=function(){function n(n,e){this.commonService=n,this.translate=e,this.supportedVideoPlayerExtensions=["mp4","mov","ogg","webm"],this.closePlayer=new u.p,this.translateSubscription=this.commonService.getComponentLanguage().subscribe(function(n){e.use(n)})}return n.prototype.keyEvent=function(n){n.keyCode===Ol.ESC&&this.onCloseClick(),n.keyCode===Ol.SPACE&&this.playVideo(n)},n.prototype.ngOnInit=function(){var n=this.messageData.file_name.split(".");this.messageData.message_extension=n[n.length-1].toLowerCase()},n.prototype.ngOnDestroy=function(){this.messageData={},this.translateSubscription.unsubscribe()},n.prototype.onCloseClick=function(){this.closePlayer.emit(!1)},n.prototype.playVideo=function(n){n.stopPropagation(),n.preventDefault();var e=document.getElementById("video-player");e&&(e.paused?e.play():e.pause())},n.ctorParameters=function(){return[{type:r.a},{type:g.b}]},n}(),Dl=[[".carousel-parent[_ngcontent-%COMP%]{position:fixed;width:100%;z-index:2000;top:0;left:0;background-color:rgba(255,255,255,.95)}.carousel-header[_ngcontent-%COMP%]{height:60px}.nav-icons[_ngcontent-%COMP%]{font-size:40px;color:#000}.top-icons[_ngcontent-%COMP%]{-ms-flex-item-align:center;-ms-grid-row-align:center;align-self:center;margin-left:auto;margin-right:15px}.thumb-image[_ngcontent-%COMP%]{max-height:60px;border:1px solid transparent;-webkit-transition:all .3s;transition:all .3s;min-width:calc(100%/11.35);display:-webkit-box;display:-ms-flexbox;display:flex;-ms-flex-item-align:center;align-self:center;-o-object-fit:cover;object-fit:cover}.top-icon[_ngcontent-%COMP%]{margin-top:-4px;width:20px}.download-link[_ngcontent-%COMP%]{text-decoration:none;color:inherit}.attachment-file[_ngcontent-%COMP%]{height:auto;margin-bottom:1rem;margin-top:15%}.attachment-audio[_ngcontent-%COMP%]{height:auto;margin-bottom:1rem;margin-top:10%}.hide-nav[_ngcontent-%COMP%]{visibility:hidden}"]],Al=u._15({encapsulation:0,styles:Dl,data:{}});function Ll(n){return u._41(0,[(n()(),u._18(0,0,null,null,2,"div",[["class","text-center"]],null,null,null,null,null)),(n()(),u._39(1,null,["\n      ","\n      "])),u._33(131072,D.a,[A.a,u.i])],null,function(n,e){n(e,1,0,u._40(e,1,0,u._31(e,2).transform("Media.weDontSupport")))})}function $l(n){return u._41(0,[(n()(),u._39(-1,null,["\n        "])),(n()(),u._18(1,0,null,null,6,"video",[["class","d-flex align-self-center mt-4"],["controls",""],["height","90%"],["id","video-player"],["width","90%"]],null,[[null,"click"]],function(n,e,l){var t=!0;"click"===e&&(t=!1!==l.stopPropagation()&&t);return t},null,null)),(n()(),u._39(-1,null,["\n          "])),(n()(),u._18(3,0,null,null,0,"source",[["type","video/mp4"]],[[8,"src",4]],null,null,null,null)),(n()(),u._39(-1,null,["\n          "])),(n()(),u._18(5,0,null,null,0,"source",[["type","video/ogg"]],[[8,"src",4]],null,null,null,null)),(n()(),u._39(6,null,["\n            ","\n        "])),u._33(131072,D.a,[A.a,u.i]),(n()(),u._39(-1,null,["\n      "]))],null,function(n,e){var l=e.component;n(e,3,0,l.messageData.url),n(e,5,0,l.messageData.url),n(e,6,0,u._40(e,6,0,u._31(e,7).transform("Media.yourBrowserDoesNotSupport")))})}function jl(n){return u._41(0,[(n()(),u._18(0,0,null,null,6,"div",[["class","d-flex flex-column\n                   align-items-center justify-content-center h-100 w-100"]],null,null,null,null,null)),(n()(),u._39(-1,null,["\n      "])),(n()(),u._12(16777216,null,null,1,null,Ll)),u._16(3,16384,null,0,L.k,[u._0,u.X],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),(n()(),u._39(-1,null,["\n      "])),(n()(),u._12(0,[["videoFromChat",2]],null,0,null,$l)),(n()(),u._39(-1,null,["\n    "]))],function(n,e){var l=e.component;n(e,3,0,!l.supportedVideoPlayerExtensions.includes(l.messageData.message_extension),u._31(e,5))},null)}function Wl(n){return u._41(2,[(n()(),u._18(0,0,null,null,38,"div",[["class","h-100 d-flex flex-column carousel-parent"]],null,null,null,null,null)),(n()(),u._39(-1,null,["\n  "])),(n()(),u._18(2,0,null,null,11,"div",[["class","carousel-header d-flex"]],null,null,null,null,null)),(n()(),u._39(-1,null,["\n    "])),(n()(),u._18(4,0,null,null,8,"div",[["class","top-icons"]],null,null,null,null,null)),(n()(),u._39(-1,null,["\n      "])),(n()(),u._18(6,0,null,null,3,"a",[["class","download-link mr-4"],["download",""]],[[8,"href",4]],null,null,null,null)),(n()(),u._39(-1,null,["\n        "])),(n()(),u._18(8,0,null,null,0,"img",[["alt","download-btn"],["class","top-icon"],["src","assets/img/download-button.svg"]],null,null,null,null,null)),(n()(),u._39(-1,null,["\n      "])),(n()(),u._39(-1,null,["\n      "])),(n()(),u._18(11,0,null,null,0,"img",[["alt","close"],["class","top-icon cursor-hand"],["src","assets/img/cross-icon.svg"]],null,[[null,"click"]],function(n,e,l){var t=!0,i=n.component;"click"===e&&(t=!1!==i.onCloseClick()&&t);return t},null,null)),(n()(),u._39(-1,null,["\n    "])),(n()(),u._39(-1,null,["\n  "])),(n()(),u._39(-1,null,["\n  "])),(n()(),u._39(-1,null,["\n  "])),(n()(),u._18(16,0,null,null,21,"div",[["class","carousel-body d-flex h-100 justify-content-between"]],null,[[null,"click"]],function(n,e,l){var t=!0,i=n.component;"click"===e&&(t=!1!==i.onCloseClick()&&t);return t},null,null)),(n()(),u._39(-1,null,["\n    "])),(n()(),u._39(-1,null,["\n    "])),(n()(),u._39(-1,null,["\n    "])),(n()(),u._39(-1,null,["\n    "])),(n()(),u._39(-1,null,["\n    "])),(n()(),u._39(-1,null,["\n    "])),(n()(),u._39(-1,null,["\n    "])),(n()(),u._39(-1,null,["\n\n    "])),(n()(),u._39(-1,null,["\n    "])),(n()(),u._39(-1,null,["\n    "])),(n()(),u._39(-1,null,["\n    "])),(n()(),u._39(-1,null,["\n    "])),(n()(),u._39(-1,null,["\n    "])),(n()(),u._39(-1,null,["\n    "])),(n()(),u._39(-1,null,["\n    "])),(n()(),u._39(-1,null,["\n    "])),(n()(),u._39(-1,null,["\n    "])),(n()(),u._39(-1,null,["\n\n    "])),(n()(),u._12(16777216,null,null,1,null,jl)),u._16(36,16384,null,0,L.k,[u._0,u.X],{ngIf:[0,"ngIf"]},null),(n()(),u._39(-1,null,["\n  "])),(n()(),u._39(-1,null,["\n"])),(n()(),u._39(-1,null,["\n"]))],function(n,e){n(e,36,0,"video"==e.component.messageData.document_type)},function(n,e){n(e,6,0,e.component.messageData.url)})}u._13("app-media-player",Pl,function(n){return u._41(0,[(n()(),u._18(0,0,null,null,1,"app-media-player",[],null,[["window","keyup"]],function(n,e,l){var t=!0;return"window:keyup"===e&&(t=!1!==u._31(n,1).keyEvent(l)&&t),t},Wl,Al)),u._16(1,245760,null,0,Pl,[r.a,A.a],null,null)],function(n,e){n(e,1,0)},null)},{messageData:"messageData"},{closePlayer:"closePlayer"},[]);var Nl=[[".back-icon[_ngcontent-%COMP%]{width:18px;height:18px;margin-right:10px;-ms-flex-item-align:center;align-self:center;display:-webkit-box;display:-ms-flexbox;display:flex;margin-left:10px}#fugu-messenger-header-div[_ngcontent-%COMP%]{height:50px;background-color:var(--color);-webkit-box-shadow:0 1px 4px rgba(0,0,0,.4);box-shadow:0 1px 4px rgba(0,0,0,.4);z-index:9;display:-webkit-box;display:-ms-flexbox;display:flex;padding:30px 30px 30px 15px;-webkit-box-align:center;-ms-flex-align:center;align-items:center;font-family:Proxima-Regular;color:#fff;position:relative;border-top-left-radius:inherit!important;border-top-right-radius:inherit!important}#fugu-messenger-header-div.spacing-left[_ngcontent-%COMP%]{padding-left:30px}.messages-container[_ngcontent-%COMP%]{background-image:var(--background-url);border:1px solid #ddd;border-top-left-radius:0;border-top-right-radius:0;overflow:hidden}.message-container[_ngcontent-%COMP%]{min-width:45px;padding-bottom:2px;margin:0;width:100%}.message-container[_ngcontent-%COMP%]   .message-content[_ngcontent-%COMP%]{min-width:45px;width:auto;padding:10px;border-radius:4px;max-width:80%;word-wrap:break-word;text-align:left;font-size:14px}.message-container[_ngcontent-%COMP%]   .message-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0}.message-container[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{margin:15px 0 0;font-size:13px;line-height:1.62;color:#51445c;padding:0;text-transform:capitalize}.message-container.user-message[_ngcontent-%COMP%]   .message-content[_ngcontent-%COMP%]{background-color:#78717e;color:#fff;float:right;border-top-left-radius:10px;border-bottom-left-radius:10px}.message-container.agent-message[_ngcontent-%COMP%]   .message-content[_ngcontent-%COMP%]{background-color:#f8f9ff;color:#2c2333;display:inline-block;border-top-right-radius:10px;border-bottom-right-radius:10px;border:.5px solid #dce0e6}.typer-name[_ngcontent-%COMP%], .typing-container[_ngcontent-%COMP%]{text-align:var(--align-typing)!important}.message-container.agent-message[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{float:left;text-align:left;padding:0}.message-container.user-message[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{float:right;text-align:right;padding:0}.user-message[_ngcontent-%COMP%]   .conv-start[_ngcontent-%COMP%]{border-top-right-radius:20px}.user-message[_ngcontent-%COMP%]   .conv-end[_ngcontent-%COMP%]{border-bottom-right-radius:20px}.bot-message[_ngcontent-%COMP%]   .message-content[_ngcontent-%COMP%]{background-color:#fff!important;min-width:285px;border:1px solid #dadfe3}.agent-message[_ngcontent-%COMP%]   .conv-start[_ngcontent-%COMP%]{border-top-left-radius:20px}.agent-message[_ngcontent-%COMP%]   .conv-end[_ngcontent-%COMP%]{border-bottom-left-radius:20px}.private-message[_ngcontent-%COMP%]   .message-content[_ngcontent-%COMP%]{background-color:#ffffd9!important;color:#000!important}.feedback-content[_ngcontent-%COMP%]{position:relative;padding:0!important;border-top-right-radius:4px!important;border-bottom-right-radius:4px!important}.col-xs-12[_ngcontent-%COMP%]{width:100%;display:block}.message-row[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;position:relative}.message-row[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{font-family:inherit}#messageScrollDiv[_ngcontent-%COMP%]{height:calc(100% - 55px);padding:0 30px 10px;overflow:auto;overflow-x:hidden;-webkit-transform:translate3d(0,0,0);transform:translate3d(0,0,0)}#actionsContainer[_ngcontent-%COMP%]{min-height:53px;position:absolute;bottom:0;background-color:#f4f7f9;width:100%;display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;border-bottom-left-radius:6px;border-bottom-right-radius:6px;padding:18px 0;box-shadow:0 -1px 10px rgba(0,0,0,.2);-webkit-box-shadow:0 -1px 10px rgba(0,0,0,.2)}#actionsContainer[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;background-color:transparent;border:0;outline:0;resize:none;-webkit-box-sizing:border-box;box-sizing:border-box;padding:0 100px 0 30px;height:18px;font-size:15px;font-weight:400;line-height:1.33;white-space:pre;white-space:pre-wrap;word-wrap:break-word;-webkit-transition:background-color .2s ease,-webkit-box-shadow .2s ease;transition:background-color .2s ease,box-shadow .2s ease,-webkit-box-shadow .2s ease}#textarea-send-message[_ngcontent-%COMP%]{font-family:inherit}.action-buttons[_ngcontent-%COMP%]{position:absolute;right:16px;height:100%;display:-webkit-box;display:-ms-flexbox;display:flex;bottom:0}#btn-attachment[_ngcontent-%COMP%], #btn-send[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;border:0;background-color:transparent;outline:0;cursor:pointer;opacity:.5;padding-left:4px}#btn-attachment[_ngcontent-%COMP%]:hover, #btn-send[_ngcontent-%COMP%]:hover, .active-component-send#btn-send[_ngcontent-%COMP%]{opacity:1}#btn-attachment[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], #btn-send[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:20px}#btn-attachment[_ngcontent-%COMP%]   input[type=file][_ngcontent-%COMP%]{display:none;pointer-events:none}@-webkit-keyframes action-container-slide-in{0%{opacity:0;-webkit-transform:translateY(15px);transform:translateY(15px)}to{opacity:1;-webkit-transform:translateY(0);transform:translateY(0)}}@keyframes action-container-slide-in{0%{opacity:0;-webkit-transform:translateY(15px);transform:translateY(15px)}to{opacity:1;-webkit-transform:translateY(0);transform:translateY(0)}}.back-icon-span[_ngcontent-%COMP%]{height:40px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;cursor:pointer;border-radius:4px;margin-right:2%}.back-icon-span[_ngcontent-%COMP%]:hover{background-color:rgba(0,0,0,.2)}.read-unread-div[_ngcontent-%COMP%]{padding:4px 0 0;display:-webkit-box;display:-ms-flexbox;display:flex}.chat-date-time[_ngcontent-%COMP%]{line-height:1;letter-spacing:-.3px;font-family:ProximaNova-reg;font-size:13px;text-align:left;color:#51445c;font-style:italic;margin:0}.loading[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{overflow:hidden;display:inline-block;-webkit-animation:1.4s infinite both ellipsis;animation:1.4s infinite both ellipsis;font-size:20px;color:#716c6c;height:15px;margin-right:3px}.loading[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(2){-webkit-animation-delay:.2s;animation-delay:.2s}.loading[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(3){-webkit-animation-delay:.4s;animation-delay:.4s}.agent-message.loading[_ngcontent-%COMP%]   .message-content[_ngcontent-%COMP%]{background-color:#e4e1e1;border-radius:20px;padding:8px 10px}@keyframes ellipsis{0%,100%{opacity:.2}20%{opacity:1}}@-webkit-keyframes ellipsis{0%,100%{opacity:.2}20%{opacity:1}}.visibility-0[_ngcontent-%COMP%]{pointer-events:none;opacity:0;visibility:hidden;margin-left:-15px;display:none}p[_ngcontent-%COMP%]{margin:0!important}.buttons-container[_ngcontent-%COMP%]{position:absolute;bottom:54px;left:0;width:100%;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;padding-bottom:10px}.message-btn[_ngcontent-%COMP%]{font-size:12px}.message-btn[_ngcontent-%COMP%]:not(:first-child){margin-left:15px}.message-btn[_ngcontent-%COMP%]:hover{background-color:#fff}.pad-bot[_ngcontent-%COMP%]{padding-bottom:50px!important}textarea[_ngcontent-%COMP%]{font-size:16px!important}.explore-dashboard[_ngcontent-%COMP%]{position:absolute;right:60px}.explore-dashboard[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:20px;-webkit-transform:translateY(2px);transform:translateY(2px)}.position-relative[_ngcontent-%COMP%]{position:relative}.integration-logo[_ngcontent-%COMP%]{height:16px;width:16px;position:absolute;margin-left:3px}.message-container.agent-message[_ngcontent-%COMP%]   .message-content[_ngcontent-%COMP%]   .integration-logo[_ngcontent-%COMP%]{right:-20px;bottom:2px}.message-container.user-message[_ngcontent-%COMP%]   .message-content[_ngcontent-%COMP%]   .integration-logo[_ngcontent-%COMP%]{left:-24px;bottom:2px}  .agent-message .attachment-link{color:#08c!important}  .user-message .attachment-link{color:#fff!important}.file-uploading-text[_ngcontent-%COMP%]{font-size:12px}min-width-60[_ngcontent-%COMP%]{min-width:60%!important}#btn-plus[_ngcontent-%COMP%]{-webkit-box-shadow:none;box-shadow:none;border:none;background:0 0}.plus_dropup[_ngcontent-%COMP%]{position:relative}.dropup_content[_ngcontent-%COMP%]{position:absolute;display:-webkit-box;display:-ms-flexbox;display:flex;background-color:#fff;min-width:130px;-webkit-box-shadow:0 8px 16px 0 rgba(0,0,0,.2);box-shadow:0 8px 16px 0 rgba(0,0,0,.2);bottom:50px;right:8px;z-index:5}.dropup_content[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:0 0}.dropup_content[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#f4f5f5}.dropup_content[_ngcontent-%COMP%]:after{content:'';position:absolute;bottom:-10px;width:0;right:0;height:0;border-left:10px solid transparent;border-right:10px solid transparent;border-top:10px solid #9a9a9a;opacity:.3}.d-flex-normal[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex}.no-btn-style[_ngcontent-%COMP%]{background-color:#fff;border:none;-webkit-box-shadow:none;box-shadow:none;outline:0}.text-align-left[_ngcontent-%COMP%]{text-align:left}.text-align-right[_ngcontent-%COMP%]{text-align:right}.typing-message[_ngcontent-%COMP%]{font-size:12px}.floating-btn[_ngcontent-%COMP%]{position:absolute;right:25px;bottom:70px;width:42px;height:42px;border-radius:50%;z-index:1020;background-color:#fff;cursor:pointer;-webkit-box-shadow:0 1px 1px 0 rgba(0,0,0,.06),0 2px 5px 0 rgba(0,0,0,.2);box-shadow:0 1px 1px 0 rgba(0,0,0,.06),0 2px 5px 0 rgba(0,0,0,.2)}.badge-unread[_ngcontent-%COMP%]{right:-5px;position:absolute;top:-5px}.badge-floating-btn[_ngcontent-%COMP%]{background-color:#e02a46;border-radius:12px;padding:0 5px;text-align:center;color:#fff;display:inline-block;font-size:12px;line-height:20px;min-width:20px;min-height:20px;vertical-align:top}.no-reply[_ngcontent-%COMP%]{text-align:center;font-size:13px;color:rgba(0,0,0,.4)}  .message-container .message-content .delete-message-icon{position:absolute;left:-10px;top:50%;-webkit-transform:translate(-100%,-50%);transform:translate(-100%,-50%);cursor:pointer;display:none;color:rgba(0,0,0,.4);-webkit-box-align:center;-ms-flex-align:center;align-items:center}  .message-container .message-content .edit-message-icon{position:absolute;left:-30px;top:50%;-webkit-transform:translate(-100%,-50%);transform:translate(-100%,-50%);cursor:pointer;display:none;color:rgba(0,0,0,.4)}  .message-container:hover .message-content .delete-message-icon{display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex}  .message-container:hover .message-content .edit-message-icon{display:inline-block}  .message-container.agent-message .message-edited.message-content::after{content:attr(data-edited);font-size:10px;line-height:16px;text-align:right;display:block;color:rgba(0,0,0,.4)}  .message-container.user-message .message-edited.message-content::after{content:attr(data-edited);font-size:10px;line-height:16px;text-align:right;display:block;color:rgba(255,255,255,.6)}.message-container.user-message.edit-message-mode[_ngcontent-%COMP%]{background-color:#fff6d1;padding:2px 4px;border-radius:5px}.message-options-mask[_ngcontent-%COMP%]{left:0;top:0;z-index:2500}.padding-message-options-menu[_ngcontent-%COMP%]{padding:9px 0}.message-options-menu[_ngcontent-%COMP%]{font-family:Proxima-Regular;width:90px;max-width:165px;min-width:90px;background-color:#fff;z-index:2600;border-radius:5px;-webkit-transform:translate(-50%,0);transform:translate(-50%,0);-webkit-transform-origin:top left;transform-origin:top left;-webkit-animation:.3s cubic-bezier(.785,.135,.15,.86) forwards grow-bottom;animation:.3s cubic-bezier(.785,.135,.15,.86) forwards grow-bottom;-webkit-box-shadow:0 8px 16px 0 rgba(0,0,0,.2);box-shadow:0 8px 16px 0 rgba(0,0,0,.2)}.message-options-menu[_ngcontent-%COMP%]   .chat-menu-option[_ngcontent-%COMP%]{text-align:left;width:90px;-webkit-transform-origin:top left;transform-origin:top left;-webkit-animation:.5s cubic-bezier(.785,.135,.15,.86) forwards grow-bottom;animation:.5s cubic-bezier(.785,.135,.15,.86) forwards grow-bottom;color:#2f2f2f;font-size:14px;padding-bottom:10px!important;padding-left:15px!important;padding-right:15px!important}.message-options-menu[_ngcontent-%COMP%]   .chat-menu-option[_ngcontent-%COMP%]:first-child{padding-top:10px!important;border-top-left-radius:5px;border-top-right-radius:5px;padding-bottom:5px!important}.message-options-menu[_ngcontent-%COMP%]   .chat-menu-option[_ngcontent-%COMP%]:last-child{border-bottom-left-radius:5px;border-bottom-right-radius:5px;padding-top:5px!important}.message-options-menu[_ngcontent-%COMP%]   .chat-menu-option[_ngcontent-%COMP%]:hover{background-color:rgba(0,0,0,.1)}.chat-loading-dots-div[_ngcontent-%COMP%]{position:absolute;width:90%;top:-12px;-webkit-transform:translate(-50%,-100%);transform:translate(-50%,-100%);left:50%;-webkit-transition:all .3s;transition:all .3s;z-index:1002;max-height:25px}.transparent-message-container[_ngcontent-%COMP%]{background:0 0!important;border:none!important;width:100%!important;max-width:100%!important;padding:0!important}.message-content.video-url-message[_ngcontent-%COMP%]{max-width:90%}.payment-message-container[_ngcontent-%COMP%]{padding:4px!important}  .message-container.user-message .message-content.agent-selection-div{-webkit-box-shadow:none!important;box-shadow:none!important}.chat-loading-dots-div[_ngcontent-%COMP%]   .chat-loading-dots-div-r[_ngcontent-%COMP%]{line-height:20px;text-align:center;background-color:transparent;font-weight:500;-webkit-transition:all .3s;transition:all .3s}div.chat-loading-dots[_ngcontent-%COMP%]{width:100%;color:var(--color);opacity:.6;font-size:28px;text-align:center}.chat-loading-dots[_ngcontent-%COMP%]:after{content:'\u2022';-webkit-animation:1s steps(5,end) infinite dots;animation:1s steps(5,end) infinite dots}@-webkit-keyframes dots{0%,20%{color:transparent;text-shadow:.5em 0 0 transparent,1em 0 0 transparent}40%{color:var(--color);text-shadow:.5em 0 0 transparent,1em 0 0 transparent}60%{text-shadow:.5em 0 0 var(--color),1em 0 0 transparent}100%,80%{text-shadow:.5em 0 0 var(--color),1em 0 0 var(--color)}}@keyframes dots{0%,20%{color:transparent;text-shadow:.5em 0 0 transparent,1em 0 0 transparent}40%{color:var(--color);text-shadow:.5em 0 0 transparent,1em 0 0 transparent}60%{text-shadow:.5em 0 0 var(--color),1em 0 0 transparent}100%,80%{text-shadow:.5em 0 0 var(--color),1em 0 0 var(--color)}}"]],Rl=u._15({encapsulation:0,styles:Nl,data:{animation:[{type:7,name:"fadeSlideIn",definitions:[{type:1,expr:":enter",animation:[{type:6,styles:{transform:"translateY(15px)",opacity:0},offset:null},{type:4,styles:{type:5,steps:[{type:6,styles:{opacity:0,transform:"translateY(15px)",offset:0},offset:null},{type:6,styles:{opacity:1,transform:"translateY(0)",offset:1},offset:null}]},timings:".32s .16ms cubic-bezier(0.23, 1, 0.32, 1)"}],options:null},{type:1,expr:":leave",animation:[{type:6,styles:{transform:"translateY(0px)",opacity:1},offset:null},{type:4,styles:{type:5,steps:[{type:6,styles:{opacity:1,transform:"translateY(0)",offset:0},offset:null},{type:6,styles:{opacity:0,transform:"translateY(15px)",offset:1},offset:null}]},timings:".32s cubic-bezier(0.23, 1, 0.32, 1)"}],options:null}],options:{}},{type:7,name:"typingSlideIn",definitions:[{type:1,expr:":enter",animation:[{type:6,styles:{height:0,opacity:0},offset:null},{type:4,styles:{type:6,styles:{height:"20px",opacity:1},offset:null},timings:"100ms ease-in"}],options:null},{type:1,expr:":leave",animation:[{type:6,styles:{height:"20px",opacity:0},offset:null},{type:4,styles:{type:6,styles:{height:0},offset:null},timings:"100ms ease-out"}],options:null}],options:{}},{type:7,name:"scaleInOut",definitions:[{type:1,expr:":enter",animation:[{type:6,styles:{transform:"scale(0)",opacity:0},offset:null},{type:4,styles:{type:6,styles:{transform:"scale(1)",opacity:1},offset:null},timings:"0.3s 0.16s cubic-bezier(0.23, 1, 0.32, 1)"}],options:null},{type:1,expr:":leave",animation:[{type:6,styles:{transform:"scale(1)",opacity:1},offset:null},{type:4,styles:{type:6,styles:{transform:"scale(0)",opacity:0},offset:null},timings:"0.2s 0.16s ease-out"}],options:null}],options:{}},{type:7,name:"fadeSlideInMessages",definitions:[{type:1,expr:"* => new",animation:[{type:11,selector:".agent-message",animation:[{type:6,styles:{opacity:0,transform:"translateX(-15px)"},offset:null},{type:4,styles:{type:5,steps:[{type:6,styles:{opacity:0,transform:"translateX(-15px)",offset:0},offset:null},{type:6,styles:{opacity:1,transform:"translateX(0)",offset:1},offset:null}]},timings:".42s .16ms cubic-bezier(0.23, 1, 0.32, 1)"}],options:{optional:!0}},{type:11,selector:".user-message",animation:[{type:6,styles:{opacity:0,transform:"translateX(15px)"},offset:null},{type:4,styles:{type:5,steps:[{type:6,styles:{opacity:0,transform:"translateX(15px)",offset:0},offset:null},{type:6,styles:{opacity:1,transform:"translateX(0)",offset:1},offset:null}]},timings:".42s .16ms cubic-bezier(0.23, 1, 0.32, 1)"}],options:{optional:!0}}],options:null},{type:1,expr:"* => added",animation:[{type:11,selector:".agent-message",animation:[{type:6,styles:{opacity:0,transform:"translateY(15px)"},offset:null},{type:4,styles:{type:5,steps:[{type:6,styles:{opacity:0,transform:"translateY(15px)",offset:0},offset:null},{type:6,styles:{opacity:1,transform:"translateY(0)",offset:1},offset:null}]},timings:".32s .16ms ease"}],options:{optional:!0}},{type:11,selector:".user-message",animation:[{type:6,styles:{opacity:0,transform:"translateY(15px)"},offset:null},{type:4,styles:{type:5,steps:[{type:6,styles:{opacity:0,transform:"translateY(15px)",offset:0},offset:null},{type:6,styles:{opacity:1,transform:"translateY(0)",offset:1},offset:null}]},timings:".32s .16ms ease"}],options:{optional:!0}}],options:null}],options:{}}]}});function Fl(n){return u._41(0,[(n()(),u._18(0,0,null,null,5,"span",[["class","back-icon-span"]],null,[[null,"click"]],function(n,e,l){var t=!0,i=n.component;"click"===e&&(t=!1!==i.backToConversations()&&t);return t},null,null)),u._16(1,278528,null,0,L.i,[u.y,u.z,u.n,u.N],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),u._34(2,{"visibility-0":0}),(n()(),u._39(-1,null,["\n        "])),(n()(),u._18(4,0,null,null,0,"img",[["class","back-icon"],["src","assets/img/backArrow.svg"]],null,null,null,null,null)),(n()(),u._39(-1,null,["\n      "]))],function(n,e){var l=e.component;n(e,1,0,"back-icon-span",n(e,2,0,l.hideBackBtn&&0==l.messages.length))},null)}function zl(n){return u._41(0,[(n()(),u._18(0,0,null,null,3,"span",[["class","typing-message mt-1"]],[[24,"@typingSlideIn",0]],null,null,null,null)),(n()(),u._39(1,null,["\n          ","","\n        "])),u._33(131072,D.a,[A.a,u.i]),u._33(131072,D.a,[A.a,u.i])],null,function(n,e){var l=e.component;n(e,0,0,void 0),n(e,1,0,l.isAgentTypingName.split(" ")[0]+" "+u._40(e,1,0,u._31(e,2).transform("Chat.is")),u._40(e,1,1,u._31(e,3).transform("Chat.typing")))})}function Xl(n){return u._41(0,[(n()(),u._18(0,0,null,null,3,"span",[["class","typing-message mt-1"]],[[24,"@typingSlideIn",0]],null,null,null,null)),(n()(),u._39(1,null,["\n          ","","\n        "])),u._33(131072,D.a,[A.a,u.i]),u._33(131072,D.a,[A.a,u.i])],null,function(n,e){var l=e.component;n(e,0,0,void 0),n(e,1,0,l.isAgentTypingName.split(" ")[0]+" "+u._40(e,1,0,u._31(e,2).transform("Chat.is")),u._40(e,1,1,u._31(e,3).transform("Chat.typing")))})}function Ul(n){return u._41(0,[(n()(),u._18(0,0,null,null,0,"img",[["class","hw-22 mr-2 cursor-hand"],["src","assets/img/video-call.svg"]],null,[[null,"click"]],function(n,e,l){var t=!0,i=n.component;"click"===e&&(t=!1!==i.openVideoCallPopup(i.RTCCallTypeEnum.VIDEO)&&t);return t},null,null))],null,null)}function Vl(n){return u._41(0,[(n()(),u._18(0,0,null,null,0,"img",[["class","hw-22 mr-2 cursor-hand"],["src","assets/img/audio-call.svg"]],null,[[null,"click"]],function(n,e,l){var t=!0,i=n.component;"click"===e&&(t=!1!==i.openVideoCallPopup(i.RTCCallTypeEnum.AUDIO)&&t);return t},null,null))],null,null)}function ql(n){return u._41(0,[(n()(),u._18(0,0,null,null,7,null,null,null,null,null,null,null)),(n()(),u._39(-1,null,["\n        "])),(n()(),u._12(16777216,null,null,1,null,Ul)),u._16(3,16384,null,0,L.k,[u._0,u.X],{ngIf:[0,"ngIf"]},null),(n()(),u._39(-1,null,["\n        "])),(n()(),u._12(16777216,null,null,1,null,Vl)),u._16(6,16384,null,0,L.k,[u._0,u.X],{ngIf:[0,"ngIf"]},null),(n()(),u._39(-1,null,["\n      "]))],function(n,e){var l=e.component;n(e,3,0,"1"==l.commonService.is_video_call_enabled&&l.allow_video_call),n(e,6,0,"1"==l.commonService.is_audio_call_enabled&&l.allow_audio_call)},null)}function Hl(n){return u._41(0,[(n()(),u._18(0,0,null,null,5,"a",[["class","tooltip-container mr-2"],["target","_blank"]],[[8,"href",4]],null,null,null,null)),(n()(),u._18(1,0,null,null,0,"img",[["src","assets/img/explore_dashboard.png"]],null,null,null,null,null)),(n()(),u._39(-1,null,["\n        "])),(n()(),u._18(3,0,null,null,1,"span",[["class","tooltip"]],null,null,null,null,null)),(n()(),u._39(4,null,["",""])),(n()(),u._39(-1,null,["\n      "]))],null,function(n,e){var l=e.component;n(e,0,0,(l.fuguWidgetService.fuguWidgetData.dashboard_url?l.fuguWidgetService.fuguWidgetData.dashboard_url:"https://hippochat.io")+"/#/dashboard/all/chats/"+l.activeChannelId+"?access_token="+l.access_token),n(e,4,0,l.commonService.redirectionTooltipText)})}function Bl(n){return u._41(0,[(n()(),u._18(0,0,null,null,3,"div",[["id","loader-div"]],null,null,null,null,null)),(n()(),u._39(-1,null,["\n      "])),(n()(),u._18(2,0,null,null,0,"img",[["id","loader-img"],["src","assets/img/ring.gif"]],null,null,null,null,null)),(n()(),u._39(-1,null,["\n    "]))],null,null)}function Yl(n){return u._41(0,[(n()(),u._18(0,0,null,null,2,"span",[],null,null,null,null,null)),(n()(),u._39(1,null,["",""])),u._33(131072,D.a,[A.a,u.i])],null,function(n,e){n(e,1,0,u._40(e,1,0,u._31(e,2).transform("Conversation.you")))})}function Gl(n){return u._41(0,[(n()(),u._18(0,0,null,null,1,"span",[],null,null,null,null,null)),(n()(),u._39(1,null,["",""]))],null,function(n,e){n(e,1,0,e.parent.parent.parent.context.$implicit.full_name)})}function Zl(n){return u._41(0,[(n()(),u._18(0,0,null,null,8,"h5",[["class","col-xs-12"]],null,null,null,null,null)),(n()(),u._39(-1,null,["\n            "])),(n()(),u._12(16777216,null,null,1,null,Yl)),u._16(3,16384,null,0,L.k,[u._0,u.X],{ngIf:[0,"ngIf"]},null),(n()(),u._39(-1,null,["\n            "])),(n()(),u._39(-1,null,["\n            "])),(n()(),u._12(16777216,null,null,1,null,Gl)),u._16(7,16384,null,0,L.k,[u._0,u.X],{ngIf:[0,"ngIf"]},null),(n()(),u._39(-1,null,["\n          "]))],function(n,e){var l=e.component;n(e,3,0,e.parent.parent.context.$implicit.user_id==l.commonService.userDetails.user_id),n(e,7,0,e.parent.parent.context.$implicit.user_id!=l.commonService.userDetails.user_id)},null)}function Jl(n){return u._41(0,[(n()(),u._18(0,0,null,null,10,"i",[["class","delete-message-icon"],["style","font-size: 24px;"]],null,[[null,"click"]],function(n,e,l){var t=!0,i=n.component;"click"===e&&(i.openMessageMenu(l,1),i.menuOpenIndex=n.parent.parent.context.$implicit.muid,t=!1!=(i.hideEditAction=n.parent.parent.context.$implicit.message_type==i.MessageTypeEnum.Image_Message||n.parent.parent.context.$implicit.message_type==i.MessageTypeEnum.File_Message)&&t);return t},null,null)),(n()(),u._39(-1,null,["\n                                                                                                                                                                        "])),(n()(),u._18(2,0,null,null,7,":svg:svg",[[":xml:space","preserve"],[":xmlns:xlink","http://www.w3.org/1999/xlink"],["height","20px"],["id","Capa_1"],["style","enable-background:new 0 0 60 60;"],["version","1.1"],["viewBox","0 0 60 60"],["width","20px"],["x","0px"],["xmlns","http://www.w3.org/2000/svg"],["y","0px"]],null,null,null,null,null)),(n()(),u._39(-1,null,["\n                                                                                                                                                                          "])),(n()(),u._18(4,0,null,null,0,":svg:path",[["d","M8,22c-4.411,0-8,3.589-8,8s3.589,8,8,8s8-3.589,8-8S12.411,22,8,22z"],["fill","#7a8082"]],null,null,null,null,null)),(n()(),u._39(-1,null,["\n                                                                                                                                                                          "])),(n()(),u._18(6,0,null,null,0,":svg:path",[["d","M52,22c-4.411,0-8,3.589-8,8s3.589,8,8,8s8-3.589,8-8S56.411,22,52,22z"],["fill","#7a8082"]],null,null,null,null,null)),(n()(),u._39(-1,null,["\n                                                                                                                                                                          "])),(n()(),u._18(8,0,null,null,0,":svg:path",[["d","M30,22c-4.411,0-8,3.589-8,8s3.589,8,8,8s8-3.589,8-8S34.411,22,30,22z"],["fill","#7a8082"]],null,null,null,null,null)),(n()(),u._39(-1,null,["\n                                                                                                                                                                        "])),(n()(),u._39(-1,null,["\n                "]))],null,null)}function Kl(n){return u._41(0,[(n()(),u._18(0,0,null,null,1,"i",[["class","fa fa-pencil edit-message-icon"],["style","display: none;"]],[[8,"id",0]],[[null,"click"]],function(n,e,l){var t=!0,i=n.component;"click"===e&&(t=!1!==i.editMessage(n.parent.parent.context.$implicit,i.TaskStatusEnum.EDIT)&&t);return t},null,null)),(n()(),u._39(-1,null,["ed\n                "]))],null,function(n,e){n(e,0,0,e.parent.parent.context.$implicit.muid+"-edit")})}function Ql(n){return u._41(0,[(n()(),u._18(0,0,null,null,1,"i",[["class","fa fa-trash delete-message-icon"],["style","display: none;"]],[[8,"id",0]],[[null,"click"]],function(n,e,l){var t=!0,i=n.component;"click"===e&&(t=!1!==i.deleteOrEditMessage(n.parent.parent.context.$implicit,i.TaskStatusEnum.DELETE)&&t);return t},null,null)),(n()(),u._39(-1,null,["del\n                "]))],null,function(n,e){n(e,0,0,e.parent.parent.context.$implicit.muid+"-delete")})}function nt(n){return u._41(0,[(n()(),u._18(0,0,null,null,0,"img",[["class","integration-logo"]],[[8,"src",4]],null,null,null,null))],null,function(n,e){var l=e.component;n(e,0,0,e.parent.parent.context.$implicit.integration_source==l.IntegrationTypeEnum.MESSENGER?"assets/img/messenger-source-icon.svg":"assets/img/email-icon.svg")})}function et(n){return u._41(0,[(n()(),u._18(0,0,null,null,6,"p",[["class","chat-date-time text-right"],["style","float:right"]],null,null,null,null,null)),(n()(),u._39(1,null,["","\n                  "])),u._33(131072,D.a,[A.a,u.i]),(n()(),u._18(3,0,null,null,2,"span",[["style","text-transform:lowercase"]],null,null,null,null,null)),(n()(),u._39(4,null,[" ",""])),u._35(5,2),(n()(),u._39(-1,null,["\n                "]))],null,function(n,e){n(e,1,0,u._40(e,1,0,u._31(e,2).transform("Chat.sent"))),n(e,4,0,u._40(e,4,0,n(e,5,0,u._31(e.parent.parent.parent.parent.parent.parent,0),e.parent.parent.parent.parent.parent.context.$implicit.date_time,"jm")))})}function lt(n){return u._41(0,[(n()(),u._18(0,0,null,null,6,"p",[["class","chat-date-time text-right"],["style","float:right"]],null,null,null,null,null)),(n()(),u._39(1,null,["","\n                  "])),u._33(131072,D.a,[A.a,u.i]),(n()(),u._18(3,0,null,null,2,"span",[["class","chat-date-time"],["style","text-transform:lowercase"]],null,null,null,null,null)),(n()(),u._39(4,null,["",""])),u._35(5,2),(n()(),u._39(-1,null,["\n                "]))],null,function(n,e){n(e,1,0,u._40(e,1,0,u._31(e,2).transform("Chat.read"))),n(e,4,0,u._40(e,4,0,n(e,5,0,u._31(e.parent.parent.parent.parent.parent.parent,0),e.parent.parent.parent.parent.parent.context.$implicit.date_time,"jm")))})}function tt(n){return u._41(0,[(n()(),u._18(0,0,null,null,6,"p",[["class","chat-date-time text-right"],["style","float:right"]],null,null,null,null,null)),(n()(),u._39(1,null,["","\n                  "])),u._33(131072,D.a,[A.a,u.i]),(n()(),u._18(3,0,null,null,2,"span",[["class","chat-date-time"],["style","float:right;text-transform:lowercase"]],null,null,null,null,null)),(n()(),u._39(4,null,["",""])),u._35(5,2),(n()(),u._39(-1,null,["\n                "]))],null,function(n,e){n(e,1,0,u._40(e,1,0,u._31(e,2).transform("Chat.delivered"))),n(e,4,0,u._40(e,4,0,n(e,5,0,u._31(e.parent.parent.parent.parent.parent.parent,0),e.parent.parent.parent.parent.parent.context.$implicit.date_time,"jm")))})}function it(n){return u._41(0,[(n()(),u._18(0,0,null,null,5,"p",[["class","chat-date-time text-left"]],null,null,null,null,null)),(n()(),u._39(-1,null,["\n                  "])),(n()(),u._18(2,0,null,null,2,"span",[["class","chat-date-time;text-transform:lowercase"]],null,null,null,null,null)),(n()(),u._39(3,null,["",""])),u._35(4,2),(n()(),u._39(-1,null,["\n                "]))],null,function(n,e){n(e,3,0,u._40(e,3,0,n(e,4,0,u._31(e.parent.parent.parent.parent.parent.parent,0),e.parent.parent.parent.parent.parent.context.$implicit.date_time,"jm")))})}function st(n){return u._41(0,[(n()(),u._18(0,0,null,null,13,null,null,null,null,null,null,null)),(n()(),u._39(-1,null,["\n                "])),(n()(),u._12(16777216,null,null,1,null,et)),u._16(3,16384,null,0,L.k,[u._0,u.X],{ngIf:[0,"ngIf"]},null),(n()(),u._39(-1,null,["\n                "])),(n()(),u._12(16777216,null,null,1,null,lt)),u._16(6,16384,null,0,L.k,[u._0,u.X],{ngIf:[0,"ngIf"]},null),(n()(),u._39(-1,null,["\n                "])),(n()(),u._12(16777216,null,null,1,null,tt)),u._16(9,16384,null,0,L.k,[u._0,u.X],{ngIf:[0,"ngIf"]},null),(n()(),u._39(-1,null,["\n                "])),(n()(),u._12(16777216,null,null,1,null,it)),u._16(12,16384,null,0,L.k,[u._0,u.X],{ngIf:[0,"ngIf"]},null),(n()(),u._39(-1,null,["\n              "]))],function(n,e){var l=e.component;n(e,3,0,e.parent.parent.parent.parent.context.$implicit.message_status==l.MessageStatusEnum.Sent&&e.parent.parent.parent.parent.context.$implicit.user_type==l.UserTypeEnum.Customer),n(e,6,0,e.parent.parent.parent.parent.context.$implicit.message_status==l.MessageStatusEnum.Read&&e.parent.parent.parent.parent.context.$implicit.user_type==l.UserTypeEnum.Customer),n(e,9,0,e.parent.parent.parent.parent.context.$implicit.message_status==l.MessageStatusEnum.Delivered&&e.parent.parent.parent.parent.context.$implicit.user_type==l.UserTypeEnum.Customer),n(e,12,0,e.parent.parent.parent.parent.context.$implicit.user_type==l.UserTypeEnum.Agent)},null)}function ut(n){return u._41(0,[(n()(),u._18(0,0,null,null,6,"p",[["class","chat-date-time text-right"],["style","float:right"]],null,null,null,null,null)),(n()(),u._39(1,null,["",":\n                  "])),u._33(131072,D.a,[A.a,u.i]),(n()(),u._18(3,0,null,null,2,"span",[["style","float:right;text-transform:lowercase"]],null,null,null,null,null)),(n()(),u._39(4,null,[" ",""])),u._35(5,2),(n()(),u._39(-1,null,["\n                "]))],null,function(n,e){n(e,1,0,u._40(e,1,0,u._31(e,2).transform("Chat.sent"))),n(e,4,0,u._40(e,4,0,n(e,5,0,u._31(e.parent.parent.parent.parent.parent.parent,0),e.parent.parent.parent.parent.parent.context.$implicit.date_time,"jm")))})}function at(n){return u._41(0,[(n()(),u._18(0,0,null,null,6,"p",[["class","chat-date-time text-right"],["style","float:right"]],null,null,null,null,null)),(n()(),u._39(1,null,["",":\n                  "])),u._33(131072,D.a,[A.a,u.i]),(n()(),u._18(3,0,null,null,2,"span",[["class","chat-date-time"],["style","float:right;text-transform:lowercase"]],null,null,null,null,null)),(n()(),u._39(4,null,["",""])),u._35(5,2),(n()(),u._39(-1,null,["\n                "]))],null,function(n,e){n(e,1,0,u._40(e,1,0,u._31(e,2).transform("Chat.read"))),n(e,4,0,u._40(e,4,0,n(e,5,0,u._31(e.parent.parent.parent.parent.parent.parent,0),e.parent.parent.parent.parent.parent.context.$implicit.date_time,"jm")))})}function ot(n){return u._41(0,[(n()(),u._18(0,0,null,null,7,null,null,null,null,null,null,null)),(n()(),u._39(-1,null,["\n                "])),(n()(),u._12(16777216,null,null,1,null,ut)),u._16(3,16384,null,0,L.k,[u._0,u.X],{ngIf:[0,"ngIf"]},null),(n()(),u._39(-1,null,["\n                "])),(n()(),u._12(16777216,null,null,1,null,at)),u._16(6,16384,null,0,L.k,[u._0,u.X],{ngIf:[0,"ngIf"]},null),(n()(),u._39(-1,null,["\n              "]))],function(n,e){var l=e.component;n(e,3,0,e.parent.parent.parent.parent.context.$implicit.message_status==l.MessageStatusEnum.Sent),n(e,6,0,e.parent.parent.parent.parent.context.$implicit.message_status==l.MessageStatusEnum.Read)},null)}function rt(n){return u._41(0,[(n()(),u._18(0,0,null,null,7,"div",[["style","width:100%"]],null,null,null,null,null)),(n()(),u._39(-1,null,["\n              "])),(n()(),u._12(16777216,null,null,1,null,st)),u._16(3,16384,null,0,L.k,[u._0,u.X],{ngIf:[0,"ngIf"]},null),(n()(),u._39(-1,null,["\n              "])),(n()(),u._12(16777216,null,null,1,null,ot)),u._16(6,16384,null,0,L.k,[u._0,u.X],{ngIf:[0,"ngIf"]},null),(n()(),u._39(-1,null,["\n            "]))],function(n,e){var l=e.component;n(e,3,0,l.chatType!=l.ChatTypeEnum.AdminToAdmin),n(e,6,0,l.chatType==l.ChatTypeEnum.AdminToAdmin&&e.parent.parent.parent.context.$implicit.user_id==l.commonService.userDetails.user_id)},null)}function ct(n){return u._41(0,[(n()(),u._18(0,0,null,null,8,"div",[],null,null,null,null,null)),(n()(),u._39(-1,null,["\n              "])),(n()(),u._18(2,0,null,null,5,"p",[["class","chat-date-time text-right"],["style","float:right"]],null,null,null,null,null)),(n()(),u._39(-1,null,["\n                "])),(n()(),u._18(4,0,null,null,2,"span",[],null,null,null,null,null)),(n()(),u._39(5,null,["",""])),u._33(131072,D.a,[A.a,u.i]),(n()(),u._39(-1,null,["\n              "])),(n()(),u._39(-1,null,["\n            "]))],null,function(n,e){n(e,5,0,u._40(e,5,0,u._31(e,6).transform("Chat.sending")))})}function _t(n){return u._41(0,[(n()(),u._18(0,0,null,null,8,"div",[["class","col-xs-12 text-left read-unread-div"]],null,null,null,null,null)),(n()(),u._39(-1,null,["\n            "])),(n()(),u._39(-1,null,["\n            "])),(n()(),u._12(16777216,null,null,1,null,rt)),u._16(4,16384,null,0,L.k,[u._0,u.X],{ngIf:[0,"ngIf"]},null),(n()(),u._39(-1,null,["\n            "])),(n()(),u._12(16777216,null,null,1,null,ct)),u._16(7,16384,null,0,L.k,[u._0,u.X],{ngIf:[0,"ngIf"]},null),(n()(),u._39(-1,null,["\n          "]))],function(n,e){var l=e.component;n(e,4,0,e.parent.parent.context.index==l.messages.length-1||e.parent.parent.context.index!=l.messages.length-1),n(e,7,0,e.parent.parent.context.index==l.messages.length-1&&e.parent.parent.context.$implicit.message_status==l.MessageStatusEnum.Sending)},null)}function gt(n){return u._41(0,[(n()(),u._18(0,0,null,null,38,"div",[["class","message-container"]],null,null,null,null,null)),u._16(1,278528,null,0,L.i,[u.y,u.z,u.n,u.N],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),u._34(2,{"agent-message":0,"user-message":1,"private-message":2,"edit-message-mode":3,"bot-message":4}),(n()(),u._39(-1,null,["\n          "])),(n()(),u._12(16777216,null,null,1,null,Zl)),u._16(5,16384,null,0,L.k,[u._0,u.X],{ngIf:[0,"ngIf"]},null),(n()(),u._39(-1,null,["\n          "])),(n()(),u._18(7,0,null,null,27,"div",[["class","message-content position-relative"]],[[1,"data-edited",0]],null,null,null,null)),u._16(8,278528,null,0,L.i,[u.y,u.z,u.n,u.N],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),u._34(9,{"min-width-60":0,"conv-end":1,"conv-start":2,"red-border":3,"agent-selection-div":4,"transparent-message-container":5,"message-video-stream":6,"payment-message-container":7,"feedback-content":8,"message-deleted":9,"message-edited":10}),u._33(131072,D.a,[A.a,u.i]),(n()(),u._39(-1,null,["\n              "])),(n()(),u._18(12,0,null,null,4,null,null,null,null,null,null,null)),(n()(),u._39(-1,null,["\n                "])),(n()(),u._12(16777216,null,null,1,null,Jl)),u._16(15,16384,null,0,L.k,[u._0,u.X],{ngIf:[0,"ngIf"]},null),(n()(),u._39(-1,null,["\n              "])),(n()(),u._39(-1,null,["\n              "])),(n()(),u._18(18,0,null,null,7,null,null,null,null,null,null,null)),(n()(),u._39(-1,null,["\n                "])),(n()(),u._12(16777216,null,null,1,null,Kl)),u._16(21,16384,null,0,L.k,[u._0,u.X],{ngIf:[0,"ngIf"]},null),(n()(),u._39(-1,null,["\n                "])),(n()(),u._12(16777216,null,null,1,null,Ql)),u._16(24,16384,null,0,L.k,[u._0,u.X],{ngIf:[0,"ngIf"]},null),(n()(),u._39(-1,null,["\n              "])),(n()(),u._39(-1,null,["\n\n            "])),(n()(),u._18(27,0,null,null,2,"app-message-content",[],null,[[null,"openMediaPlayer"]],function(n,e,l){var t=!0,i=n.component;"openMediaPlayer"===e&&(t=!1!==(i.mediaPlayerObject=l)&&t);return t},Tl,ne)),u._16(28,245760,null,0,Kn,[r.a,A.a,a.a,m.a,Vn.g],{messageItem:[0,"messageItem"]},{openMediaPlayer:"openMediaPlayer"}),(n()(),u._39(-1,null,["\n            "])),(n()(),u._39(-1,null,["\n            "])),(n()(),u._12(16777216,null,null,2,null,nt)),u._16(32,16384,null,0,L.k,[u._0,u.X],{ngIf:[0,"ngIf"]},null),u._32(33,2),(n()(),u._39(-1,null,["\n          "])),(n()(),u._39(-1,null,["\n          "])),(n()(),u._12(16777216,null,null,1,null,_t)),u._16(37,16384,null,0,L.k,[u._0,u.X],{ngIf:[0,"ngIf"]},null),(n()(),u._39(-1,null,["\n        "]))],function(n,e){var l=e.component;n(e,1,0,"message-container",n(e,2,0,e.parent.context.$implicit.user_type==l.UserTypeEnum.Agent||l.chatType==l.ChatTypeEnum.AdminToAdmin&&e.parent.context.$implicit.user_id!=l.commonService.userDetails.user_id||e.parent.context.$implicit.message_type==l.MessageTypeEnum.ATTACHMENT||e.parent.context.$implicit.message_type==l.MessageTypeEnum.NEW_PAYMENT_MESSAGE||e.parent.context.$implicit.message_type==l.MessageTypeEnum.Custom_Action_Message,l.chatType!=l.ChatTypeEnum.AdminToAdmin&&e.parent.context.$implicit.user_type==l.UserTypeEnum.Customer&&e.parent.context.$implicit.message_type!=l.MessageTypeEnum.Custom_Action_Message&&e.parent.context.$implicit.message_type!=l.MessageTypeEnum.ADDRESS&&e.parent.context.$implicit.message_type!=l.MessageTypeEnum.DATE_TIME||l.chatType==l.ChatTypeEnum.AdminToAdmin&&e.parent.context.$implicit.user_id==l.commonService.userDetails.user_id||e.parent.context.$implicit.user_type==l.UserTypeEnum.Bot||e.parent.context.$implicit.message_type==l.MessageTypeEnum.Bot_Text_Message,e.parent.context.$implicit.message_type==l.MessageTypeEnum.Private_Message,l.editMessageMode&&e.parent.context.$implicit.muid==(null==l.editMessageItem?null:l.editMessageItem.muid),e.parent.context.$implicit.message_type==l.MessageTypeEnum.Feedback_Message||e.parent.context.$implicit.message_type==l.MessageTypeEnum.Form_Message)),n(e,5,0,0==e.parent.context.index||l.messages[e.parent.context.index-1].user_id!=e.parent.context.$implicit.user_id&&e.parent.context.$implicit.message_type!=l.MessageTypeEnum.CARDS||l.messages[e.parent.context.index-1].user_id==e.parent.context.$implicit.user_id&&(e.parent.context.$implicit.message_type==l.MessageTypeEnum.DATE_TIME||e.parent.context.$implicit.message_type==l.MessageTypeEnum.ADDRESS||e.parent.context.$implicit.message_type==l.MessageTypeEnum.ATTACHMENT||e.parent.context.$implicit.message_type==l.MessageTypeEnum.NEW_PAYMENT_MESSAGE&&e.parent.context.$implicit.user_type==l.UserTypeEnum.Bot||e.parent.context.$implicit.message_type==l.MessageTypeEnum.Custom_Action_Message));n(e,8,0,"message-content position-relative",n(e,9,1,[e.parent.context.$implicit.message_type==l.MessageTypeEnum.Payment_Message,0!=e.parent.context.index&&l.messages[e.parent.context.index-1].user_id==e.parent.context.$implicit.user_id&&(e.parent.context.index==l.messages.length-1||l.messages[e.parent.context.index+1].user_id!=e.parent.context.$implicit.user_id||l.messages[e.parent.context.index+1].message_type!=e.parent.context.$implicit.message_type)&&l.messages[e.parent.context.index-1].message_type==e.parent.context.$implicit.message_type,(0==e.parent.context.index||l.messages[e.parent.context.index-1].user_id!=e.parent.context.$implicit.user_id||l.messages[e.parent.context.index-1].message_type!=e.parent.context.$implicit.message_type)&&e.parent.context.index!=l.messages.length-1&&l.messages[e.parent.context.index+1].user_id==e.parent.context.$implicit.user_id&&l.messages[e.parent.context.index+1].message_type==e.parent.context.$implicit.message_type,e.parent.context.$implicit.message_status==l.MessageStatusEnum.Sending,e.parent.context.$implicit.message_type==l.MessageTypeEnum.CARDS,e.parent.context.$implicit.message_type==l.MessageTypeEnum.Custom_Action_Message||e.parent.context.$implicit.message_type==l.MessageTypeEnum.ADDRESS||e.parent.context.$implicit.message_type==l.MessageTypeEnum.CARDS||e.parent.context.$implicit.message_type==l.MessageTypeEnum.NEW_PAYMENT_MESSAGE&&e.parent.context.$implicit.user_type==l.UserTypeEnum.Bot||e.parent.context.$implicit.message_type==l.MessageTypeEnum.ATTACHMENT||e.parent.context.$implicit.message_type==l.MessageTypeEnum.DATE_TIME,e.parent.context.$implicit.message_type==l.MessageTypeEnum.VIDEO_STREAM,e.parent.context.$implicit.message_type==l.MessageTypeEnum.NEW_PAYMENT_MESSAGE,e.parent.context.$implicit.message_type==l.MessageTypeEnum.Feedback_Message,e.parent.context.$implicit.message_state==l.MessageStateEnum.DELETED,e.parent.context.$implicit.message_state==l.MessageStateEnum.EDITED])),n(e,15,0,!l.replyDisabled&&!(l.editMessageMode&&e.parent.context.$implicit.muid==(null==l.editMessageItem?null:l.editMessageItem.muid))&&e.parent.context.$implicit.user_id==(null==l.commonService.userDetails?null:l.commonService.userDetails.user_id)&&(e.parent.context.$implicit.message_type==l.MessageTypeEnum.Customer_Agent_Message||e.parent.context.$implicit.message_type==l.MessageTypeEnum.Image_Message||e.parent.context.$implicit.message_type==l.MessageTypeEnum.File_Message)&&e.parent.context.$implicit.message_state!=l.MessageStateEnum.DELETED&&e.parent.context.$implicit.message_status!=l.MessageStatusEnum.Sending&&l.checkAllowModifyMessage(e.parent.context.$implicit)),n(e,21,0,!l.replyDisabled&&!(l.editMessageMode&&e.parent.context.$implicit.muid==(null==l.editMessageItem?null:l.editMessageItem.muid))&&e.parent.context.$implicit.user_id==(null==l.commonService.userDetails?null:l.commonService.userDetails.user_id)&&e.parent.context.$implicit.message_type==l.MessageTypeEnum.Customer_Agent_Message&&e.parent.context.$implicit.message_state!=l.MessageStateEnum.DELETED&&e.parent.context.$implicit.message_status!=l.MessageStatusEnum.Sending&&l.checkAllowModifyMessage(e.parent.context.$implicit)),n(e,24,0,!l.replyDisabled&&!(l.editMessageMode&&e.parent.context.$implicit.muid==(null==l.editMessageItem?null:l.editMessageItem.muid))&&e.parent.context.$implicit.user_id==(null==l.commonService.userDetails?null:l.commonService.userDetails.user_id)&&(e.parent.context.$implicit.message_type==l.MessageTypeEnum.Customer_Agent_Message||e.parent.context.$implicit.message_type==l.MessageTypeEnum.Image_Message||e.parent.context.$implicit.message_type==l.MessageTypeEnum.File_Message)&&e.parent.context.$implicit.message_state!=l.MessageStateEnum.DELETED&&e.parent.context.$implicit.message_status!=l.MessageStatusEnum.Sending&&l.checkAllowModifyMessage(e.parent.context.$implicit)),n(e,28,0,e.parent.context.$implicit),n(e,32,0,n(e,33,0,l.IntegrationTypeEnum.MESSENGER,l.IntegrationTypeEnum.EMAIL).includes(e.parent.context.$implicit.integration_source)),n(e,37,0,e.parent.context.index==l.last_customer_time_index&&e.parent.context.$implicit.user_type==l.UserTypeEnum.Customer||e.parent.context.index==l.last_agent_time_index&&e.parent.context.$implicit.user_type==l.UserTypeEnum.Agent)},function(n,e){var l=e.component;n(e,7,0,e.parent.context.$implicit.message_state==l.MessageStateEnum.EDITED?u._40(e,7,0,u._31(e,10).transform("Chat.edited")):"")})}function mt(n){return u._41(0,[(n()(),u._18(0,0,null,null,5,"div",[["class","proxima-regular message-row"]],[[24,"@fadeSlideInMessages",0]],null,null,null,null)),(n()(),u._39(-1,null,["\n        "])),(n()(),u._39(-1,null,["\n\n        "])),(n()(),u._12(16777216,null,null,1,null,gt)),u._16(4,16384,null,0,L.k,[u._0,u.X],{ngIf:[0,"ngIf"]},null),(n()(),u._39(-1,null,["\n      "]))],function(n,e){var l=e.component;n(e,4,0,e.context.$implicit.message_type==l.MessageTypeEnum.Customer_Agent_Message||e.context.$implicit.message_type==l.MessageTypeEnum.CARDS||e.context.$implicit.message_type==l.MessageTypeEnum.Image_Message||e.context.$implicit.message_type==l.MessageTypeEnum.File_Message||e.context.$implicit.message_type==l.MessageTypeEnum.Form_Message||e.context.$implicit.message_type==l.MessageTypeEnum.Bot_Text_Message||e.context.$implicit.message_type==l.MessageTypeEnum.Payment_Message||e.context.$implicit.message_type==l.MessageTypeEnum.Feedback_Message||e.context.$implicit.message_type==l.MessageTypeEnum.Custom_Action_Message||e.context.$implicit.message_type==l.MessageTypeEnum.MULTISELECTION||e.context.$implicit.message_type==l.MessageTypeEnum.VIDEO_STREAM||e.context.$implicit.message_type==l.MessageTypeEnum.DATE_TIME||e.context.$implicit.message_type==l.MessageTypeEnum.ADDRESS||e.context.$implicit.message_type==l.MessageTypeEnum.NEW_PAYMENT_MESSAGE||e.context.$implicit.message_type==l.MessageTypeEnum.ATTACHMENT||e.context.$implicit.message_type==l.MessageTypeEnum.Video_Call)},function(n,e){n(e,0,0,e.context.$implicit.state?e.context.$implicit.state:"new")})}function pt(n){return u._41(0,[(n()(),u._18(0,0,null,null,2,"p",[["class","mb-0 text-right proxima-regular pr-4 pb-2 file-uploading-text"]],null,null,null,null,null)),(n()(),u._39(1,null,["",""])),u._33(131072,D.a,[A.a,u.i])],null,function(n,e){n(e,1,0,u._40(e,1,0,u._31(e,2).transform("Chat.uploadingFile")))})}function dt(n){return u._41(0,[(n()(),u._18(0,0,null,null,4,"span",[["class","badge-unread"]],null,null,null,null,null)),(n()(),u._39(-1,null,["\n        "])),(n()(),u._18(2,0,null,null,1,"span",[["class","badge-floating-btn"]],null,null,null,null,null)),(n()(),u._39(3,null,["",""])),(n()(),u._39(-1,null,["\n      "]))],null,function(n,e){var l=e.component;n(e,3,0,l.messages.length-l.showFloatingBtnLength)})}function ft(n){return u._41(0,[(n()(),u._18(0,0,null,null,9,"span",[["class","floating-btn d-flex justify-content-center align-items-center"]],[[24,"@scaleInOut",0]],[[null,"click"]],function(n,e,l){var t=!0,i=n.component;"click"===e&&(t=!1!==i.scrollToBottom()&&t);return t},null,null)),(n()(),u._39(-1,null,["\n      "])),(n()(),u._12(16777216,null,null,1,null,dt)),u._16(3,16384,null,0,L.k,[u._0,u.X],{ngIf:[0,"ngIf"]},null),(n()(),u._39(-1,null,["\n      "])),(n()(),u._18(5,0,null,null,3,":svg:svg",[["height","21"],["viewBox","0 0 21 21"],["width","21"],["xmlns","http://www.w3.org/2000/svg"]],null,null,null,null,null)),(n()(),u._39(-1,null,["\n        "])),(n()(),u._18(7,0,null,null,0,":svg:path",[["d","M4.8 6.1l5.7 5.7 5.7-5.7 1.6 1.6-7.3 7.2-7.3-7.2 1.6-1.6z"],["fill","#263238"],["fill-opacity",".33"]],null,null,null,null,null)),(n()(),u._39(-1,null,["\n      "])),(n()(),u._39(-1,null,["\n    "]))],function(n,e){var l=e.component;n(e,3,0,l.messages.length-l.showFloatingBtnLength&&l.showFloatingBtnLength)},function(n,e){n(e,0,0,void 0)})}function ht(n){return u._41(0,[(n()(),u._18(0,0,null,null,6,"div",[["class","chat-loading-dots-div"]],null,null,null,null,null)),(n()(),u._39(-1,null,["\n        "])),(n()(),u._18(2,0,null,null,3,"div",[["class","chat-loading-dots-div-r"]],null,null,null,null,null)),(n()(),u._39(-1,null,["\n          "])),(n()(),u._18(4,0,null,null,0,"div",[["class","chat-loading-dots"]],null,null,null,null,null)),(n()(),u._39(-1,null,["\n        "])),(n()(),u._39(-1,null,["\n      "]))],null,null)}function vt(n){return u._41(0,[(n()(),u._18(0,0,null,null,8,"textarea",[["autofocus",""],["style","min-height:auto;"]],[[8,"id",0],[8,"placeholder",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"keyup"],[null,"ngModelChange"],[null,"keydown"],[null,"focus"],[null,"blur"],[null,"input"],[null,"compositionstart"],[null,"compositionend"]],function(n,e,l){var t=!0,i=n.component;"input"===e&&(t=!1!==u._31(n,2)._handleInput(l.target.value)&&t);"blur"===e&&(t=!1!==u._31(n,2).onTouched()&&t);"compositionstart"===e&&(t=!1!==u._31(n,2)._compositionStart()&&t);"compositionend"===e&&(t=!1!==u._31(n,2)._compositionEnd(l.target.value)&&t);"keyup"===e&&(t=!1!==i.autoGrow(l)&&t);"ngModelChange"===e&&(t=!1!==(i.editMessageValue=l)&&t);"keydown"===e&&(t=!1!==i.onEditTextareaKeydown(l,i.editMessageItem,i.editMessageValue)&&t);"focus"===e&&(t=!1!==i.onTextAreaFocus(l)&&t);"blur"===e&&(t=!1!==i.onTextAreaBlur(l)&&t);return t},null,null)),u._16(1,4276224,null,0,qn,[u.n,u.N],null,null),u._16(2,16384,null,0,Vn.d,[u.O,u.n,[2,Vn.a]],null,null),u._36(1024,null,Vn.p,function(n){return[n]},[Vn.d]),u._16(4,671744,null,0,Vn.u,[[8,null],[8,null],[8,null],[2,Vn.p]],{model:[0,"model"]},{update:"ngModelChange"}),u._36(2048,null,Vn.q,null,[Vn.u]),u._16(6,16384,null,0,Vn.r,[Vn.q],null,null),u._16(7,4276224,null,0,Hn,[u.n,u.N],{autofocus:[0,"autofocus"]},null),u._33(131072,D.a,[A.a,u.i])],function(n,e){var l=e.component;n(e,1,0),n(e,4,0,l.editMessageValue);n(e,7,0,!0)},function(n,e){n(e,0,0,e.component.editContentEditableID,u._21(1,"",u._40(e,0,1,u._31(e,8).transform("Chat.typeYourMessage")),""),u._31(e,6).ngClassUntouched,u._31(e,6).ngClassTouched,u._31(e,6).ngClassPristine,u._31(e,6).ngClassDirty,u._31(e,6).ngClassValid,u._31(e,6).ngClassInvalid,u._31(e,6).ngClassPending)})}function yt(n){return u._41(0,[(n()(),u._18(0,0,null,null,6,"textarea",[["class","txtarea-mobile"]],[[8,"id",0],[8,"placeholder",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"keyup"],[null,"ngModelChange"],[null,"keydown"],[null,"focus"],[null,"blur"],[null,"input"],[null,"compositionstart"],[null,"compositionend"]],function(n,e,l){var t=!0,i=n.component;"input"===e&&(t=!1!==u._31(n,1)._handleInput(l.target.value)&&t);"blur"===e&&(t=!1!==u._31(n,1).onTouched()&&t);"compositionstart"===e&&(t=!1!==u._31(n,1)._compositionStart()&&t);"compositionend"===e&&(t=!1!==u._31(n,1)._compositionEnd(l.target.value)&&t);"keyup"===e&&(t=!1!==i.autoGrow(l)&&t);"ngModelChange"===e&&(t=!1!==(i.editMessageValue=l)&&t);"keydown"===e&&(t=!1!==i.onEditTextareaKeydown(l,i.editMessageItem,i.editMessageValue)&&t);"focus"===e&&(t=!1!==i.onTextAreaFocus(l)&&t);"blur"===e&&(t=!1!==i.onTextAreaBlur(l)&&t);return t},null,null)),u._16(1,16384,null,0,Vn.d,[u.O,u.n,[2,Vn.a]],null,null),u._36(1024,null,Vn.p,function(n){return[n]},[Vn.d]),u._16(3,671744,null,0,Vn.u,[[8,null],[8,null],[8,null],[2,Vn.p]],{model:[0,"model"]},{update:"ngModelChange"}),u._36(2048,null,Vn.q,null,[Vn.u]),u._16(5,16384,null,0,Vn.r,[Vn.q],null,null),u._33(131072,D.a,[A.a,u.i])],function(n,e){n(e,3,0,e.component.editMessageValue)},function(n,e){n(e,0,0,e.component.editContentEditableID,u._21(1,"",u._40(e,0,1,u._31(e,6).transform("Chat.typeYourMessage")),""),u._31(e,5).ngClassUntouched,u._31(e,5).ngClassTouched,u._31(e,5).ngClassPristine,u._31(e,5).ngClassDirty,u._31(e,5).ngClassValid,u._31(e,5).ngClassInvalid,u._31(e,5).ngClassPending)})}function bt(n){return u._41(0,[(n()(),u._18(0,0,null,null,8,"textarea",[["autofocus",""],["id","textarea-send-message"],["style","min-height:auto;"]],[[8,"placeholder",0],[8,"hidden",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"keyup"],[null,"ngModelChange"],[null,"keydown"],[null,"focus"],[null,"blur"],[null,"input"],[null,"compositionstart"],[null,"compositionend"]],function(n,e,l){var t=!0,i=n.component;"input"===e&&(t=!1!==u._31(n,2)._handleInput(l.target.value)&&t);"blur"===e&&(t=!1!==u._31(n,2).onTouched()&&t);"compositionstart"===e&&(t=!1!==u._31(n,2)._compositionStart()&&t);"compositionend"===e&&(t=!1!==u._31(n,2)._compositionEnd(l.target.value)&&t);"keyup"===e&&(t=!1!==i.autoGrow(l)&&t);"ngModelChange"===e&&(t=!1!==(i.messageToSend=l)&&t);"keydown"===e&&(t=!1!==i.onTextarea_keydown(l)&&t);"focus"===e&&(t=!1!==i.onTextAreaFocus(l)&&t);"blur"===e&&(t=!1!==i.onTextAreaBlur(l)&&t);return t},null,null)),u._16(1,4276224,null,0,qn,[u.n,u.N],null,null),u._16(2,16384,null,0,Vn.d,[u.O,u.n,[2,Vn.a]],null,null),u._36(1024,null,Vn.p,function(n){return[n]},[Vn.d]),u._16(4,671744,null,0,Vn.u,[[8,null],[8,null],[8,null],[2,Vn.p]],{model:[0,"model"]},{update:"ngModelChange"}),u._36(2048,null,Vn.q,null,[Vn.u]),u._16(6,16384,null,0,Vn.r,[Vn.q],null,null),u._16(7,4276224,null,0,Hn,[u.n,u.N],{autofocus:[0,"autofocus"]},null),u._33(131072,D.a,[A.a,u.i])],function(n,e){var l=e.component;n(e,1,0),n(e,4,0,l.messageToSend);n(e,7,0,!0)},function(n,e){var l=e.component;n(e,0,0,u._21(1,"",u._40(e,0,0,u._31(e,8).transform("Chat.typeYourMessage")),""),l.editMessageMode,u._31(e,6).ngClassUntouched,u._31(e,6).ngClassTouched,u._31(e,6).ngClassPristine,u._31(e,6).ngClassDirty,u._31(e,6).ngClassValid,u._31(e,6).ngClassInvalid,u._31(e,6).ngClassPending)})}function xt(n){return u._41(0,[(n()(),u._18(0,0,null,null,6,"textarea",[["class","txtarea-mobile"],["id","textarea-send-message"]],[[8,"placeholder",0],[8,"hidden",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"keyup"],[null,"ngModelChange"],[null,"keydown"],[null,"focus"],[null,"blur"],[null,"input"],[null,"compositionstart"],[null,"compositionend"]],function(n,e,l){var t=!0,i=n.component;"input"===e&&(t=!1!==u._31(n,1)._handleInput(l.target.value)&&t);"blur"===e&&(t=!1!==u._31(n,1).onTouched()&&t);"compositionstart"===e&&(t=!1!==u._31(n,1)._compositionStart()&&t);"compositionend"===e&&(t=!1!==u._31(n,1)._compositionEnd(l.target.value)&&t);"keyup"===e&&(t=!1!==i.autoGrow(l)&&t);"ngModelChange"===e&&(t=!1!==(i.messageToSend=l)&&t);"keydown"===e&&(t=!1!==i.onTextarea_keydown(l)&&t);"focus"===e&&(t=!1!==i.onTextAreaFocus(l)&&t);"blur"===e&&(t=!1!==i.onTextAreaBlur(l)&&t);return t},null,null)),u._16(1,16384,null,0,Vn.d,[u.O,u.n,[2,Vn.a]],null,null),u._36(1024,null,Vn.p,function(n){return[n]},[Vn.d]),u._16(3,671744,null,0,Vn.u,[[8,null],[8,null],[8,null],[2,Vn.p]],{model:[0,"model"]},{update:"ngModelChange"}),u._36(2048,null,Vn.q,null,[Vn.u]),u._16(5,16384,null,0,Vn.r,[Vn.q],null,null),u._33(131072,D.a,[A.a,u.i])],function(n,e){n(e,3,0,e.component.messageToSend)},function(n,e){var l=e.component;n(e,0,0,u._21(1,"",u._40(e,0,0,u._31(e,6).transform("Chat.typeYourMessage")),""),l.editMessageMode,u._31(e,5).ngClassUntouched,u._31(e,5).ngClassTouched,u._31(e,5).ngClassPristine,u._31(e,5).ngClassDirty,u._31(e,5).ngClassValid,u._31(e,5).ngClassInvalid,u._31(e,5).ngClassPending)})}function Ct(n){return u._41(0,[(n()(),u._18(0,0,null,null,11,"button",[["id","btn-send"]],null,[[null,"click"],[null,"touch"]],function(n,e,l){var t=!0,i=n.component;"click"===e&&(t=!1!==i.editMessageClick(i.editMessageItem,i.editMessageValue)&&t);"touch"===e&&(t=!1!==i.editMessageClick(i.editMessageItem,i.editMessageValue)&&t);return t},null,null)),(n()(),u._39(-1,null,["\n            "])),(n()(),u._18(2,0,null,null,8,":svg:svg",[["height","24"],["viewBox","0 0 18 18"],["width","24"],["xmlns","http://www.w3.org/2000/svg"]],null,null,null,null,null)),(n()(),u._39(-1,null,["\n              "])),(n()(),u._18(4,0,null,null,5,":svg:g",[["fill","none"],["fill-rule","evenodd"]],null,null,null,null,null)),(n()(),u._39(-1,null,["\n                "])),(n()(),u._18(6,0,null,null,0,":svg:path",[["d","M0 0h18v18H0z"]],null,null,null,null,null)),(n()(),u._39(-1,null,["\n                "])),(n()(),u._18(8,0,null,null,0,":svg:path",[["d","M15 5.25L6.75 13.5 3 9.75"],["stroke","#3BD5B2"],["stroke-linecap","round"],["stroke-linejoin","round"],["stroke-width","1.125"]],null,null,null,null,null)),(n()(),u._39(-1,null,["\n              "])),(n()(),u._39(-1,null,["\n            "])),(n()(),u._39(-1,null,["\n          "]))],null,null)}function kt(n){return u._41(0,[(n()(),u._18(0,0,null,null,20,"button",[["id","btn-send"]],null,[[null,"click"],[null,"touch"]],function(n,e,l){var t=!0,i=n.component;"click"===e&&(t=!1!==i.cancelEditMessage()&&t);"touch"===e&&(t=!1!==i.cancelEditMessage()&&t);return t},null,null)),(n()(),u._39(-1,null,["\n            "])),(n()(),u._18(2,0,null,null,17,":svg:svg",[[":xml:space","preserve"],[":xmlns:xlink","http://www.w3.org/1999/xlink"],["_ngcontent-dql-c106",""],["class","cursor-hand close-icon ng-tns-c106-5"],["fill","var(--color)"],["height","17"],["id","Layer_1"],["style","enable-background: new 0 0 512 512;"],["version","1.1"],["viewBox","0 0 512 512"],["width","17"],["x","0px"],["xmlns","http://www.w3.org/2000/svg"],["y","0px"]],null,null,null,null,null)),(n()(),u._39(-1,null,["\n              "])),(n()(),u._18(4,0,null,null,6,":svg:g",[["_ngcontent-dql-c106",""],["class","ng-tns-c106-5"]],null,null,null,null,null)),(n()(),u._39(-1,null,["\n                "])),(n()(),u._18(6,0,null,null,3,":svg:g",[["_ngcontent-dql-c106",""],["class","ng-tns-c106-5"]],null,null,null,null,null)),(n()(),u._39(-1,null,["\n                  "])),(n()(),u._18(8,0,null,null,0,":svg:path",[["_ngcontent-dql-c106",""],["class","ng-tns-c106-5"],["d","M505.943,6.058c-8.077-8.077-21.172-8.077-29.249,0L6.058,476.693c-8.077,8.077-8.077,21.172,0,29.249\n                                        C10.096,509.982,15.39,512,20.683,512c5.293,0,10.586-2.019,14.625-6.059L505.943,35.306\n                                        C514.019,27.23,514.019,14.135,505.943,6.058z"]],null,null,null,null,null)),(n()(),u._39(-1,null,["\n                "])),(n()(),u._39(-1,null,["\n              "])),(n()(),u._39(-1,null,["\n              "])),(n()(),u._18(12,0,null,null,6,":svg:g",[["_ngcontent-dql-c106",""],["class","ng-tns-c106-5"]],null,null,null,null,null)),(n()(),u._39(-1,null,["\n                "])),(n()(),u._18(14,0,null,null,3,":svg:g",[["_ngcontent-dql-c106",""],["class","ng-tns-c106-5"]],null,null,null,null,null)),(n()(),u._39(-1,null,["\n                  "])),(n()(),u._18(16,0,null,null,0,":svg:path",[["_ngcontent-dql-c106",""],["class","ng-tns-c106-5"],["d","M505.942,476.694L35.306,6.059c-8.076-8.077-21.172-8.077-29.248,0c-8.077,8.076-8.077,21.171,0,29.248l470.636,470.636\n                                        c4.038,4.039,9.332,6.058,14.625,6.058c5.293,0,10.587-2.019,14.624-6.057C514.018,497.866,514.018,484.771,505.942,476.694z"]],null,null,null,null,null)),(n()(),u._39(-1,null,["\n                "])),(n()(),u._39(-1,null,["\n              "])),(n()(),u._39(-1,null,["\n            "])),(n()(),u._39(-1,null,["\n          "]))],null,null)}function Mt(n){return u._41(0,[(n()(),u._18(0,0,null,null,5,"button",[["id","btn-send"]],null,[[null,"click"],[null,"touch"]],function(n,e,l){var t=!0,i=n.component;"click"===e&&(t=!1!==i.onSendClick()&&t);"touch"===e&&(t=!1!==i.onSendClick()&&t);return t},null,null)),u._16(1,278528,null,0,L.i,[u.y,u.z,u.n,u.N],{ngClass:[0,"ngClass"]},null),u._34(2,{"active-component-send":0}),(n()(),u._39(-1,null,["\n            "])),(n()(),u._18(4,0,null,null,0,"img",[["src","assets/img/send.svg"]],null,null,null,null,null)),(n()(),u._39(-1,null,["\n          "]))],function(n,e){n(e,1,0,n(e,2,0,e.component.messageToSend.length>0))},null)}function wt(n){return u._41(0,[(n()(),u._18(0,0,null,null,6,"button",[["id","btn-attachment"]],null,[[null,"click"],[null,"touch"]],function(n,e,l){var t=!0,i=n.component;"click"===e&&(t=!1!==i.onAttchmentClick(u._31(n,5))&&t);"touch"===e&&(t=!1!==i.onAttchmentClick(u._31(n,5))&&t);return t},null,null)),(n()(),u._39(-1,null,["\n            "])),(n()(),u._18(2,0,null,null,0,"img",[["src","assets/img/attach.svg"]],null,null,null,null,null)),(n()(),u._39(-1,null,["\n            "])),(n()(),u._39(-1,null,["\n            "])),(n()(),u._18(5,0,[[2,0],["fileInput",1]],null,0,"input",[["accept","*"],["multiple",""],["type","file"]],null,[[null,"change"]],function(n,e,l){var t=!0,i=n.component;"change"===e&&(t=!1!==i.prepareFilesForUpload(l)&&t);return t},null,null)),(n()(),u._39(-1,null,["\n          "]))],null,null)}function St(n){return u._41(0,[(n()(),u._18(0,0,null,null,22,"div",[["class","plus_dropup d-flex align-items-center"]],null,null,null,null,null)),(n()(),u._39(-1,null,["\n            "])),(n()(),u._18(2,0,null,null,3,"button",[["class","cursor-hand outline-none box-shadow-none"],["id","btn-plus"]],null,[[null,"click"]],function(n,e,l){var t=!0,i=n.component;"click"===e&&(t=!1!=(i.dropup_open=!i.dropup_open)&&t);return t},null,null)),(n()(),u._39(-1,null,["\n              "])),(n()(),u._18(4,0,null,null,0,"img",[["src","assets/img/plus-icon.svg"]],null,null,null,null,null)),(n()(),u._39(-1,null,["\n            "])),(n()(),u._39(-1,null,["\n            "])),(n()(),u._18(7,0,null,null,14,"div",[["class","dropup_content d-flex-normal flex-column"]],null,null,null,null,null)),u._16(8,278528,null,0,L.i,[u.y,u.z,u.n,u.N],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),u._34(9,{"d-none":0}),(n()(),u._39(-1,null,["\n              "])),(n()(),u._18(11,0,null,null,5,"button",[["class","pl-3 p-2\n                           cursor-hand no-btn-style text-left outline-none d-flex align-items-center"]],null,[[null,"click"],[null,"touch"]],function(n,e,l){var t=!0,i=n.component;"click"===e&&(t=!1!==i.onAttchmentClick(u._31(n,15))&&t);"touch"===e&&(t=!1!==i.onAttchmentClick(u._31(n,15))&&t);return t},null,null)),(n()(),u._39(12,null,["\n                ","\n                "])),u._33(131072,D.a,[A.a,u.i]),(n()(),u._39(-1,null,["\n                "])),(n()(),u._18(15,0,[[2,0],["fileInput",1]],null,0,"input",[["accept","*"],["style","display: none"],["type","file"]],null,[[null,"change"]],function(n,e,l){var t=!0,i=n.component;"change"===e&&(t=!1!==i.prepareFilesForUpload(l)&&t);return t},null,null)),(n()(),u._39(-1,null,["\n              "])),(n()(),u._39(-1,null,["\n              "])),(n()(),u._18(18,0,null,null,2,"button",[["class","pl-3 p-2\n                           cursor-hand no-btn-style text-left outline-none d-flex align-items-center"]],null,[[null,"click"]],function(n,e,l){var t=!0,i=n.component;"click"===e&&(i.openPaymentRequestForm(),t=!1!=(i.dropup_open=!1)&&t);return t},null,null)),(n()(),u._39(19,null,["",""])),u._33(131072,D.a,[A.a,u.i]),(n()(),u._39(-1,null,["\n            "])),(n()(),u._39(-1,null,["\n          "]))],function(n,e){n(e,8,0,"dropup_content d-flex-normal flex-column",n(e,9,0,!e.component.dropup_open))},function(n,e){n(e,12,0,u._40(e,12,0,u._31(e,13).transform("Chat.attachment"))),n(e,19,0,u._40(e,19,0,u._31(e,20).transform("Chat.requestPayment")))})}function It(n){return u._41(0,[(n()(),u._18(0,0,null,null,31,null,null,null,null,null,null,null)),(n()(),u._39(-1,null,["\n\n        "])),(n()(),u._12(16777216,null,null,1,null,vt)),u._16(3,16384,null,0,L.k,[u._0,u.X],{ngIf:[0,"ngIf"]},null),(n()(),u._39(-1,null,["\n\n        "])),(n()(),u._12(16777216,null,null,1,null,yt)),u._16(6,16384,null,0,L.k,[u._0,u.X],{ngIf:[0,"ngIf"]},null),(n()(),u._39(-1,null,["\n\n        "])),(n()(),u._12(16777216,null,null,1,null,bt)),u._16(9,16384,null,0,L.k,[u._0,u.X],{ngIf:[0,"ngIf"]},null),(n()(),u._39(-1,null,["\n\n        "])),(n()(),u._12(16777216,null,null,1,null,xt)),u._16(12,16384,null,0,L.k,[u._0,u.X],{ngIf:[0,"ngIf"]},null),(n()(),u._39(-1,null,["\n        "])),(n()(),u._18(14,0,null,null,16,"div",[["class","action-buttons"]],null,null,null,null,null)),(n()(),u._39(-1,null,["\n\n          "])),(n()(),u._12(16777216,null,null,1,null,Ct)),u._16(17,16384,null,0,L.k,[u._0,u.X],{ngIf:[0,"ngIf"]},null),(n()(),u._39(-1,null,["\n          "])),(n()(),u._12(16777216,null,null,1,null,kt)),u._16(20,16384,null,0,L.k,[u._0,u.X],{ngIf:[0,"ngIf"]},null),(n()(),u._39(-1,null,["\n\n          "])),(n()(),u._12(16777216,null,null,1,null,Mt)),u._16(23,16384,null,0,L.k,[u._0,u.X],{ngIf:[0,"ngIf"]},null),(n()(),u._39(-1,null,["\n          "])),(n()(),u._12(16777216,null,null,1,null,wt)),u._16(26,16384,null,0,L.k,[u._0,u.X],{ngIf:[0,"ngIf"]},null),(n()(),u._39(-1,null,["\n          "])),(n()(),u._12(16777216,null,null,1,null,St)),u._16(29,16384,null,0,L.k,[u._0,u.X],{ngIf:[0,"ngIf"]},null),(n()(),u._39(-1,null,["\n        "])),(n()(),u._39(-1,null,["\n      "]))],function(n,e){var l=e.component;n(e,3,0,l.editMessageMode&&!l.touchdevice),n(e,6,0,l.editMessageMode&&l.touchdevice),n(e,9,0,!l.touchdevice),n(e,12,0,l.touchdevice),n(e,17,0,l.editMessageMode&&!l.replyDisabled),n(e,20,0,l.editMessageMode&&!l.replyDisabled),n(e,23,0,!l.editMessageMode),n(e,26,0,!l.editMessageMode&&!(l.fuguWidgetService.fuguWidgetData.is_payment_enabled||l.fuguWidgetService.fuguWidgetData.is_new_payment_enabled)||l.activeChannelId<0),n(e,29,0,!l.editMessageMode&&(l.fuguWidgetService.fuguWidgetData.is_payment_enabled||l.fuguWidgetService.fuguWidgetData.is_new_payment_enabled)&&l.activeChannelId>0)},null)}function Et(n){return u._41(0,[(n()(),u._18(0,0,null,null,5,null,null,null,null,null,null,null)),(n()(),u._39(-1,null,["\n        "])),(n()(),u._18(2,0,null,null,2,"span",[["class","text-center w-100 no-reply"]],null,null,null,null,null)),(n()(),u._39(3,null,["",""])),u._33(131072,D.a,[A.a,u.i]),(n()(),u._39(-1,null,["\n      "]))],null,function(n,e){n(e,3,0,u._40(e,3,0,u._31(e,4).transform("Chat.cantReplyToThisConv")))})}function Tt(n){return u._41(0,[(n()(),u._18(0,0,null,null,1,"button",[["class","btn message-btn"]],null,[[null,"click"]],function(n,e,l){var t=!0,i=n.component;"click"===e&&(t=!1!==i.selectFormType(n.context.$implicit.action_id,n.context.$implicit.button_title)&&t);return t},null,null)),(n()(),u._39(1,null,["",""]))],null,function(n,e){n(e,1,0,e.context.$implicit.button_title)})}function Ot(n){return u._41(0,[(n()(),u._18(0,0,null,null,4,"div",[["class","buttons-container"]],null,null,null,null,null)),(n()(),u._39(-1,null,["\n        "])),(n()(),u._12(16777216,null,null,1,null,Tt)),u._16(3,802816,null,0,L.j,[u._0,u.X,u.y],{ngForOf:[0,"ngForOf"]},null),(n()(),u._39(-1,null,["\n      "]))],function(n,e){n(e,3,0,e.component.buttonFields.content_value)},null)}function Pt(n){return u._41(0,[(n()(),u._18(0,0,null,null,1,"app-media-player",[],null,[[null,"closePlayer"],["window","keyup"]],function(n,e,l){var t=!0,i=n.component;"window:keyup"===e&&(t=!1!==u._31(n,1).keyEvent(l)&&t);"closePlayer"===e&&(t=!1!=(i.mediaPlayerObject.is_open=!1)&&t);return t},Wl,Al)),u._16(1,245760,null,0,Pl,[r.a,A.a],{messageData:[0,"messageData"]},{closePlayer:"closePlayer"})],function(n,e){n(e,1,0,e.component.mediaPlayerObject.message_data)},null)}function Dt(n){return u._41(0,[(n()(),u._18(0,0,null,null,2,"div",[["class","btn-custom-nostyle outline-none box-shadow-none w-100 p-2 pl-3 pr-3 cursor-hand chat-menu-option"]],null,[[null,"click"]],function(n,e,l){var t=!0,i=n.component;"click"===e&&(i.action(i.menuOpenIndex+"-edit"),i.menuOpenIndex=null,t=!1!=(i.hideEditAction=!1)&&t);return t},null,null)),(n()(),u._39(1,null,["\n          ","\n        "])),u._33(131072,D.a,[A.a,u.i])],null,function(n,e){n(e,1,0,u._40(e,1,0,u._31(e,2).transform("Chat.edit")))})}function At(n){return u._41(0,[u._33(0,L.d,[u.A]),u._37(402653184,1,{scrollDiv:0}),u._37(671088640,2,{fileInput:0}),(n()(),u._18(3,0,null,null,91,"div",[["class","fuguCss fugu-messenger"],["id","fugu-messenger"]],null,null,null,null,null)),(n()(),u._39(-1,null,["\n  "])),(n()(),u._18(5,0,null,null,33,"div",[["class","proxima-regular"],["id","fugu-messenger-header-div"]],null,null,null,null,null)),u._16(6,278528,null,0,L.i,[u.y,u.z,u.n,u.N],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),u._34(7,{"spacing-left":0}),(n()(),u._39(-1,null,["\n    "])),(n()(),u._18(9,0,null,null,17,"div",[["class","header-content h-new"]],null,null,null,null,null)),(n()(),u._39(-1,null,["\n      "])),(n()(),u._12(16777216,null,null,1,null,Fl)),u._16(12,16384,null,0,L.k,[u._0,u.X],{ngIf:[0,"ngIf"]},null),(n()(),u._39(-1,null,["\n      "])),(n()(),u._39(-1,null,["\n      "])),(n()(),u._18(15,0,null,null,10,"div",[["class","label-header flex-grow d-flex flex-column justify-content-center"],["style","max-width: 100%;"]],null,null,null,null,null)),(n()(),u._39(-1,null,["\n        "])),(n()(),u._18(17,0,null,null,1,"span",[["style","white-space: nowrap; text-overflow: ellipsis; overflow: hidden;"]],null,null,null,null,null)),(n()(),u._39(18,null,["",""])),(n()(),u._39(-1,null,["\n        "])),(n()(),u._12(16777216,null,null,1,null,zl)),u._16(21,16384,null,0,L.k,[u._0,u.X],{ngIf:[0,"ngIf"]},null),(n()(),u._39(-1,null,["\n        "])),(n()(),u._12(16777216,null,null,1,null,Xl)),u._16(24,16384,null,0,L.k,[u._0,u.X],{ngIf:[0,"ngIf"]},null),(n()(),u._39(-1,null,["\n      "])),(n()(),u._39(-1,null,["\n    "])),(n()(),u._39(-1,null,["\n    "])),(n()(),u._18(28,0,null,null,7,"div",[["class","d-flex align-items-center"]],null,null,null,null,null)),(n()(),u._39(-1,null,["\n      "])),(n()(),u._12(16777216,null,null,1,null,ql)),u._16(31,16384,null,0,L.k,[u._0,u.X],{ngIf:[0,"ngIf"]},null),(n()(),u._39(-1,null,["\n      "])),(n()(),u._12(16777216,null,null,1,null,Hl)),u._16(34,16384,null,0,L.k,[u._0,u.X],{ngIf:[0,"ngIf"]},null),(n()(),u._39(-1,null,["\n    "])),(n()(),u._39(-1,null,["\n    "])),(n()(),u._18(37,0,null,null,0,"div",[["class","cancel-btn-header2"]],null,[[null,"click"]],function(n,e,l){var t=!0,i=n.component;"click"===e&&(t=!1!==i.oncrossClick()&&t);return t},null,null)),(n()(),u._39(-1,null,["\n  "])),(n()(),u._39(-1,null,["\n  "])),(n()(),u._18(40,0,null,null,37,"div",[["class","fuguCss fugu-messenger-main-div messages-container"],["id","fugu-messenger-main-div"]],null,null,null,null,null)),(n()(),u._39(-1,null,["\n    "])),(n()(),u._12(16777216,null,null,1,null,Bl)),u._16(43,16384,null,0,L.k,[u._0,u.X],{ngIf:[0,"ngIf"]},null),(n()(),u._39(-1,null,["\n    "])),(n()(),u._18(45,0,[[1,0],["scroll",1]],null,10,"div",[["id","messageScrollDiv"]],null,[[null,"wheel"],[null,"touchmove"],[null,"scroll"]],function(n,e,l){var t=!0,i=n.component;"wheel"===e&&(t=!1!==i.disableScroll(l,u._31(n,45))&&t);"touchmove"===e&&(t=!1!==i.onTouchMove(l,u._31(n,45))&&t);"scroll"===e&&(t=!1!==i.onMessagesScroll()&&t);return t},null,null)),u._16(46,278528,null,0,L.i,[u.y,u.z,u.n,u.N],{ngClass:[0,"ngClass"]},null),u._34(47,{"pad-bot":0}),(n()(),u._39(-1,null,["\n      "])),(n()(),u._12(16777216,null,null,1,null,mt)),u._16(50,802816,null,0,L.j,[u._0,u.X,u.y],{ngForOf:[0,"ngForOf"]},null),(n()(),u._39(-1,null,["\n      "])),(n()(),u._39(-1,null,["\n      "])),(n()(),u._12(16777216,null,null,1,null,pt)),u._16(54,16384,null,0,L.k,[u._0,u.X],{ngIf:[0,"ngIf"]},null),(n()(),u._39(-1,null,["\n    "])),(n()(),u._39(-1,null,["\n    "])),(n()(),u._39(-1,null,["\n    "])),(n()(),u._12(16777216,null,null,1,null,ft)),u._16(59,16384,null,0,L.k,[u._0,u.X],{ngIf:[0,"ngIf"]},null),(n()(),u._39(-1,null,["\n    "])),(n()(),u._18(61,0,null,null,15,"div",[["class","proxima-regular"],["id","actionsContainer"]],[[24,"@fadeSlideIn",0]],null,null,null,null)),u._16(62,278528,null,0,L.i,[u.y,u.z,u.n,u.N],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),u._34(63,{"white-bg":0}),(n()(),u._39(-1,null,["\n\n      "])),(n()(),u._12(16777216,null,null,1,null,ht)),u._16(66,16384,null,0,L.k,[u._0,u.X],{ngIf:[0,"ngIf"]},null),(n()(),u._39(-1,null,["\n      "])),(n()(),u._12(16777216,null,null,1,null,It)),u._16(69,16384,null,0,L.k,[u._0,u.X],{ngIf:[0,"ngIf"]},null),(n()(),u._39(-1,null,["\n      "])),(n()(),u._12(16777216,null,null,1,null,Et)),u._16(72,16384,null,0,L.k,[u._0,u.X],{ngIf:[0,"ngIf"]},null),(n()(),u._39(-1,null,["\n      "])),(n()(),u._12(16777216,null,null,1,null,Ot)),u._16(75,16384,null,0,L.k,[u._0,u.X],{ngIf:[0,"ngIf"]},null),(n()(),u._39(-1,null,["\n    "])),(n()(),u._39(-1,null,["\n  "])),(n()(),u._39(-1,null,["\n  "])),(n()(),u._12(16777216,null,null,1,null,Pt)),u._16(80,16384,null,0,L.k,[u._0,u.X],{ngIf:[0,"ngIf"]},null),(n()(),u._39(-1,null,["\n\n    "])),(n()(),u._18(82,0,null,null,11,"div",[["class","position-fixed message-options-mask w-100 h-100"],["style","position: fixed;"]],[[8,"hidden",0]],[[null,"click"]],function(n,e,l){var t=!0,i=n.component;"click"===e&&(i.menuOpenIndex=null,t=!1!=(i.hideEditAction=!1)&&t);return t},null,null)),(n()(),u._39(-1,null,["\n      "])),(n()(),u._18(84,0,[["messageBar",1]],null,8,"div",[["class","message-options-menu position-absolute"],["id","message-menu"]],null,null,null,null,null)),(n()(),u._39(-1,null,["\n        "])),(n()(),u._12(16777216,null,null,1,null,Dt)),u._16(87,16384,null,0,L.k,[u._0,u.X],{ngIf:[0,"ngIf"]},null),(n()(),u._39(-1,null,["\n        "])),(n()(),u._18(89,0,null,null,2,"div",[["class","btn-custom-nostyle outline-none box-shadow-none w-100 p-2 pl-3 pr-3 cursor-hand chat-menu-option"]],null,[[null,"click"]],function(n,e,l){var t=!0,i=n.component;"click"===e&&(i.action(i.menuOpenIndex+"-delete"),i.menuOpenIndex=null,t=!1!=(i.hideEditAction=!1)&&t);return t},null,null)),(n()(),u._39(90,null,["\n          ","\n        "])),u._33(131072,D.a,[A.a,u.i]),(n()(),u._39(-1,null,["\n      "])),(n()(),u._39(-1,null,["\n    "])),(n()(),u._39(-1,null,["\n"]))],function(n,e){var l=e.component;n(e,6,0,"proxima-regular",n(e,7,0,l.hideBackBtn&&0==l.messages.length)),n(e,12,0,l.commonService.showBackButton),n(e,21,0,l.isAgentTyping),n(e,24,0,l.isUserTyping),n(e,31,0,l.activeChannelId>0&&!l.replyDisabled&&((null==l.commonService?null:null==l.commonService.channelData?null:l.commonService.channelData.agent_id)==(null==l.commonService?null:null==l.commonService.userDetails?null:l.commonService.userDetails.user_id)||l.chatType==l.ChatTypeEnum.AdminToAdmin)&&l.chatType!=l.ChatTypeEnum.p2p),n(e,34,0,!(null!=l.fuguWidgetService&&(null!=l.fuguWidgetService.fuguWidgetData&&l.fuguWidgetService.fuguWidgetData.hide_dashboard_link))),n(e,43,0,l.showLoader),n(e,46,0,n(e,47,0,l.buttonFields.id)),n(e,50,0,l.messages),n(e,54,0,l.file_uploading_text),n(e,59,0,l.showFloatingBtn&&l.messages.length);n(e,62,0,"proxima-regular",n(e,63,0,l.commonService.iPadState)),n(e,66,0,l.showChatLoading&&!l.showLoader),n(e,69,0,!l.replyDisabled),n(e,72,0,l.replyDisabled),n(e,75,0,l.buttonFields),n(e,80,0,l.mediaPlayerObject.is_open),n(e,87,0,!l.hideEditAction)},function(n,e){var l=e.component;n(e,18,0,l.labelHeader),n(e,61,0,l.alive),n(e,82,0,!l.menuOpenIndex&&0!=l.menuOpenIndex),n(e,90,0,u._40(e,90,0,u._31(e,91).transform("Chat.delete")))})}var Lt=u._13("app-chat",T,function(n){return u._41(0,[(n()(),u._18(0,0,null,null,1,"app-chat",[],null,[["document","touchstart"]],function(n,e,l){var t=!0;return"document:touchstart"===e&&(t=!1!==u._31(n,1).onTouchStart(l)&&t),t},At,Rl)),u._16(1,245760,null,0,T,[_.k,_.a,A.a,r.a,m.a,a.a,u.G,x.a,C.a,u.i],null,null)],function(n,e){n(e,1,0)},null)},{},{},[]),$t=[[".conversations-container[_ngcontent-%COMP%]{border:1px solid #ddd;overflow:auto;border-radius:0 0 6px 6px}.conversation-header[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0;text-overflow:ellipsis;word-wrap:break-word;word-break:break-all;max-height:17px;overflow:hidden;font-weight:500}.conversation-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:14px;word-break:break-word;max-height:29px;overflow:hidden;text-overflow:ellipsis;max-width:80%}.conversation-header[_ngcontent-%COMP%]   p.sub-title[_ngcontent-%COMP%]{margin:0;font-size:14px;word-break:break-word;max-height:29px;overflow:hidden;text-overflow:clip;max-width:100%;white-space:nowrap}#fugu-messenger-header-div[_ngcontent-%COMP%]{height:50px;background-color:var(--color);-webkit-box-shadow:0 1px 4px rgba(0,0,0,.4);box-shadow:0 1px 4px rgba(0,0,0,.4);z-index:9;display:-webkit-box;display:-ms-flexbox;display:flex;padding:30px 10px 30px 30px;-webkit-box-align:center;-ms-flex-align:center;align-items:center;font-family:Proxima-Regular;color:#fff;position:relative;border-top-left-radius:inherit!important;border-top-right-radius:inherit!important}.max-header-content[_ngcontent-%COMP%]{max-width:calc(100% - 100px)!important}.channel-image[_ngcontent-%COMP%]{width:42px;height:42px;background-color:#ddd;border:2px solid #ddd;border-radius:100%;display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;margin-right:20px;text-transform:uppercase}img.channel-image[_ngcontent-%COMP%]{vertical-align:middle}@-webkit-keyframes new-conversation-fade-in{0%{opacity:0;-webkit-transform:translateY(30px);transform:translateY(30px)}100%{opacity:1;-webkit-transform:translateY(-30px);transform:translateY(-30px)}}@keyframes new-conversation-fade-in{0%{opacity:0;-webkit-transform:translateY(30px);transform:translateY(30px)}100%{opacity:1;-webkit-transform:translateY(-30px);transform:translateY(-30px)}}#loader-div[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;overflow:hidden}.contentWrapper[_ngcontent-%COMP%]{font-family:inherit;max-height:calc(100vh - 70px);overflow-y:auto;overflow-x:hidden;padding:5px;border:1px solid #ddd;border-top-left-radius:0;border-top-right-radius:0;border-top:0;min-height:calc(100vh - 70px);font-size:14px;line-height:1.4em;word-break:break-word}.contentWrapper[_ngcontent-%COMP%]   .inner[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:start;-ms-flex-align:start;align-items:flex-start;margin:0 0 10px;border-radius:8px;border:1px solid #f2f2f2;background-color:#fff;min-height:100px;padding:20px;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-transition:.25s;transition:.25s}.contentWrapper[_ngcontent-%COMP%]   .inner[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-weight:600;color:#2f2f2f;display:-webkit-box;display:-ms-flexbox;display:flex;width:100%}.contentWrapper[_ngcontent-%COMP%]   .inner[_ngcontent-%COMP%]   .sublabel[_ngcontent-%COMP%]{opacity:.8;color:#2f2f2f}.contentWrapper[_ngcontent-%COMP%]   .inner[_ngcontent-%COMP%]   .dateLabel[_ngcontent-%COMP%]{font-size:12px;opacity:.6}.contentWrapper[_ngcontent-%COMP%]   .inner[_ngcontent-%COMP%]   .image[_ngcontent-%COMP%]{max-width:100%;max-height:200px}.m-t-10[_ngcontent-%COMP%]{margin-top:10px}.back-icon[_ngcontent-%COMP%]{cursor:pointer;height:15px;width:15px}.message-desc[_ngcontent-%COMP%]{margin-top:2px;display:block;display:-webkit-box;-webkit-line-clamp:3;-webkit-box-orient:vertical;overflow:hidden;opacity:.6;word-break:break-word}.hide-read-more[_ngcontent-%COMP%]{display:block;overflow:unset}.hidden[_ngcontent-%COMP%]{display:none}.read-more[_ngcontent-%COMP%]{font-size:small;color:#508dff;display:block}.read-more-link[_ngcontent-%COMP%]{cursor:pointer;display:inline-block}.noAnnouncementText[_ngcontent-%COMP%]{margin-left:20%;font-size:16px}.loader[_ngcontent-%COMP%]{position:absolute;height:100px;width:100px;top:50%}"]],jt=u._15({encapsulation:0,styles:$t,data:{}});function Wt(n){return u._41(0,[(n()(),u._18(0,0,null,null,1,"span",[["class","cursor-hand"],["style","margin-right: 10px;"]],null,[[null,"click"]],function(n,e,l){var t=!0,i=n.component;"click"===e&&(t=!1!=(i.showDeleteConfirmation=!0)&&t);return t},null,null)),(n()(),u._39(-1,null,["Clear All"]))],null,null)}function Nt(n){return u._41(0,[(n()(),u._18(0,0,null,null,3,"div",[["id","loader-div"]],null,null,null,null,null)),(n()(),u._39(-1,null,["\n        "])),(n()(),u._18(2,0,null,null,0,"img",[["id","loader-img"],["src","assets/img/ring.gif"]],null,null,null,null,null)),(n()(),u._39(-1,null,["\n      "]))],null,null)}function Rt(n){return u._41(0,[(n()(),u._18(0,0,null,null,21,"div",[["class","col-sm-12"],["style","margin-top: 50%;"]],null,null,null,null,null)),(n()(),u._39(-1,null,["\n            "])),(n()(),u._18(2,0,null,null,15,"div",[["class","noAnnouncementImage"],["style","margin-left: 30%;"]],null,null,null,null,null)),(n()(),u._39(-1,null,["\n                "])),(n()(),u._18(4,0,null,null,12,":svg:svg",[[":xml:space","preserve"],[":xmlns:xlink","http://www.w3.org/1999/xlink"],["class",""],["height","100px"],["id","Capa_1"],["style","enable-background:new 0 0 60 60;"],["version","1.1"],["viewBox","0 0 60 60"],["width","100px"],["x","0px"],["xmlns","http://www.w3.org/2000/svg"],["y","0px"]],null,null,null,null,null)),(n()(),u._18(5,0,null,null,10,":svg:g",[],null,null,null,null,null)),(n()(),u._18(6,0,null,null,9,":svg:g",[],null,null,null,null,null)),(n()(),u._39(-1,null,["\n                    "])),(n()(),u._18(8,0,null,null,0,":svg:path",[["class","active-path"],["d","M10,25.465h13c0.553,0,1-0.448,1-1s-0.447-1-1-1H10c-0.553,0-1,0.448-1,1S9.447,25.465,10,25.465z"],["data-old_color","#000000"],["data-original","#000000"],["fill","#B5D2E1"]],null,null,null,null,null)),(n()(),u._39(-1,null,["\n                    "])),(n()(),u._18(10,0,null,null,0,":svg:path",[["class","active-path"],["d","M36,29.465H10c-0.553,0-1,0.448-1,1s0.447,1,1,1h26c0.553,0,1-0.448,1-1S36.553,29.465,36,29.465z"],["data-old_color","#000000"],["data-original","#000000"],["fill","#B5D2E1"]],null,null,null,null,null)),(n()(),u._39(-1,null,["\n                    "])),(n()(),u._18(12,0,null,null,0,":svg:path",[["class","active-path"],["d","M36,35.465H10c-0.553,0-1,0.448-1,1s0.447,1,1,1h26c0.553,0,1-0.448,1-1S36.553,35.465,36,35.465z"],["data-old_color","#000000"],["data-original","#000000"],["fill","#B5D2E1"]],null,null,null,null,null)),(n()(),u._39(-1,null,["\n                    "])),(n()(),u._18(14,0,null,null,0,":svg:path",[["class","active-path"],["d","M54.072,2.535L19.93,2.465c-3.27,0-5.93,2.66-5.93,5.93v5.124l-8.07,0.017c-3.27,0-5.93,2.66-5.93,5.93v21.141   c0,3.27,2.66,5.929,5.93,5.929H12v10c0,0.413,0.254,0.784,0.64,0.933c0.117,0.045,0.239,0.067,0.36,0.067   c0.276,0,0.547-0.115,0.74-0.327l9.704-10.675l16.626-0.068c3.27,0,5.93-2.66,5.93-5.929v-0.113l5.26,5.786   c0.193,0.212,0.464,0.327,0.74,0.327c0.121,0,0.243-0.022,0.36-0.067c0.386-0.149,0.64-0.52,0.64-0.933v-10h1.07   c3.27,0,5.93-2.66,5.93-5.929V8.465C60,5.196,57.341,2.536,54.072,2.535z M44,40.536c0,2.167-1.763,3.929-3.934,3.929l-17.07,0.07   c-0.28,0.001-0.548,0.12-0.736,0.327L14,53.949v-8.414c0-0.552-0.447-1-1-1H5.93c-2.167,0-3.93-1.763-3.93-3.929V19.465   c0-2.167,1.763-3.93,3.932-3.93l9.068-0.019c0,0,0,0,0,0c0.001,0,0.001,0,0.002,0l25.068-0.052c2.167,0,3.93,1.763,3.93,3.93   v18.441V40.536z M58,29.606c0,2.167-1.763,3.929-3.93,3.929H52c-0.553,0-1,0.448-1,1v8.414l-5-5.5V19.395   c0-3.27-2.66-5.93-5.932-5.93L16,13.514v-5.12c0-2.167,1.763-3.93,3.928-3.93l34.141,0.07c0.001,0,0.001,0,0.002,0   c2.167,0,3.93,1.763,3.93,3.93V29.606z"],["data-old_color","#000000"],["data-original","#000000"],["fill","#B5D2E1"]],null,null,null,null,null)),(n()(),u._39(-1,null,["\n                "])),(n()(),u._39(-1,null,[" "])),(n()(),u._39(-1,null,["\n            "])),(n()(),u._39(-1,null,["\n            "])),(n()(),u._18(19,0,null,null,1,"div",[["class","noAnnouncementText"]],null,null,null,null,null)),(n()(),u._39(-1,null,[" No\n                Announcements Found !!"])),(n()(),u._39(-1,null,["\n        "]))],null,null)}function Ft(n){return u._41(0,[(n()(),u._18(0,0,null,null,1,"span",[["class","read-more-link"]],null,[[null,"click"]],function(n,e,l){var t=!0;"click"===e&&(t=!1!=(n.parent.context.$implicit.hideReadMore=!0)&&t);return t},null,null)),(n()(),u._39(-1,null,["Read More"]))],null,null)}function zt(n){return u._41(0,[(n()(),u._18(0,0,null,null,1,"span",[["class","read-more-link"]],null,[[null,"click"]],function(n,e,l){var t=!0;"click"===e&&(t=!1!=(n.parent.context.$implicit.hideReadMore=!1)&&t);return t},null,null)),(n()(),u._39(-1,null,["Read Less"]))],null,null)}function Xt(n){return u._41(0,[(n()(),u._18(0,0,null,null,3,"div",[["class","col-sm-10 m-t-10"]],null,null,null,null,null)),(n()(),u._39(-1,null,["\n                "])),(n()(),u._18(2,0,null,null,0,"img",[["class","image cursor-hand"]],[[8,"src",4]],[[null,"click"]],function(n,e,l){var t=!0,i=n.component;"click"===e&&(t=!1!==i.openImage(null==n.parent.context.$implicit.custom_attributes?null:null==n.parent.context.$implicit.custom_attributes.image?null:n.parent.context.$implicit.custom_attributes.image.image_url)&&t);return t},null,null)),(n()(),u._39(-1,null,["\n            "]))],null,function(n,e){n(e,2,0,null==e.parent.context.$implicit.custom_attributes?null:null==e.parent.context.$implicit.custom_attributes.image?null:e.parent.context.$implicit.custom_attributes.image.image_url)})}function Ut(n){return u._41(0,[(n()(),u._18(0,0,null,null,32,"div",[["class","col-sm-12 row inner"]],null,null,null,null,null)),(n()(),u._39(-1,null,["\n            "])),(n()(),u._18(2,0,null,null,7,"div",[["class","col-sm-12 label"]],null,null,null,null,null)),(n()(),u._39(-1,null,["\n                "])),(n()(),u._18(4,0,null,null,1,"p",[["style","flex: 80"]],null,null,null,null,null)),(n()(),u._39(5,null,["",""])),(n()(),u._39(-1,null,["\n                "])),(n()(),u._18(7,0,null,null,1,"p",[],null,[[null,"click"]],function(n,e,l){var t=!0,i=n.component;"click"===e&&(t=!1!==i.deleteAnnouncement(n.context.$implicit,0)&&t);return t},null,null)),(n()(),u._18(8,0,null,null,0,"img",[["class","back-icon"],["src","assets/img/bin.svg"]],null,null,null,null,null)),(n()(),u._39(-1,null,["\n            "])),(n()(),u._39(-1,null,["\n            "])),(n()(),u._18(11,0,[["msg1",1]],null,4,"div",[["class","col-sm-10 sublabel message-desc pt-1"]],[[8,"innerHTML",1]],null,null,null,null)),u._16(12,278528,null,0,L.i,[u.y,u.z,u.n,u.N],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),u._34(13,{"hide-read-more":0}),u._35(14,1),u._35(15,1),(n()(),u._39(-1,null,["\n            "])),(n()(),u._18(17,0,null,null,7,"span",[["class","read-more"]],null,null,null,null,null)),(n()(),u._39(-1,null,["\n                "])),(n()(),u._12(16777216,null,null,1,null,Ft)),u._16(20,16384,null,0,L.k,[u._0,u.X],{ngIf:[0,"ngIf"]},null),(n()(),u._39(-1,null,["\n                "])),(n()(),u._12(16777216,null,null,1,null,zt)),u._16(23,16384,null,0,L.k,[u._0,u.X],{ngIf:[0,"ngIf"]},null),(n()(),u._39(-1,null,["\n            "])),(n()(),u._39(-1,null,["\n            "])),(n()(),u._18(26,0,null,null,2,"div",[["class","col-sm-10 m-t-10 dateLabel"]],null,null,null,null,null)),(n()(),u._39(27,null,["",""])),u._35(28,2),(n()(),u._39(-1,null,["\n            "])),(n()(),u._12(16777216,null,null,1,null,Xt)),u._16(31,16384,null,0,L.k,[u._0,u.X],{ngIf:[0,"ngIf"]},null),(n()(),u._39(-1,null,["\n        "]))],function(n,e){n(e,12,0,"col-sm-10 sublabel message-desc pt-1",n(e,13,0,null==e.context.$implicit?null:e.context.$implicit.hideReadMore)),n(e,20,0,!(null!=e.context.$implicit&&e.context.$implicit.hideReadMore)&&(null==u._31(e,11)?null:u._31(e,11).scrollHeight)>(null==u._31(e,11)?null:u._31(e,11).offsetHeight)),n(e,23,0,(null==e.context.$implicit?null:e.context.$implicit.hideReadMore)&&(null==u._31(e,11)?null:u._31(e,11).scrollHeight)>=(null==u._31(e,11)?null:u._31(e,11).offsetHeight)),n(e,31,0,null==e.context.$implicit.custom_attributes?null:null==e.context.$implicit.custom_attributes.image?null:e.context.$implicit.custom_attributes.image.image_url)},function(n,e){n(e,5,0,e.context.$implicit.title),n(e,11,0,u._40(e,11,0,n(e,15,0,u._31(e.parent,0),u._40(e,11,0,n(e,14,0,u._31(e.parent,1),e.context.$implicit.description))))),n(e,27,0,u._40(e,27,0,n(e,28,0,u._31(e.parent,2),e.context.$implicit.created_at,"medium")))})}function Vt(n){return u._41(0,[(n()(),u._18(0,0,null,null,16,"div",[["style","position: fixed; z-index: 9998; top: 0px; left: 0px; height: 100%; width: 100%; display: flex; align-items: center; justify-content: center; background: rgba(0, 0, 0, 0.3); transition: all 0.25s ease 0s;"]],null,null,null,null,null)),(n()(),u._39(-1,null,["\n  "])),(n()(),u._18(2,0,null,null,13,"div",[["style","padding: 20px; background-color: rgb(255, 255, 255); border-radius: 4px; width: 360px; max-width: 98%;"]],null,null,null,null,null)),(n()(),u._39(-1,null,["\n    "])),(n()(),u._18(4,0,null,null,1,"div",[],null,null,null,null,null)),(n()(),u._39(-1,null,["Are you sure you want to clear announcements ?"])),(n()(),u._39(-1,null,["\n    "])),(n()(),u._18(7,0,null,null,7,"div",[["style","margin-top: 10px; display: flex; align-items: center; justify-content: flex-end;"]],null,null,null,null,null)),(n()(),u._18(8,0,null,null,2,"button",[["class","btn"],["style","margin-right: 5px; min-width: 75px;"],["value","Yes"]],null,[[null,"click"]],function(n,e,l){var t=!0,i=n.component;"click"===e&&(t=!1!==i.deleteAllAnnouncements()&&t);return t},null,null)),(n()(),u._39(9,null,["",""])),u._33(131072,D.a,[A.a,u.i]),(n()(),u._18(11,0,null,null,2,"button",[["class","btn btn-default"],["style","min-width: 75px;"],["value","No"]],null,[[null,"click"]],function(n,e,l){var t=!0,i=n.component;"click"===e&&(t=!1!=(i.showDeleteConfirmation=!1)&&t);return t},null,null)),(n()(),u._39(12,null,["",""])),u._33(131072,D.a,[A.a,u.i]),(n()(),u._39(-1,null,["\n    "])),(n()(),u._39(-1,null,["\n  "])),(n()(),u._39(-1,null,["\n"]))],null,function(n,e){n(e,9,0,u._40(e,9,0,u._31(e,10).transform("layout.yes"))),n(e,12,0,u._40(e,12,0,u._31(e,13).transform("layout.no")))})}function qt(n){return u._41(0,[u._33(0,Y,[]),u._33(0,J,[]),u._33(0,L.d,[u.A]),(n()(),u._18(3,0,null,null,46,"div",[["class","fuguCss fugu-messenger"],["id","fugu-messenger"]],null,null,null,null,null)),(n()(),u._39(-1,null,["\n  "])),(n()(),u._18(5,0,null,null,23,"div",[["class","proxima-regular"],["id","fugu-messenger-header-div"]],null,null,null,null,null)),(n()(),u._39(-1,null,["\n    "])),(n()(),u._18(7,0,null,null,15,"div",[["class","header-content"]],null,null,null,null,null)),u._16(8,278528,null,0,L.i,[u.y,u.z,u.n,u.N],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),u._34(9,{"max-header-content":0}),(n()(),u._39(-1,null,["\n      "])),(n()(),u._18(11,0,null,null,1,"span",[["class","span-channel-image"]],null,null,null,null,null)),(n()(),u._39(-1,null,["\n      "])),(n()(),u._39(-1,null,["\n      "])),(n()(),u._18(14,0,null,null,7,"div",[],null,null,null,null,null)),(n()(),u._39(-1,null,["\n        "])),(n()(),u._18(16,0,null,null,4,"span",[["class","conversation-header"]],null,null,null,null,null)),(n()(),u._39(-1,null,["\n          "])),(n()(),u._18(18,0,null,null,1,"h4",[["class","capitalize"]],null,null,null,null,null)),(n()(),u._39(-1,null,["Annoncement List"])),(n()(),u._39(-1,null,["\n        "])),(n()(),u._39(-1,null,["\n      "])),(n()(),u._39(-1,null,["\n    "])),(n()(),u._39(-1,null,["\n    "])),(n()(),u._12(16777216,null,null,1,null,Wt)),u._16(25,16384,null,0,L.k,[u._0,u.X],{ngIf:[0,"ngIf"]},null),(n()(),u._39(-1,null,["\n    "])),(n()(),u._18(27,0,null,null,0,"div",[["class","cancel-btn-header2"]],null,[[null,"click"]],function(n,e,l){var t=!0,i=n.component;"click"===e&&(t=!1!==i.oncrossClick()&&t);return t},null,null)),(n()(),u._39(-1,null,["\n  "])),(n()(),u._39(-1,null,["\n\n  "])),(n()(),u._18(30,0,null,null,16,"div",[["class","fuguCss fugu-messenger-main-div conversations-container"],["id","fugu-messenger-main-div"]],null,null,null,null,null)),(n()(),u._39(-1,null,["\n   "])),(n()(),u._18(32,0,null,null,13,"div",[["class","container"]],null,null,null,null,null)),(n()(),u._39(-1,null,["\n    "])),(n()(),u._18(34,0,null,null,10,"div",[["class","contentWrapper"]],null,[[null,"scroll"]],function(n,e,l){var t=!0,i=n.component;"scroll"===e&&(t=!1!==i.onAnnouncementHistoryScroll(l)&&t);return t},null,null)),(n()(),u._39(-1,null,["\n      "])),(n()(),u._12(16777216,null,null,1,null,Nt)),u._16(37,16384,null,0,L.k,[u._0,u.X],{ngIf:[0,"ngIf"]},null),(n()(),u._39(-1,null,["\n        "])),(n()(),u._12(16777216,null,null,1,null,Rt)),u._16(40,16384,null,0,L.k,[u._0,u.X],{ngIf:[0,"ngIf"]},null),(n()(),u._39(-1,null,["\n        "])),(n()(),u._12(16777216,null,null,1,null,Ut)),u._16(43,802816,null,0,L.j,[u._0,u.X,u.y],{ngForOf:[0,"ngForOf"]},null),(n()(),u._39(-1,null,["\n    "])),(n()(),u._39(-1,null,["\n"])),(n()(),u._39(-1,null,["\n  "])),(n()(),u._39(-1,null,["\n  "])),(n()(),u._12(16777216,null,null,1,null,Vt)),u._16(49,16384,null,0,L.k,[u._0,u.X],{ngIf:[0,"ngIf"]},null)],function(n,e){var l=e.component;n(e,8,0,"header-content",n(e,9,0,0!=l.announcementList.length)),n(e,25,0,0!=l.announcementList.length),n(e,37,0,l.showLoader),n(e,40,0,0==l.announcementList.length&&!l.showLoader),n(e,43,0,l.announcementList),n(e,49,0,l.showDeleteConfirmation)},null)}var Ht=u._13("app-announcements",O,function(n){return u._41(0,[(n()(),u._18(0,0,null,null,1,"app-announcements",[],null,null,null,qt,jt)),u._16(1,114688,null,0,O,[r.a,m.a,_.k],null,null)],function(n,e){n(e,1,0)},null)},{},{},[]),Bt=l("NG/o"),Yt=l("Mbdb");l.d(e,"LayoutModuleNgFactory",function(){return Gt});var Gt=u._14(P,[],function(n){return u._29([u._30(512,u.k,u._10,[[8,[q,Un,Lt,Ht]],[3,u.k],u.E]),u._30(4608,L.m,L.l,[u.A]),u._30(4608,Vn.D,Vn.D,[]),u._30(4608,Vn.g,Vn.g,[]),u._30(135680,x.a,x.a,[a.a,C.a,r.a,m.a]),u._30(512,L.b,L.b,[]),u._30(512,_.l,_.l,[[2,_.q],[2,_.k]]),u._30(512,Bt.a,Bt.a,[]),u._30(512,Vn.A,Vn.A,[]),u._30(512,Vn.m,Vn.m,[]),u._30(512,g.a,g.a,[]),u._30(512,Vn.w,Vn.w,[]),u._30(512,Yt.a,Yt.a,[]),u._30(512,P,P,[]),u._30(1024,_.i,function(){return[[],[{path:"",component:d,children:[{path:"",redirectTo:"conversations",pathMatch:"full"},{path:"conversations",component:b},{path:"chat/:channelId",component:T},{path:"announcements",component:O}]}]]},[])])})}});